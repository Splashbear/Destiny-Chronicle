(self.webpackChunkdestiny_chronicle=self.webpackChunkdestiny_chronicle||[]).push([[792],{505:function(wc){wc.exports=function(){"use strict";var Vs=function(u,d){return(Vs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(h[y]=g[y])})(u,d)},ve=function(){return(ve=Object.assign||function(u){for(var d,h=1,g=arguments.length;h<g;h++)for(var y in d=arguments[h])Object.prototype.hasOwnProperty.call(d,y)&&(u[y]=d[y]);return u}).apply(this,arguments)};function po(u,d,h){if(h||2===arguments.length)for(var g,y=0,_=d.length;y<_;y++)!g&&y in d||((g=g||Array.prototype.slice.call(d,0,y))[y]=d[y]);return u.concat(g||Array.prototype.slice.call(d))}var we=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vt=Object.keys,Te=Array.isArray;function Pt(u,d){return"object"!=typeof d||vt(d).forEach(function(h){u[h]=d[h]}),u}typeof Promise>"u"||we.Promise||(we.Promise=Promise);var Fr=Object.getPrototypeOf,Ft={}.hasOwnProperty;function le(u,d){return Ft.call(u,d)}function Lr(u,d){"function"==typeof d&&(d=d(Fr(u))),(typeof Reflect>"u"?vt:Reflect.ownKeys)(d).forEach(function(h){go(u,h,d[h])})}var Vh=Object.defineProperty;function go(u,d,h,g){Vh(u,d,Pt(h&&le(h,"get")&&"function"==typeof h.get?{get:h.get,set:h.set,configurable:!0}:{value:h,configurable:!0,writable:!0},g))}function Pn(u){return{from:function(d){return u.prototype=Object.create(d.prototype),go(u.prototype,"constructor",u),{extend:Lr.bind(null,u.prototype)}}}}var Fi=Object.getOwnPropertyDescriptor,jh=[].slice;function Vr(u,d,h){return jh.call(u,d,h)}function Ec(u,d){return d(u)}function Jo(u){if(!u)throw new Error("Assertion Failed")}function Tl(u){we.setImmediate?setImmediate(u):setTimeout(u,0)}function In(u,d){if("string"==typeof d&&le(u,d))return u[d];if(!d)return u;if("string"!=typeof d){for(var h=[],g=0,y=d.length;g<y;++g){var _=In(u,d[g]);h.push(_)}return h}var b=d.indexOf(".");if(-1!==b){var E=u[d.substr(0,b)];return null==E?void 0:In(E,d.substr(b+1))}}function Mt(u,d,h){if(u&&void 0!==d&&(!("isFrozen"in Object)||!Object.isFrozen(u)))if("string"!=typeof d&&"length"in d){Jo("string"!=typeof h&&"length"in h);for(var g=0,y=d.length;g<y;++g)Mt(u,d[g],h[g])}else{var _,b,E=d.indexOf(".");-1!==E?(_=d.substr(0,E),""===(b=d.substr(E+1))?void 0===h?Te(u)&&!isNaN(parseInt(_))?u.splice(_,1):delete u[_]:u[_]=h:Mt(E=(E=u[_])&&le(u,_)?E:u[_]={},b,h)):void 0===h?Te(u)&&!isNaN(parseInt(d))?u.splice(d,1):delete u[d]:u[d]=h}}function ei(u){var d,h={};for(d in u)le(u,d)&&(h[d]=u[d]);return h}var js=[].concat;function Li(u){return js.apply([],u)}var Ue="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Li([8,16,32,64].map(function(u){return["Int","Uint","Float"].map(function(d){return d+u+"Array"})}))).filter(function(u){return we[u]}),Ic=new Set(Ue.map(function(u){return we[u]})),jr=null;function Fn(u){return jr=new WeakMap,u=function d(h){if(!h||"object"!=typeof h)return h;var g=jr.get(h);if(g)return g;if(Te(h)){jr.set(h,g=[]);for(var y=0,_=h.length;y<_;++y)g.push(d(h[y]))}else if(Ic.has(h.constructor))g=h;else{var b,E=Fr(h);for(b in g=E===Object.prototype?{}:Object.create(E),jr.set(h,g),h)le(h,b)&&(g[b]=d(h[b]))}return g}(u),jr=null,u}var Bs={}.toString;function Us(u){return Bs.call(u).slice(8,-1)}var $s=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Bh="symbol"==typeof $s?function(u){var d;return null!=u&&(d=u[$s])&&d.apply(u)}:function(){return null};function an(u,d){return 0<=(d=u.indexOf(d))&&u.splice(d,1),0<=d}var Ln={};function Ht(u){var d,h,g,y;if(1===arguments.length){if(Te(u))return u.slice();if(this===Ln&&"string"==typeof u)return[u];if(y=Bh(u)){for(h=[];!(g=y.next()).done;)h.push(g.value);return h}if(null==u)return[u];if("number"!=typeof(d=u.length))return[u];for(h=new Array(d);d--;)h[d]=u[d];return h}for(d=arguments.length,h=new Array(d);d--;)h[d]=arguments[d];return h}var Mc=typeof Symbol<"u"?function(u){return"AsyncFunction"===u[Symbol.toStringTag]}:function(){return!1},Mn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Gs=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]),Uh={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function mo(u,d){this.name=u,this.message=d}function Sc(u,d){return u+". Errors: "+Object.keys(d).map(function(h){return d[h].toString()}).filter(function(h,g,y){return y.indexOf(h)===g}).join("\n")}function Hs(u,d,h,g){this.failures=d,this.failedKeys=g,this.successCount=h,this.message=Sc(u,d)}function cr(u,d){this.name="BulkError",this.failures=Object.keys(d).map(function(h){return d[h]}),this.failuresByPos=d,this.message=Sc(u,this.failures)}Pn(mo).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Pn(Hs).from(mo),Pn(cr).from(mo);var Tc=Mn.reduce(function(u,d){return u[d]=d+"Error",u},{}),a_=mo,de=Mn.reduce(function(u,d){var h=d+"Error";function g(y,_){this.name=h,y?"string"==typeof y?(this.message="".concat(y).concat(_?"\n "+_:""),this.inner=_||null):"object"==typeof y&&(this.message="".concat(y.name," ").concat(y.message),this.inner=y):(this.message=Uh[d]||h,this.inner=null)}return Pn(g).from(a_),u[d]=g,u},{});de.Syntax=SyntaxError,de.Type=TypeError,de.Range=RangeError;var Ac=Gs.reduce(function(u,d){return u[d+"Error"]=de[d],u},{}),Nc=Mn.reduce(function(u,d){return-1===["Syntax","Type","Range"].indexOf(d)&&(u[d+"Error"]=de[d]),u},{});function $e(){}function Vi(u){return u}function Al(u,d){return null==u||u===Vi?d:function(h){return d(u(h))}}function yo(u,d){return function(){u.apply(this,arguments),d.apply(this,arguments)}}function $h(u,d){return u===$e?d:function(){var h=u.apply(this,arguments);void 0!==h&&(arguments[0]=h);var g=this.onsuccess,y=this.onerror;this.onsuccess=null,this.onerror=null;var _=d.apply(this,arguments);return g&&(this.onsuccess=this.onsuccess?yo(g,this.onsuccess):g),y&&(this.onerror=this.onerror?yo(y,this.onerror):y),void 0!==_?_:h}}function Hh(u,d){return u===$e?d:function(){u.apply(this,arguments);var h=this.onsuccess,g=this.onerror;this.onsuccess=this.onerror=null,d.apply(this,arguments),h&&(this.onsuccess=this.onsuccess?yo(h,this.onsuccess):h),g&&(this.onerror=this.onerror?yo(g,this.onerror):g)}}function c_(u,d){return u===$e?d:function(h){var g=u.apply(this,arguments);Pt(h,g);var y=this.onsuccess,_=this.onerror;return this.onsuccess=null,this.onerror=null,h=d.apply(this,arguments),y&&(this.onsuccess=this.onsuccess?yo(y,this.onsuccess):y),_&&(this.onerror=this.onerror?yo(_,this.onerror):_),void 0===g?void 0===h?void 0:h:Pt(g,h)}}function Gh(u,d){return u===$e?d:function(){return!1!==d.apply(this,arguments)&&u.apply(this,arguments)}}function ji(u,d){return u===$e?d:function(){var h=u.apply(this,arguments);if(h&&"function"==typeof h.then){for(var g=this,y=arguments.length,_=new Array(y);y--;)_[y]=arguments[y];return h.then(function(){return d.apply(g,_)})}return d.apply(this,arguments)}}Nc.ModifyError=Hs,Nc.DexieError=mo,Nc.BulkError=cr;var cn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ur(u){cn=u}var Gs,vo={},lr=(Mn=(Mn=(Ue=typeof Promise>"u"?[]:function(){var u=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[u,Fr(u),u];var d=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[d,Fr(d),u]}())[1])&&Mn.then,(Gs=Ue[0])&&Gs.constructor),Bi=!!(Ue=Ue[2]),_o=function(u,d){Do.push([u,d]),Ui&&(queueMicrotask(Rc),Ui=!1)},Lt=!0,Ui=!0,Br=[],$i=[],dr=Vi,Vn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:$e,pgp:!1,env:{},finalize:$e},ue=Vn,Do=[],bo=0,qs=[];function oe(u){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var d=this._PSD=ue;if("function"!=typeof u){if(u!==vo)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&ti(this,this._value))}this._state=null,this._value=null,++d.ref,function h(g,y){try{y(function(_){if(null===g._state){if(_===g)throw new TypeError("A promise cannot be resolved with itself.");var b=g._lib&&ni();_&&"function"==typeof _.then?h(g,function(E,I){_ instanceof oe?_._then(E,I):_.then(E,I)}):(g._state=!0,g._value=_,Rl(g)),b&&fr()}},ti.bind(null,g))}catch(_){ti(g,_)}}(this,u)}var Hi={get:function(){var u=ue,d=qi;function h(g,y){var _=this,b=!u.global&&(u!==ue||d!==qi),E=b&&!$r(),I=new oe(function(A,R){Gi(_,new Ur(Tt(g,u,b,E),Tt(y,u,b,E),A,R,u))});return this._consoleTask&&(I._consoleTask=this._consoleTask),I}return h.prototype=vo,h},set:function(u){go(this,"then",u&&u.prototype===vo?Hi:{get:function(){return u},set:Hi.set})}};function Ur(u,d,h,g,y){this.onFulfilled="function"==typeof u?u:null,this.onRejected="function"==typeof d?d:null,this.resolve=h,this.reject=g,this.psd=y}function ti(u,d){var h,g;$i.push(d),null===u._state&&(h=u._lib&&ni(),d=dr(d),u._state=!1,u._value=d,g=u,Br.some(function(y){return y._value===g._value})||Br.push(g),Rl(u),h&&fr())}function Rl(u){var d=u._listeners;u._listeners=[];for(var h=0,g=d.length;h<g;++h)Gi(u,d[h]);var y=u._PSD;--y.ref||y.finalize(),0===bo&&(++bo,_o(function(){0==--bo&&ri()},[]))}function Gi(u,d){if(null!==u._state){var h=u._state?d.onFulfilled:d.onRejected;if(null===h)return(u._state?d.resolve:d.reject)(u._value);++d.psd.ref,++bo,_o(qh,[h,u,d])}else u._listeners.push(d)}function qh(u,d,h){try{var g,y=d._value;!d._state&&$i.length&&($i=[]),g=cn&&d._consoleTask?d._consoleTask.run(function(){return u(y)}):u(y),d._state||-1!==$i.indexOf(y)||function(_){for(var b=Br.length;b;)if(Br[--b]._value===_._value)return Br.splice(b,1)}(d),h.resolve(g)}catch(_){h.reject(_)}finally{0==--bo&&ri(),--h.psd.ref||h.psd.finalize()}}function Rc(){Hr(Vn,function(){ni()&&fr()})}function ni(){var u=Lt;return Ui=Lt=!1,u}function fr(){var u,d,h;do{for(;0<Do.length;)for(u=Do,Do=[],h=u.length,d=0;d<h;++d){var g=u[d];g[0].apply(null,g[1])}}while(0<Do.length);Ui=Lt=!0}function ri(){var u=Br;Br=[],u.forEach(function(g){g._PSD.onunhandled.call(null,g._value,g)});for(var d=qs.slice(0),h=d.length;h;)d[--h]()}function zs(u){return new oe(vo,!1,u)}function Ze(u,d){var h=ue;return function(){var g=ni(),y=ue;try{return pr(h,!0),u.apply(this,arguments)}catch(_){d&&d(_)}finally{pr(y,!1),g&&fr()}}}Lr(oe.prototype,{then:Hi,_then:function(u,d){Gi(this,new Ur(null,null,u,d,ue))},catch:function(u){if(1===arguments.length)return this.then(null,u);var d=u,h=arguments[1];return this.then(null,"function"==typeof d?function(g){return(g instanceof d?h:zs)(g)}:function(g){return(g&&g.name===d?h:zs)(g)})},finally:function(u){return this.then(function(d){return oe.resolve(u()).then(function(){return d})},function(d){return oe.resolve(u()).then(function(){return zs(d)})})},timeout:function(u,d){var h=this;return u<1/0?new oe(function(g,y){var _=setTimeout(function(){return y(new de.Timeout(d))},u);h.then(g,y).finally(clearTimeout.bind(null,_))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&go(oe.prototype,Symbol.toStringTag,"Dexie.Promise"),Vn.env=Gt(),Lr(oe,{all:function(){var u=Ht.apply(null,arguments).map(Ks);return new oe(function(d,h){0===u.length&&d([]);var g=u.length;u.forEach(function(y,_){return oe.resolve(y).then(function(b){u[_]=b,--g||d(u)},h)})})},resolve:function(u){return u instanceof oe?u:u&&"function"==typeof u.then?new oe(function(d,h){u.then(d,h)}):new oe(vo,!0,u)},reject:zs,race:function(){var u=Ht.apply(null,arguments).map(Ks);return new oe(function(d,h){u.map(function(g){return oe.resolve(g).then(d,h)})})},PSD:{get:function(){return ue},set:function(u){return ue=u}},totalEchoes:{get:function(){return qi}},newPSD:hr,usePSD:Hr,scheduler:{get:function(){return _o},set:function(u){_o=u}},rejectionMapper:{get:function(){return dr},set:function(u){dr=u}},follow:function(u,d){return new oe(function(h,g){return hr(function(y,_){var b=ue;b.unhandleds=[],b.onunhandled=_,b.finalize=yo(function(){var E,I=this;E=function(){0===I.unhandleds.length?y():_(I.unhandleds[0])},qs.push(function A(){E(),qs.splice(qs.indexOf(A),1)}),++bo,_o(function(){0==--bo&&ri()},[])},b.finalize),u()},d,h,g)})}}),lr&&(lr.allSettled&&go(oe,"allSettled",function(){var u=Ht.apply(null,arguments).map(Ks);return new oe(function(d){0===u.length&&d([]);var h=u.length,g=new Array(h);u.forEach(function(y,_){return oe.resolve(y).then(function(b){return g[_]={status:"fulfilled",value:b}},function(b){return g[_]={status:"rejected",reason:b}}).then(function(){return--h||d(g)})})})}),lr.any&&typeof AggregateError<"u"&&go(oe,"any",function(){var u=Ht.apply(null,arguments).map(Ks);return new oe(function(d,h){0===u.length&&h(new AggregateError([]));var g=u.length,y=new Array(g);u.forEach(function(_,b){return oe.resolve(_).then(function(E){return d(E)},function(E){y[b]=E,--g||h(new AggregateError(y))})})})}),lr.withResolvers&&(oe.withResolvers=lr.withResolvers));var St={awaits:0,echoes:0,id:0},xc=0,Kn=[],Ws=0,qi=0,_t=0;function hr(u,d,h,g){var y=ue,_=Object.create(y);return _.parent=y,_.ref=0,_.global=!1,_.id=++_t,_.env=Bi?{Promise:oe,PromiseProp:{value:oe,configurable:!0,writable:!0},all:oe.all,race:oe.race,allSettled:oe.allSettled,any:oe.any,resolve:oe.resolve,reject:oe.reject}:{},d&&Pt(_,d),++y.ref,_.finalize=function(){--this.parent.ref||this.parent.finalize()},g=Hr(_,u,h,g),0===_.ref&&_.finalize(),g}function oi(){return St.id||(St.id=++xc),++St.awaits,St.echoes+=100,St.id}function $r(){return!!St.awaits&&(0==--St.awaits&&(St.id=0),St.echoes=100*St.awaits,!0)}function Ks(u){return St.echoes&&u&&u.constructor===lr?(oi(),u.then(function(d){return $r(),d},function(d){return $r(),ft(d)})):u}function nn(){var u=Kn[Kn.length-1];Kn.pop(),pr(u,!1)}function pr(u,d){var h,g=ue;(d?!St.echoes||Ws++&&u===ue:!Ws||--Ws&&u===ue)||queueMicrotask(d?function(y){++qi,St.echoes&&0!=--St.echoes||(St.echoes=St.awaits=St.id=0),Kn.push(ue),pr(y,!0)}.bind(null,u):nn),u!==ue&&(ue=u,g===Vn&&(Vn.env=Gt()),Bi&&(h=Vn.env.Promise,d=u.env,(g.global||u.global)&&(Object.defineProperty(we,"Promise",d.PromiseProp),h.all=d.all,h.race=d.race,h.resolve=d.resolve,h.reject=d.reject,d.allSettled&&(h.allSettled=d.allSettled),d.any&&(h.any=d.any))))}function Gt(){var u=we.Promise;return Bi?{Promise:u,PromiseProp:Object.getOwnPropertyDescriptor(we,"Promise"),all:u.all,race:u.race,allSettled:u.allSettled,any:u.any,resolve:u.resolve,reject:u.reject}:{}}function Hr(u,d,h,g,y){var _=ue;try{return pr(u,!0),d(h,g,y)}finally{pr(_,!1)}}function Tt(u,d,h,g){return"function"!=typeof u?u:function(){var y=ue;h&&oi(),pr(d,!0);try{return u.apply(this,arguments)}finally{pr(y,!1),g&&queueMicrotask($r)}}}function dt(u){Promise===lr&&0===St.echoes?0===Ws?u():enqueueNativeMicroTask(u):setTimeout(u,0)}-1===(""+Mn).indexOf("[native code]")&&(oi=$r=$e);var ft=oe.reject,Gr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Oc="String expected.",U=[],Ys="__dbnames",jn="readonly",ii="readwrite";function qr(u,d){return u?d?function(){return u.apply(this,arguments)&&d.apply(this,arguments)}:u:d}var zh={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function zi(u){return"string"!=typeof u||/\./.test(u)?function(d){return d}:function(d){return void 0===d[u]&&u in d&&delete(d=Fn(d))[u],d}}function Yn(){throw de.Type()}function Re(u,d){try{var h=Co(u),g=Co(d);if(h!==g)return"Array"===h?1:"Array"===g?-1:"binary"===h?1:"binary"===g?-1:"string"===h?1:"string"===g?-1:"Date"===h?1:"Date"!==g?NaN:-1;switch(h){case"number":case"Date":case"string":return d<u?1:u<d?-1:0;case"binary":return function(y,_){for(var b=y.length,E=_.length,I=b<E?b:E,A=0;A<I;++A)if(y[A]!==_[A])return y[A]<_[A]?-1:1;return b===E?0:b<E?-1:1}(wo(u),wo(d));case"Array":return function(y,_){for(var b=y.length,E=_.length,I=b<E?b:E,A=0;A<I;++A){var R=Re(y[A],_[A]);if(0!==R)return R}return b===E?0:b<E?-1:1}(u,d)}}catch{}return NaN}function Co(u){var d=typeof u;return"object"!=d?d:ArrayBuffer.isView(u)||"ArrayBuffer"===(u=Us(u))?"binary":u}function wo(u){return u instanceof Uint8Array?u:ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):new Uint8Array(u)}var kc=(ze.prototype._trans=function(u,d,h){var g=this._tx||ue.trans,y=this.name,_=cn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===u?"read":"write"," ").concat(this.name));function b(A,R,C){if(!C.schema[y])throw new de.NotFound("Table "+y+" not part of transaction");return d(C.idbtrans,C)}var E=ni();try{var I=g&&g.db._novip===this.db._novip?g===ue.trans?g._promise(u,b,h):hr(function(){return g._promise(u,b,h)},{trans:g,transless:ue.transless||ue}):function A(R,C,O,S){if(R.idbdb&&(R._state.openComplete||ue.letThrough||R._vip)){var x=R._createTransaction(C,O,R._dbSchema);try{x.create(),R._state.PR1398_maxLoop=3}catch(k){return k.name===Tc.InvalidState&&R.isOpen()&&0<--R._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),R.close({disableAutoOpen:!1}),R.open().then(function(){return A(R,C,O,S)})):ft(k)}return x._promise(C,function(k,M){return hr(function(){return ue.trans=x,S(k,M,x)})}).then(function(k){if("readwrite"===C)try{x.idbtrans.commit()}catch{}return"readonly"===C?k:x._completion.then(function(){return k})})}if(R._state.openComplete)return ft(new de.DatabaseClosed(R._state.dbOpenError));if(!R._state.isBeingOpened){if(!R._state.autoOpen)return ft(new de.DatabaseClosed);R.open().catch($e)}return R._state.dbReadyPromise.then(function(){return A(R,C,O,S)})}(this.db,u,[this.name],b);return _&&(I._consoleTask=_,I=I.catch(function(A){return console.trace(A),ft(A)})),I}finally{E&&fr()}},ze.prototype.get=function(u,d){var h=this;return u&&u.constructor===Object?this.where(u).first(d):null==u?ft(new de.Type("Invalid argument to Table.get()")):this._trans("readonly",function(g){return h.core.get({trans:g,key:u}).then(function(y){return h.hook.reading.fire(y)})}).then(d)},ze.prototype.where=function(u){if("string"==typeof u)return new this.db.WhereClause(this,u);if(Te(u))return new this.db.WhereClause(this,"[".concat(u.join("+"),"]"));var d=vt(u);if(1===d.length)return this.where(d[0]).equals(u[d[0]]);var h=this.schema.indexes.concat(this.schema.primKey).filter(function(E){if(E.compound&&d.every(function(A){return 0<=E.keyPath.indexOf(A)})){for(var I=0;I<d.length;++I)if(-1===d.indexOf(E.keyPath[I]))return!1;return!0}return!1}).sort(function(E,I){return E.keyPath.length-I.keyPath.length})[0];if(h&&"\uffff"!==this.db._maxKey){var _=h.keyPath.slice(0,d.length);return this.where(_).equals(_.map(function(I){return u[I]}))}!h&&cn&&console.warn("The query ".concat(JSON.stringify(u)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(d.join("+"),"]"));var g=this.schema.idxByName;function y(E,I){return 0===Re(E,I)}_=(b=d.reduce(function(C,I){var A=C[0],R=C[1],O=(C=g[I],u[I]);return[A||C,A||!C?qr(R,C&&C.multi?function(S){return S=In(S,I),Te(S)&&S.some(function(x){return y(O,x)})}:function(S){return y(O,In(S,I))}):R]},[null,null]))[0];var b=b[1];return _?this.where(_.name).equals(u[_.keyPath]).filter(b):h?this.filter(b):this.where(d).equals("")},ze.prototype.filter=function(u){return this.toCollection().and(u)},ze.prototype.count=function(u){return this.toCollection().count(u)},ze.prototype.offset=function(u){return this.toCollection().offset(u)},ze.prototype.limit=function(u){return this.toCollection().limit(u)},ze.prototype.each=function(u){return this.toCollection().each(u)},ze.prototype.toArray=function(u){return this.toCollection().toArray(u)},ze.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ze.prototype.orderBy=function(u){return new this.db.Collection(new this.db.WhereClause(this,Te(u)?"[".concat(u.join("+"),"]"):u))},ze.prototype.reverse=function(){return this.toCollection().reverse()},ze.prototype.mapToClass=function(u){var d,h=this.db,g=this.name;function y(){return null!==d&&d.apply(this,arguments)||this}(this.schema.mappedClass=u).prototype instanceof Yn&&(function(I,A){if("function"!=typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function R(){this.constructor=I}Vs(I,A),I.prototype=null===A?Object.create(A):(R.prototype=A.prototype,new R)}(y,d=u),Object.defineProperty(y.prototype,"db",{get:function(){return h},enumerable:!1,configurable:!0}),y.prototype.table=function(){return g},u=y);for(var _=new Set,b=u.prototype;b;b=Fr(b))Object.getOwnPropertyNames(b).forEach(function(I){return _.add(I)});function E(I){if(!I)return I;var A,R=Object.create(u.prototype);for(A in I)if(!_.has(A))try{R[A]=I[A]}catch{}return R}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=E,this.hook("reading",E),u},ze.prototype.defineClass=function(){return this.mapToClass(function(u){Pt(this,u)})},ze.prototype.add=function(u,d){var h=this,g=this.schema.primKey,_=g.keyPath,b=u;return _&&g.auto&&(b=zi(_)(u)),this._trans("readwrite",function(E){return h.core.mutate({trans:E,type:"add",keys:null!=d?[d]:null,values:[b]})}).then(function(E){return E.numFailures?oe.reject(E.failures[0]):E.lastResult}).then(function(E){if(_)try{Mt(u,_,E)}catch{}return E})},ze.prototype.update=function(u,d){return"object"!=typeof u||Te(u)?this.where(":id").equals(u).modify(d):void 0===(u=In(u,this.schema.primKey.keyPath))?ft(new de.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(u).modify(d)},ze.prototype.put=function(u,d){var h=this,g=this.schema.primKey,_=g.keyPath,b=u;return _&&g.auto&&(b=zi(_)(u)),this._trans("readwrite",function(E){return h.core.mutate({trans:E,type:"put",values:[b],keys:null!=d?[d]:null})}).then(function(E){return E.numFailures?oe.reject(E.failures[0]):E.lastResult}).then(function(E){if(_)try{Mt(u,_,E)}catch{}return E})},ze.prototype.delete=function(u){var d=this;return this._trans("readwrite",function(h){return d.core.mutate({trans:h,type:"delete",keys:[u]})}).then(function(h){return h.numFailures?oe.reject(h.failures[0]):void 0})},ze.prototype.clear=function(){var u=this;return this._trans("readwrite",function(d){return u.core.mutate({trans:d,type:"deleteRange",range:zh})}).then(function(d){return d.numFailures?oe.reject(d.failures[0]):void 0})},ze.prototype.bulkGet=function(u){var d=this;return this._trans("readonly",function(h){return d.core.getMany({keys:u,trans:h}).then(function(g){return g.map(function(y){return d.hook.reading.fire(y)})})})},ze.prototype.bulkAdd=function(u,d,h){var g=this,y=Array.isArray(d)?d:void 0,_=(h=h||(y?void 0:d))?h.allKeys:void 0;return this._trans("readwrite",function(b){var E=(A=g.schema.primKey).auto;if((A=A.keyPath)&&y)throw new de.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(y&&y.length!==u.length)throw new de.InvalidArgument("Arguments objects and keys must have the same length");var I=u.length,A=A&&E?u.map(zi(A)):u;return g.core.mutate({trans:b,type:"add",keys:y,values:A,wantResults:_}).then(function(x){var C=x.numFailures,O=x.results,S=x.lastResult;if(x=x.failures,0===C)return _?O:S;throw new cr("".concat(g.name,".bulkAdd(): ").concat(C," of ").concat(I," operations failed"),x)})})},ze.prototype.bulkPut=function(u,d,h){var g=this,y=Array.isArray(d)?d:void 0,_=(h=h||(y?void 0:d))?h.allKeys:void 0;return this._trans("readwrite",function(b){var E=(A=g.schema.primKey).auto;if((A=A.keyPath)&&y)throw new de.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(y&&y.length!==u.length)throw new de.InvalidArgument("Arguments objects and keys must have the same length");var I=u.length,A=A&&E?u.map(zi(A)):u;return g.core.mutate({trans:b,type:"put",keys:y,values:A,wantResults:_}).then(function(x){var C=x.numFailures,O=x.results,S=x.lastResult;if(x=x.failures,0===C)return _?O:S;throw new cr("".concat(g.name,".bulkPut(): ").concat(C," of ").concat(I," operations failed"),x)})})},ze.prototype.bulkUpdate=function(u){var d=this,h=this.core,g=u.map(function(b){return b.key}),y=u.map(function(b){return b.changes}),_=[];return this._trans("readwrite",function(b){return h.getMany({trans:b,keys:g,cache:"clone"}).then(function(E){var I=[],A=[];u.forEach(function(C,O){var S=C.key,x=C.changes,k=E[O];if(k){for(var M=0,N=Object.keys(x);M<N.length;M++){var P=N[M],L=x[P];if(P===d.schema.primKey.keyPath){if(0!==Re(L,S))throw new de.Constraint("Cannot update primary key in bulkUpdate()")}else Mt(k,P,L)}_.push(O),I.push(S),A.push(k)}});var R=I.length;return h.mutate({trans:b,type:"put",keys:I,values:A,updates:{keys:g,changeSpecs:y}}).then(function(C){var O=C.numFailures,S=C.failures;if(0===O)return R;for(var x=0,k=Object.keys(S);x<k.length;x++){var M,N=k[x],P=_[Number(N)];null!=P&&(M=S[N],delete S[N],S[P]=M)}throw new cr("".concat(d.name,".bulkUpdate(): ").concat(O," of ").concat(R," operations failed"),S)})})})},ze.prototype.bulkDelete=function(u){var d=this,h=u.length;return this._trans("readwrite",function(g){return d.core.mutate({trans:g,type:"delete",keys:u})}).then(function(b){var y=b.numFailures,_=b.lastResult;if(b=b.failures,0===y)return _;throw new cr("".concat(d.name,".bulkDelete(): ").concat(y," of ").concat(h," operations failed"),b)})},ze);function ze(){}function Zn(u){function d(b,E){if(E){for(var I=arguments.length,A=new Array(I-1);--I;)A[I-1]=arguments[I];return h[b].subscribe.apply(null,A),u}if("string"==typeof b)return h[b]}var h={};d.addEventType=_;for(var g=1,y=arguments.length;g<y;++g)_(arguments[g]);return d;function _(b,E,I){if("object"!=typeof b){var A;E=E||Gh;var R={subscribers:[],fire:I=I||$e,subscribe:function(C){-1===R.subscribers.indexOf(C)&&(R.subscribers.push(C),R.fire=E(R.fire,C))},unsubscribe:function(C){R.subscribers=R.subscribers.filter(function(O){return O!==C}),R.fire=R.subscribers.reduce(E,I)}};return h[b]=d[b]=R}vt(A=b).forEach(function(C){var O=A[C];if(Te(O))_(C,A[C][0],A[C][1]);else{if("asap"!==O)throw new de.InvalidArgument("Invalid event config");var S=_(C,Vi,function(){for(var x=arguments.length,k=new Array(x);x--;)k[x]=arguments[x];S.subscribers.forEach(function(M){Tl(function(){M.apply(null,k)})})})}})}}function Zs(u,d){return Pn(d).from({prototype:u}),d}function We(u,d){return!(u.filter||u.algorithm||u.or)&&(d?u.justLimit:!u.replayFilter)}function xl(u,d){u.filter=qr(u.filter,d)}function Ol(u,d,h){var g=u.replayFilter;u.replayFilter=g?function(){return qr(g(),d())}:d,u.justLimit=h&&!g}function je(u,d){if(u.isPrimKey)return d.primaryKey;var h=d.getIndexByKeyPath(u.index);if(!h)throw new de.Schema("KeyPath "+u.index+" on object store "+d.name+" is not indexed");return h}function kl(u,d,h){var g=je(u,d.schema);return d.openCursor({trans:h,values:!u.keysOnly,reverse:"prev"===u.dir,unique:!!u.unique,query:{index:g,range:u.range}})}function it(u,d,h,g){var y=u.replayFilter?qr(u.filter,u.replayFilter()):u.filter;if(u.or){var _={},b=function(E,I,A){var R,C;y&&!y(I,A,function(O){return I.stop(O)},function(O){return I.fail(O)})||("[object ArrayBuffer]"==(C=""+(R=I.primaryKey))&&(C=""+new Uint8Array(R)),le(_,C)||(_[C]=!0,d(E,I,A)))};return Promise.all([u.or._iterate(b,h),Qs(kl(u,g,h),u.algorithm,b,!u.keysOnly&&u.valueMapper)])}return Qs(kl(u,g,h),qr(u.algorithm,y),d,!u.keysOnly&&u.valueMapper)}function Qs(u,d,h,g){var y=Ze(g?function(_,b,E){return h(g(_),b,E)}:h);return u.then(function(_){if(_)return _.start(function(){var b=function(){return _.continue()};d&&!d(_,function(E){return b=E},function(E){_.stop(E),b=$e},function(E){_.fail(E),b=$e})||y(_.value,_,function(E){return b=E}),b()})})}var Xs=(Pl.prototype.execute=function(u){var d=this["@@propmod"];if(void 0!==d.add){var h=d.add;if(Te(h))return po(po([],Te(u)?u:[],!0),h,!0).sort();if("number"==typeof h)return(Number(u)||0)+h;if("bigint"==typeof h)try{return BigInt(u)+h}catch{return BigInt(0)+h}throw new TypeError("Invalid term ".concat(h))}if(void 0!==d.remove){var g=d.remove;if(Te(g))return Te(u)?u.filter(function(y){return!g.includes(y)}).sort():[];if("number"==typeof g)return Number(u)-g;if("bigint"==typeof g)try{return BigInt(u)-g}catch{return BigInt(0)-g}throw new TypeError("Invalid subtrahend ".concat(g))}return(h=null===(h=d.replacePrefix)||void 0===h?void 0:h[0])&&"string"==typeof u&&u.startsWith(h)?d.replacePrefix[1]+u.substring(h.length):u},Pl);function Pl(u){this["@@propmod"]=u}var Qe=(ne.prototype._read=function(u,d){var h=this._ctx;return h.error?h.table._trans(null,ft.bind(null,h.error)):h.table._trans("readonly",u).then(d)},ne.prototype._write=function(u){var d=this._ctx;return d.error?d.table._trans(null,ft.bind(null,d.error)):d.table._trans("readwrite",u,"locked")},ne.prototype._addAlgorithm=function(u){var d=this._ctx;d.algorithm=qr(d.algorithm,u)},ne.prototype._iterate=function(u,d){return it(this._ctx,u,d,this._ctx.table.core)},ne.prototype.clone=function(u){var d=Object.create(this.constructor.prototype),h=Object.create(this._ctx);return u&&Pt(h,u),d._ctx=h,d},ne.prototype.raw=function(){return this._ctx.valueMapper=null,this},ne.prototype.each=function(u){var d=this._ctx;return this._read(function(h){return it(d,u,h,d.table.core)})},ne.prototype.count=function(u){var d=this;return this._read(function(h){var g=d._ctx,y=g.table.core;if(We(g,!0))return y.count({trans:h,query:{index:je(g,y.schema),range:g.range}}).then(function(b){return Math.min(b,g.limit)});var _=0;return it(g,function(){return++_,!1},h,y).then(function(){return _})}).then(u)},ne.prototype.sortBy=function(u,d){var h=u.split(".").reverse(),g=h[0],y=h.length-1;function _(I,A){return A?_(I[h[A]],A-1):I[g]}var b="next"===this._ctx.dir?1:-1;function E(I,A){return Re(_(I,y),_(A,y))*b}return this.toArray(function(I){return I.sort(E)}).then(d)},ne.prototype.toArray=function(u){var d=this;return this._read(function(h){var g=d._ctx;if("next"===g.dir&&We(g,!0)&&0<g.limit){var y=g.valueMapper,_=je(g,g.table.core.schema);return g.table.core.query({trans:h,limit:g.limit,values:!0,query:{index:_,range:g.range}}).then(function(E){return E=E.result,y?E.map(y):E})}var b=[];return it(g,function(E){return b.push(E)},h,g.table.core).then(function(){return b})},u)},ne.prototype.offset=function(u){var d=this._ctx;return u<=0||(d.offset+=u,We(d)?Ol(d,function(){var h=u;return function(g,y){return 0===h||(1===h?--h:y(function(){g.advance(h),h=0}),!1)}}):Ol(d,function(){var h=u;return function(){return--h<0}})),this},ne.prototype.limit=function(u){return this._ctx.limit=Math.min(this._ctx.limit,u),Ol(this._ctx,function(){var d=u;return function(h,g,y){return--d<=0&&g(y),0<=d}},!0),this},ne.prototype.until=function(u,d){return xl(this._ctx,function(h,g,y){return!u(h.value)||(g(y),d)}),this},ne.prototype.first=function(u){return this.limit(1).toArray(function(d){return d[0]}).then(u)},ne.prototype.last=function(u){return this.reverse().first(u)},ne.prototype.filter=function(u){var d;return xl(this._ctx,function(h){return u(h.value)}),(d=this._ctx).isMatch=qr(d.isMatch,u),this},ne.prototype.and=function(u){return this.filter(u)},ne.prototype.or=function(u){return new this.db.WhereClause(this._ctx.table,u,this)},ne.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ne.prototype.desc=function(){return this.reverse()},ne.prototype.eachKey=function(u){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(h,g){u(g.key,g)})},ne.prototype.eachUniqueKey=function(u){return this._ctx.unique="unique",this.eachKey(u)},ne.prototype.eachPrimaryKey=function(u){var d=this._ctx;return d.keysOnly=!d.isMatch,this.each(function(h,g){u(g.primaryKey,g)})},ne.prototype.keys=function(u){var d=this._ctx;d.keysOnly=!d.isMatch;var h=[];return this.each(function(g,y){h.push(y.key)}).then(function(){return h}).then(u)},ne.prototype.primaryKeys=function(u){var d=this._ctx;if("next"===d.dir&&We(d,!0)&&0<d.limit)return this._read(function(g){var y=je(d,d.table.core.schema);return d.table.core.query({trans:g,values:!1,limit:d.limit,query:{index:y,range:d.range}})}).then(function(g){return g.result}).then(u);d.keysOnly=!d.isMatch;var h=[];return this.each(function(g,y){h.push(y.primaryKey)}).then(function(){return h}).then(u)},ne.prototype.uniqueKeys=function(u){return this._ctx.unique="unique",this.keys(u)},ne.prototype.firstKey=function(u){return this.limit(1).keys(function(d){return d[0]}).then(u)},ne.prototype.lastKey=function(u){return this.reverse().firstKey(u)},ne.prototype.distinct=function(){var u;if(!(u=(u=this._ctx).index&&u.table.schema.idxByName[u.index])||!u.multi)return this;var d={};return xl(this._ctx,function(y){var g=y.primaryKey.toString();return y=le(d,g),d[g]=!0,!y}),this},ne.prototype.modify=function(u){var d=this,h=this._ctx;return this._write(function(g){var y,_,b;b="function"==typeof u?u:(y=vt(u),_=y.length,function(M){for(var N=!1,P=0;P<_;++P){var L=y[P],B=u[L],q=In(M,L);B instanceof Xs?(Mt(M,L,B.execute(q)),N=!0):q!==B&&(Mt(M,L,B),N=!0)}return N});var C,E=h.table.core,I=(C=E.schema.primaryKey).outbound,A=C.extractKey,R=200;function O(M,L){var P=L.failures;x+=M-(L=L.numFailures);for(var B=0,q=vt(P);B<q.length;B++)S.push(P[q[B]])}(C=d.db._options.modifyChunkSize)&&(R="object"==typeof C?C[E.name]||C["*"]||200:C);var S=[],x=0,k=[];return d.clone().primaryKeys().then(function(M){var P=We(h)&&h.limit===1/0&&("function"!=typeof u||u===si)&&{index:h.index,range:h.range};return function N(L){var B=Math.min(R,M.length-L);return E.getMany({trans:g,keys:M.slice(L,L+B),cache:"immutable"}).then(function(q){for(var te=[],K=[],Z=I?[]:null,re=[],X=0;X<B;++X){var se=q[X],Ee={value:Fn(se),primKey:M[L+X]};!1!==b.call(Ee,Ee.value,Ee)&&(null==Ee.value?re.push(M[L+X]):I||0===Re(A(se),A(Ee.value))?(K.push(Ee.value),I&&Z.push(M[L+X])):(re.push(M[L+X]),te.push(Ee.value)))}return Promise.resolve(0<te.length&&E.mutate({trans:g,type:"add",values:te}).then(function(ke){for(var xe in ke.failures)re.splice(parseInt(xe),1);O(te.length,ke)})).then(function(){return(0<K.length||P&&"object"==typeof u)&&E.mutate({trans:g,type:"put",keys:Z,values:K,criteria:P,changeSpec:"function"!=typeof u&&u,isAdditionalChunk:0<L}).then(function(ke){return O(K.length,ke)})}).then(function(){return(0<re.length||P&&u===si)&&E.mutate({trans:g,type:"delete",keys:re,criteria:P,isAdditionalChunk:0<L}).then(function(ke){return O(re.length,ke)})}).then(function(){return M.length>L+B&&N(L+R)})})}(0).then(function(){if(0<S.length)throw new Hs("Error modifying one or more objects",S,x,k);return M.length})})})},ne.prototype.delete=function(){var u=this._ctx,d=u.range;return We(u)&&(u.isPrimKey||3===d.type)?this._write(function(h){var y=d;return u.table.core.count({trans:h,query:{index:u.table.core.schema.primaryKey,range:y}}).then(function(_){return u.table.core.mutate({trans:h,type:"deleteRange",range:y}).then(function(b){var E=b.failures;if(b=b.numFailures)throw new Hs("Could not delete some values",Object.keys(E).map(function(I){return E[I]}),_-b);return _-b})})}):this.modify(si)},ne);function ne(){}var si=function(u,d){return d.value=null};function un(u,d){return u<d?-1:u===d?0:1}function u_(u,d){return d<u?-1:u===d?0:1}function ln(u,d,h){return(u=u instanceof Kh?new u.Collection(u):u)._ctx.error=new(h||TypeError)(d),u}function Wi(u){return new u.Collection(u,function(){return Wh("")}).limit(0)}function Qn(u,d,h,g){var y,_,b,E,I,A,R,C=h.length;if(!h.every(function(x){return"string"==typeof x}))return ln(u,Oc);function O(x){y="next"===x?function(M){return M.toUpperCase()}:function(M){return M.toLowerCase()},_="next"===x?function(M){return M.toLowerCase()}:function(M){return M.toUpperCase()},b="next"===x?un:u_;var k=h.map(function(M){return{lower:_(M),upper:y(M)}}).sort(function(M,N){return b(M.lower,N.lower)});E=k.map(function(M){return M.upper}),I=k.map(function(M){return M.lower}),R="next"===(A=x)?"":g}O("next"),(u=new u.Collection(u,function(){return Eo(E[0],I[C-1]+g)}))._ondirectionchange=function(x){O(x)};var S=0;return u._addAlgorithm(function(x,k,M){var N=x.key;if("string"!=typeof N)return!1;var P=_(N);if(d(P,I,S))return!0;for(var L=null,B=S;B<C;++B){var q=function(te,K,Z,re,X,se){for(var Ee=Math.min(te.length,re.length),ke=-1,xe=0;xe<Ee;++xe){var rn=K[xe];if(rn!==re[xe])return X(te[xe],Z[xe])<0?te.substr(0,xe)+Z[xe]+Z.substr(xe+1):X(te[xe],re[xe])<0?te.substr(0,xe)+re[xe]+Z.substr(xe+1):0<=ke?te.substr(0,ke)+K[ke]+Z.substr(ke+1):null;X(te[xe],rn)<0&&(ke=xe)}return Ee<re.length&&"next"===se?te+Z.substr(te.length):Ee<te.length&&"prev"===se?te.substr(0,Z.length):ke<0?null:te.substr(0,ke)+re[ke]+Z.substr(ke+1)}(N,P,E[B],I[B],b,A);null===q&&null===L?S=B+1:(null===L||0<b(L,q))&&(L=q)}return k(null!==L?function(){x.continue(L+R)}:M),!1}),u}function Eo(u,d,h,g){return{type:2,lower:u,upper:d,lowerOpen:h,upperOpen:g}}function Wh(u){return{type:1,lower:u,upper:u}}var Kh=(Object.defineProperty(Vt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Vt.prototype.between=function(u,d,h,g){h=!1!==h,g=!0===g;try{return 0<this._cmp(u,d)||0===this._cmp(u,d)&&(h||g)&&(!h||!g)?Wi(this):new this.Collection(this,function(){return Eo(u,d,!h,!g)})}catch{return ln(this,Gr)}},Vt.prototype.equals=function(u){return null==u?ln(this,Gr):new this.Collection(this,function(){return Wh(u)})},Vt.prototype.above=function(u){return null==u?ln(this,Gr):new this.Collection(this,function(){return Eo(u,void 0,!0)})},Vt.prototype.aboveOrEqual=function(u){return null==u?ln(this,Gr):new this.Collection(this,function(){return Eo(u,void 0,!1)})},Vt.prototype.below=function(u){return null==u?ln(this,Gr):new this.Collection(this,function(){return Eo(void 0,u,!1,!0)})},Vt.prototype.belowOrEqual=function(u){return null==u?ln(this,Gr):new this.Collection(this,function(){return Eo(void 0,u)})},Vt.prototype.startsWith=function(u){return"string"!=typeof u?ln(this,Oc):this.between(u,u+"\uffff",!0,!0)},Vt.prototype.startsWithIgnoreCase=function(u){return""===u?this.startsWith(u):Qn(this,function(d,h){return 0===d.indexOf(h[0])},[u],"\uffff")},Vt.prototype.equalsIgnoreCase=function(u){return Qn(this,function(d,h){return d===h[0]},[u],"")},Vt.prototype.anyOfIgnoreCase=function(){var u=Ht.apply(Ln,arguments);return 0===u.length?Wi(this):Qn(this,function(d,h){return-1!==h.indexOf(d)},u,"")},Vt.prototype.startsWithAnyOfIgnoreCase=function(){var u=Ht.apply(Ln,arguments);return 0===u.length?Wi(this):Qn(this,function(d,h){return h.some(function(g){return 0===d.indexOf(g)})},u,"\uffff")},Vt.prototype.anyOf=function(){var u=this,d=Ht.apply(Ln,arguments),h=this._cmp;try{d.sort(h)}catch{return ln(this,Gr)}if(0===d.length)return Wi(this);var g=new this.Collection(this,function(){return Eo(d[0],d[d.length-1])});g._ondirectionchange=function(_){d.sort(h="next"===_?u._ascending:u._descending)};var y=0;return g._addAlgorithm(function(_,b,E){for(var I=_.key;0<h(I,d[y]);)if(++y===d.length)return b(E),!1;return 0===h(I,d[y])||(b(function(){_.continue(d[y])}),!1)}),g},Vt.prototype.notEqual=function(u){return this.inAnyRange([[-1/0,u],[u,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Vt.prototype.noneOf=function(){var u=Ht.apply(Ln,arguments);if(0===u.length)return new this.Collection(this);try{u.sort(this._ascending)}catch{return ln(this,Gr)}var d=u.reduce(function(h,g){return h?h.concat([[h[h.length-1][1],g]]):[[-1/0,g]]},null);return d.push([u[u.length-1],this.db._maxKey]),this.inAnyRange(d,{includeLowers:!1,includeUppers:!1})},Vt.prototype.inAnyRange=function(N,d){var h=this,g=this._cmp,y=this._ascending,_=this._descending,b=this._min,E=this._max;if(0===N.length)return Wi(this);if(!N.every(function(P){return void 0!==P[0]&&void 0!==P[1]&&y(P[0],P[1])<=0}))return ln(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",de.InvalidArgument);var R,I=!d||!1!==d.includeLowers,A=d&&!0===d.includeUppers,C=y;function O(P,L){return C(P[0],L[0])}try{(R=N.reduce(function(P,L){for(var B=0,q=P.length;B<q;++B){var te=P[B];if(g(L[0],te[1])<0&&0<g(L[1],te[0])){te[0]=b(te[0],L[0]),te[1]=E(te[1],L[1]);break}}return B===q&&P.push(L),P},[])).sort(O)}catch{return ln(this,Gr)}var S=0,x=A?function(P){return 0<y(P,R[S][1])}:function(P){return 0<=y(P,R[S][1])},k=I?function(P){return 0<_(P,R[S][0])}:function(P){return 0<=_(P,R[S][0])},M=x;return(N=new this.Collection(this,function(){return Eo(R[0][0],R[R.length-1][1],!I,!A)}))._ondirectionchange=function(P){C="next"===P?(M=x,y):(M=k,_),R.sort(O)},N._addAlgorithm(function(P,L,B){for(var q,te=P.key;M(te);)if(++S===R.length)return L(B),!1;return!x(q=te)&&!k(q)||(0===h._cmp(te,R[S][1])||0===h._cmp(te,R[S][0])||L(function(){P.continue(C===y?R[S][0]:R[S][1])}),!1)}),N},Vt.prototype.startsWithAnyOf=function(){var u=Ht.apply(Ln,arguments);return u.every(function(d){return"string"==typeof d})?0===u.length?Wi(this):this.inAnyRange(u.map(function(d){return[d,d+"\uffff"]})):ln(this,"startsWithAnyOf() only works with strings")},Vt);function Vt(){}function Xn(u){return Ze(function(d){return Js(d),u(d.target.error),!1})}function Js(u){u.stopPropagation&&u.stopPropagation(),u.preventDefault&&u.preventDefault()}var Ki="storagemutated",qt="x-storagemutated-1",ce=Zn(null,Ki),l_=(gr.prototype._lock=function(){return Jo(!ue.global),++this._reculock,1!==this._reculock||ue.global||(ue.lockOwnerFor=this),this},gr.prototype._unlock=function(){if(Jo(!ue.global),0==--this._reculock)for(ue.global||(ue.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var u=this._blockedFuncs.shift();try{Hr(u[1],u[0])}catch{}}return this},gr.prototype._locked=function(){return this._reculock&&ue.lockOwnerFor!==this},gr.prototype.create=function(u){var d=this;if(!this.mode)return this;var h=this.db.idbdb,g=this.db._state.dbOpenError;if(Jo(!this.idbtrans),!u&&!h)switch(g&&g.name){case"DatabaseClosedError":throw new de.DatabaseClosed(g);case"MissingAPIError":throw new de.MissingAPI(g.message,g);default:throw new de.OpenFailed(g)}if(!this.active)throw new de.TransactionInactive;return Jo(null===this._completion._state),(u=this.idbtrans=u||(this.db.core||h).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Ze(function(y){Js(y),d._reject(u.error)}),u.onabort=Ze(function(y){Js(y),d.active&&d._reject(new de.Abort(u.error)),d.active=!1,d.on("abort").fire(y)}),u.oncomplete=Ze(function(){d.active=!1,d._resolve(),"mutatedParts"in u&&ce.storagemutated.fire(u.mutatedParts)}),this},gr.prototype._promise=function(u,d,h){var g=this;if("readwrite"===u&&"readwrite"!==this.mode)return ft(new de.ReadOnly("Transaction is readonly"));if(!this.active)return ft(new de.TransactionInactive);if(this._locked())return new oe(function(_,b){g._blockedFuncs.push([function(){g._promise(u,d,h).then(_,b)},ue])});if(h)return hr(function(){var _=new oe(function(b,E){g._lock();var I=d(b,E,g);I&&I.then&&I.then(b,E)});return _.finally(function(){return g._unlock()}),_._lib=!0,_});var y=new oe(function(_,b){var E=d(_,b,g);E&&E.then&&E.then(_,b)});return y._lib=!0,y},gr.prototype._root=function(){return this.parent?this.parent._root():this},gr.prototype.waitFor=function(u){var d,h=this._root(),g=oe.resolve(u);h._waitingFor?h._waitingFor=h._waitingFor.then(function(){return g}):(h._waitingFor=g,h._waitingQueue=[],d=h.idbtrans.objectStore(h.storeNames[0]),function _(){for(++h._spinCount;h._waitingQueue.length;)h._waitingQueue.shift()();h._waitingFor&&(d.get(-1/0).onsuccess=_)}());var y=h._waitingFor;return new oe(function(_,b){g.then(function(E){return h._waitingQueue.push(Ze(_.bind(null,E)))},function(E){return h._waitingQueue.push(Ze(b.bind(null,E)))}).finally(function(){h._waitingFor===y&&(h._waitingFor=null)})})},gr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new de.Abort))},gr.prototype.table=function(u){var d=this._memoizedTables||(this._memoizedTables={});if(le(d,u))return d[u];var h=this.schema[u];if(!h)throw new de.NotFound("Table "+u+" not part of transaction");return(h=new this.db.Table(u,h,this)).core=this.db.core.table(u),d[u]=h},gr);function gr(){}function Fl(u,d,h,g,y,_,b){return{name:u,keyPath:d,unique:h,multi:g,auto:y,compound:_,src:(h&&!b?"&":"")+(g?"*":"")+(y?"++":"")+Yh(d)}}function Yh(u){return"string"==typeof u?u:u?"["+[].join.call(u,"+")+"]":""}function Ll(u,d,h){return{name:u,primKey:d,indexes:h,mappedClass:null,idxByName:(g=function(y){return[y.name,y]},h.reduce(function(y,_,b){return(b=g(_))&&(y[b[0]]=b[1]),y},{}))};var g}var ie=function(u){try{return u.only([[]]),ie=function(){return[[]]},[[]]}catch{return ie=function(){return"\uffff"},"\uffff"}};function Vl(u){return null==u?function(){}:"string"==typeof u?1===(d=u).split(".").length?function(h){return h[d]}:function(h){return In(h,d)}:function(h){return In(h,u)};var d}function Io(u){return[].slice.call(u)}var ea=0;function Yi(u){return null==u?":id":"string"==typeof u?u:"[".concat(u.join("+"),"]")}function jl(u,d,I){function g(M){if(3===M.type)return null;if(4===M.type)throw new Error("Cannot convert never type to IDBKeyRange");var S=M.lower,x=M.upper,k=M.lowerOpen;return M=M.upperOpen,void 0===S?void 0===x?null:d.upperBound(x,!!M):void 0===x?d.lowerBound(S,!!k):d.bound(S,x,!!k,!!M)}var _,b,E,A=(b=I,E=Io((_=u).objectStoreNames),R={schema:{name:_.name,tables:E.map(function(O){return b.objectStore(O)}).map(function(O){var S=O.keyPath,M=O.autoIncrement,x=Te(S),k={};return M={name:O.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==S,compound:x,keyPath:S,autoIncrement:M,unique:!0,extractKey:Vl(S)},indexes:Io(O.indexNames).map(function(N){return O.index(N)}).map(function(B){var L=B.unique,q=B.multiEntry;return q={name:B.name,compound:Te(B=B.keyPath),keyPath:B,unique:L,multiEntry:q,extractKey:Vl(B)},k[Yi(B)]=q}),getIndexByKeyPath:function(N){return k[Yi(N)]}},k[":id"]=M.primaryKey,null!=S&&(k[Yi(S)]=M.primaryKey),M})},hasGetAll:0<E.length&&"getAll"in b.objectStore(E[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}).hasGetAll,R=(I=R.schema).tables.map(function y(O){var S,x=O.name;return{name:x,schema:O,mutate:function(k){var M=k.trans,N=k.type,P=k.keys,L=k.values,B=k.range;return new Promise(function(q,te){q=Ze(q);var K=M.objectStore(x),Z=null==K.keyPath,re="put"===N||"add"===N;if(!re&&"delete"!==N&&"deleteRange"!==N)throw new Error("Invalid operation type: "+N);var X,se=(P||L||{length:1}).length;if(P&&L&&P.length!==L.length)throw new Error("Given keys array must have same length as given values array.");if(0===se)return q({numFailures:0,failures:{},results:[],lastResult:void 0});function Ee(Nt){++rn,Js(Nt)}var ke=[],xe=[],rn=0;if("deleteRange"===N){if(4===B.type)return q({numFailures:rn,failures:xe,results:[],lastResult:void 0});ke.push(X=3===B.type?K.clear():K.delete(g(B)))}else{var Ie=(Z=re?Z?[L,P]:[L,null]:[P,null])[0],st=Z[1];if(re)for(var zt=0;zt<se;++zt)ke.push(X=st&&void 0!==st[zt]?K[N](Ie[zt],st[zt]):K[N](Ie[zt])),X.onerror=Ee;else for(zt=0;zt<se;++zt)ke.push(X=K[N](Ie[zt])),X.onerror=Ee}function di(Nt){Nt=Nt.target.result,ke.forEach(function(Yr,ns){return null!=Yr.error&&(xe[ns]=Yr.error)}),q({numFailures:rn,failures:xe,results:"delete"===N?P:ke.map(function(Yr){return Yr.result}),lastResult:Nt})}X.onerror=function(Nt){Ee(Nt),di(Nt)},X.onsuccess=di})},getMany:function(k){var M=k.trans,N=k.keys;return new Promise(function(P,L){P=Ze(P);for(var B,q=M.objectStore(x),te=N.length,K=new Array(te),Z=0,re=0,X=function(ke){K[(ke=ke.target)._pos]=ke.result,++re===Z&&P(K)},se=Xn(L),Ee=0;Ee<te;++Ee)null!=N[Ee]&&((B=q.get(N[Ee]))._pos=Ee,B.onsuccess=X,B.onerror=se,++Z);0===Z&&P(K)})},get:function(k){var M=k.trans,N=k.key;return new Promise(function(P,L){P=Ze(P);var B=M.objectStore(x).get(N);B.onsuccess=function(q){return P(q.target.result)},B.onerror=Xn(L)})},query:(S=A,function(k){return new Promise(function(M,N){M=Ze(M);var P,L,B,q=k.values,te=k.limit,K=te===1/0?void 0:te,re=(X=k.query).index,X=X.range,Z=(Z=k.trans).objectStore(x);if(re=re.isPrimaryKey?Z:Z.index(re.name),X=g(X),0===te)return M({result:[]});S?((K=q?re.getAll(X,K):re.getAllKeys(X,K)).onsuccess=function(se){return M({result:se.target.result})},K.onerror=Xn(N)):(P=0,L=!q&&"openKeyCursor"in re?re.openKeyCursor(X):re.openCursor(X),B=[],L.onsuccess=function(se){var Ee=L.result;return Ee?(B.push(q?Ee.value:Ee.primaryKey),++P===te?M({result:B}):void Ee.continue()):M({result:B})},L.onerror=Xn(N))})}),openCursor:function(k){var M=k.trans,N=k.values,P=k.query,L=k.reverse,B=k.unique;return new Promise(function(q,te){q=Ze(q);var re=P.index,K=P.range,Z=M.objectStore(x),X=(Z=re.isPrimaryKey?Z:Z.index(re.name),re=L?B?"prevunique":"prev":B?"nextunique":"next",!N&&"openKeyCursor"in Z?Z.openKeyCursor(g(K),re):Z.openCursor(g(K),re));X.onerror=Xn(te),X.onsuccess=Ze(function(se){var Ee,ke,xe,rn,Ie=X.result;Ie?(Ie.___id=++ea,Ie.done=!1,Ee=Ie.continue.bind(Ie),ke=(ke=Ie.continuePrimaryKey)&&ke.bind(Ie),xe=Ie.advance.bind(Ie),rn=function(){throw new Error("Cursor not stopped")},Ie.trans=M,Ie.stop=Ie.continue=Ie.continuePrimaryKey=Ie.advance=function(){throw new Error("Cursor not started")},Ie.fail=Ze(te),Ie.next=function(){var st=this,zt=1;return this.start(function(){return zt--?st.continue():st.stop()}).then(function(){return st})},Ie.start=function(st){function zt(){if(X.result)try{st()}catch(Nt){Ie.fail(Nt)}else Ie.done=!0,Ie.start=function(){throw new Error("Cursor behind last entry")},Ie.stop()}var di=new Promise(function(Nt,Yr){Nt=Ze(Nt),X.onerror=Xn(Yr),Ie.fail=Yr,Ie.stop=function(ns){Ie.stop=Ie.continue=Ie.continuePrimaryKey=Ie.advance=rn,Nt(ns)}});return X.onsuccess=Ze(function(Nt){X.onsuccess=zt,zt()}),Ie.continue=Ee,Ie.continuePrimaryKey=ke,Ie.advance=xe,zt(),di},q(Ie)):q(null)},te)})},count:function(k){var M=k.query,N=k.trans,P=M.index,L=M.range;return new Promise(function(B,q){var te=N.objectStore(x),K=P.isPrimaryKey?te:te.index(P.name);(K=(te=g(L))?K.count(te):K.count()).onsuccess=Ze(function(Z){return B(Z.target.result)}),K.onerror=Xn(q)})}}}),C={};return R.forEach(function(O){return C[O.name]=O}),{stack:"dbcore",transaction:u.transaction.bind(u),table:function(O){if(!C[O])throw new Error("Table '".concat(O,"' not found"));return C[O]},MIN_KEY:-1/0,MAX_KEY:ie(d),schema:I}}function Mo(u,g){g=function Zh(u,d,h,g){return{dbcore:(g=jl(d,h.IDBKeyRange,g),u.dbcore.reduce(function(_,b){return b=b.create,ve(ve({},_),b(_))},g))}}(u._middlewares,g.db,u._deps,g),u.core=g.dbcore,u.tables.forEach(function(y){var _=y.name;u.core.schema.tables.some(function(b){return b.name===_})&&(y.core=u.core.table(_),u[_]instanceof u.Table&&(u[_].core=y.core))})}function So(u,d,h,g){h.forEach(function(y){var _=g[y];d.forEach(function(b){var E=function I(A,R){return Fi(A,R)||(A=Fr(A))&&I(A,R)}(b,y);(!E||"value"in E&&void 0===E.value)&&(b===u.Transaction.prototype||b instanceof u.Transaction?go(b,y,{get:function(){return this.table(y)},set:function(I){Vh(this,y,{value:I,writable:!0,configurable:!0,enumerable:!0})}}):b[y]=new u.Table(y,_))})})}function Zi(u,d){d.forEach(function(h){for(var g in h)h[g]instanceof u.Table&&delete h[g]})}function Bl(u,d){return u._cfg.version-d._cfg.version}function Qi(u,d){var h,g={del:[],add:[],change:[]};for(h in u)d[h]||g.del.push(h);for(h in d){var y=u[h],_=d[h];if(y){var b={name:h,def:_,recreate:!1,del:[],add:[],change:[]};if(""+(y.primKey.keyPath||"")!=""+(_.primKey.keyPath||"")||y.primKey.auto!==_.primKey.auto)b.recreate=!0,g.change.push(b);else{var E=y.idxByName,I=_.idxByName,A=void 0;for(A in E)I[A]||b.del.push(A);for(A in I){var R=E[A],C=I[A];R?R.src!==C.src&&b.change.push(C):b.add.push(C)}(0<b.del.length||0<b.add.length||0<b.change.length)&&g.change.push(b)}}else g.add.push([h,_])}return g}function ai(u,d,h,g){var y=u.db.createObjectStore(d,h.keyPath?{keyPath:h.keyPath,autoIncrement:h.auto}:{autoIncrement:h.auto});return g.forEach(function(_){return ci(y,_)}),y}function Pc(u,d){vt(u).forEach(function(h){d.db.objectStoreNames.contains(h)||(cn&&console.debug("Dexie: Creating missing table",h),ai(d,h,u[h].primKey,u[h].indexes))})}function ci(u,d){u.createIndex(d.name,d.keyPath,{unique:d.unique,multiEntry:d.multi})}function ta(u,d,h){var g={};return Vr(d.objectStoreNames,0).forEach(function(y){for(var _=h.objectStore(y),b=Fl(Yh(A=_.keyPath),A||"",!0,!1,!!_.autoIncrement,A&&"string"!=typeof A,!0),E=[],I=0;I<_.indexNames.length;++I){var A=(R=_.index(_.indexNames[I])).keyPath,R=Fl(R.name,A,!!R.unique,!!R.multiEntry,!1,A&&"string"!=typeof A,!1);E.push(R)}g[y]=Ll(y,b,E)}),g}function To(u,d,h){for(var g=h.db.objectStoreNames,y=0;y<g.length;++y){var _=g[y],b=h.objectStore(_);u._hasGetAll="getAll"in b;for(var E=0;E<b.indexNames.length;++E){var I=b.indexNames[E],A=b.index(I).keyPath,R="string"==typeof A?A:"["+Vr(A).join("+")+"]";!d[_]||(A=d[_].idxByName[R])&&(A.name=I,delete d[_].idxByName[R],d[_].idxByName[I]=A)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&we.WorkerGlobalScope&&we instanceof we.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(u._hasGetAll=!1)}function Xh(u){return u.split(",").map(function(d,h){var g=(d=d.trim()).replace(/([&*]|\+\+)/g,""),y=/^\[/.test(g)?g.match(/^\[(.*)\]$/)[1].split("+"):g;return Fl(g,y||null,/\&/.test(d),/\*/.test(d),/\+\+/.test(d),Te(y),0===h)})}var d_=(Fc.prototype._parseStoresSpec=function(u,d){vt(u).forEach(function(h){if(null!==u[h]){var g=Xh(u[h]),y=g.shift();if(y.unique=!0,y.multi)throw new de.Schema("Primary key cannot be multi-valued");g.forEach(function(_){if(_.auto)throw new de.Schema("Only primary key can be marked as autoIncrement (++)");if(!_.keyPath)throw new de.Schema("Index must have a name and cannot be an empty string")}),d[h]=Ll(h,y,g)}})},Fc.prototype.stores=function(h){var d=this.db;this._cfg.storesSource=this._cfg.storesSource?Pt(this._cfg.storesSource,h):h;var g={},y={};return(h=d._versions).forEach(function(_){Pt(g,_._cfg.storesSource),y=_._cfg.dbschema={},_._parseStoresSpec(g,y)}),d._dbSchema=y,Zi(d,[d._allTables,d,d.Transaction.prototype]),So(d,[d._allTables,d,d.Transaction.prototype,this._cfg.tables],vt(y),y),d._storeNames=vt(y),this},Fc.prototype.upgrade=function(u){return this._cfg.contentUpgrade=ji(this._cfg.contentUpgrade||$e,u),this},Fc);function Fc(){}function Ul(u,d){var h=u._dbNamesDB;return h||(h=u._dbNamesDB=new dn(Ys,{addons:[],indexedDB:u,IDBKeyRange:d})).version(1).stores({dbnames:"name"}),h.table("dbnames")}function $l(u){return u&&"function"==typeof u.databases}function Xi(u){return hr(function(){return ue.letThrough=!0,u()})}function zr(u){return!("from"in u)}var At=function(u,d){if(!this){var h=new At;return u&&"d"in u&&Pt(h,u),h}Pt(this,arguments.length?{d:1,from:u,to:1<arguments.length?d:u}:{d:0})};function Ao(u,d,h){var g=Re(d,h);if(!isNaN(g)){if(0<g)throw RangeError();if(zr(u))return Pt(u,{from:d,to:h,d:1});var y=u.l;if(g=u.r,Re(h,u.from)<0)return y?Ao(y,d,h):u.l={from:d,to:h,d:1,l:null,r:null},Lc(u);if(0<Re(d,u.to))return g?Ao(g,d,h):u.r={from:d,to:h,d:1,l:null,r:null},Lc(u);Re(d,u.from)<0&&(u.from=d,u.l=null,u.d=g?g.d+1:1),0<Re(h,u.to)&&(u.to=h,u.r=null,u.d=u.l?u.l.d+1:1),h=!u.r,y&&!u.l&&ui(u,y),g&&h&&ui(u,g)}}function ui(u,d){zr(d)||function h(g,I){var _=I.from,b=I.to,E=I.l;I=I.r,Ao(g,_,b),E&&h(g,E),I&&h(g,I)}(u,d)}function Jn(u,d){var h=Wr(d),g=h.next();if(g.done)return!1;for(var y=g.value,_=Wr(u),b=_.next(y.from),E=b.value;!g.done&&!b.done;){if(Re(E.from,y.to)<=0&&0<=Re(E.to,y.from))return!0;Re(y.from,E.from)<0?y=(g=h.next(E.from)).value:E=(b=_.next(y.from)).value}return!1}function Wr(u){var d=zr(u)?null:{s:0,n:u};return{next:function(h){for(var g=0<arguments.length;d;)switch(d.s){case 0:if(d.s=1,g)for(;d.n.l&&Re(h,d.n.from)<0;)d={up:d,n:d.n.l,s:1};else for(;d.n.l;)d={up:d,n:d.n.l,s:1};case 1:if(d.s=2,!g||Re(h,d.n.to)<=0)return{value:d.n,done:!1};case 2:if(d.n.r){d.s=3,d={up:d,n:d.n.r,s:0};continue}case 3:d=d.up}return{done:!0}}}}function Lc(u){var d,h,g=((null===(d=u.r)||void 0===d?void 0:d.d)||0)-((null===(h=u.l)||void 0===h?void 0:h.d)||0),y=1<g?"r":g<-1?"l":"";y&&(d="r"==y?"l":"r",h=ve({},u),u.from=(g=u[y]).from,u.to=g.to,u[y]=g[y],h[y]=g[d],(u[d]=h).d=_e(h)),u.d=_e(u)}function _e(h){var d=h.r;return h=h.l,(d?h?Math.max(d.d,h.d):d.d:h?h.d:0)+1}function Fe(u,d){return vt(d).forEach(function(h){u[h]?ui(u[h],d[h]):u[h]=function g(y){var _,b,E={};for(_ in y)le(y,_)&&(E[_]=!(b=y[_])||"object"!=typeof b||Ic.has(b.constructor)?b:g(b));return E}(d[h])}),u}function Hl(u,d){return u.all||d.all||Object.keys(u).some(function(h){return d[h]&&Jn(d[h],u[h])})}Lr(At.prototype,((Mn={add:function(u){return ui(this,u),this},addKey:function(u){return Ao(this,u,u),this},addKeys:function(u){var d=this;return u.forEach(function(h){return Ao(d,h,h)}),this},hasKey:function(u){var d=Wr(this).next(u).value;return d&&Re(d.from,u)<=0&&0<=Re(d.to,u)}})[$s]=function(){return Wr(this)},Mn));var No={},na={},Gl=!1;function ra(u){Fe(na,u),Gl||(Gl=!0,setTimeout(function(){Gl=!1,Ji(na,!(na={}))},0))}function Ji(u,d){void 0===d&&(d=!1);var h=new Set;if(u.all)for(var g=0,y=Object.values(No);g<y.length;g++)Ae(b=y[g],u,h,d);else for(var _ in u){var b,E=/^idb\:\/\/(.*)\/(.*)\//.exec(_);E&&(_=E[1],E=E[2],(b=No["idb://".concat(_,"/").concat(E)])&&Ae(b,u,h,d))}h.forEach(function(I){return I()})}function Ae(u,d,h,g){for(var y=[],_=0,b=Object.entries(u.queries.query);_<b.length;_++){for(var E=b[_],I=E[0],A=[],R=0,C=E[1];R<C.length;R++){var O=C[R];Hl(d,O.obsSet)?O.subscribers.forEach(function(M){return h.add(M)}):g&&A.push(O)}g&&y.push([I,A])}if(g)for(var S=0,x=y;S<x.length;S++){var k=x[S];u.queries.query[I=k[0]]=A=k[1]}}function Vc(u){var d=u._state,h=u._deps.indexedDB;if(d.isBeingOpened||u.idbdb)return d.dbReadyPromise.then(function(){return d.dbOpenError?ft(d.dbOpenError):u});d.isBeingOpened=!0,d.dbOpenError=null,d.openComplete=!1;var g=d.openCanceller,y=Math.round(10*u.verno),_=!1;function b(){if(d.openCanceller!==g)throw new de.DatabaseClosed("db.open() was cancelled")}var I,A=d.dbReadyResolve,R=null,C=!1;return oe.race([g,(typeof navigator>"u"?oe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(O){function S(){return indexedDB.databases().finally(O)}I=setInterval(S,100),S()}).finally(function(){return clearInterval(I)}):Promise.resolve()).then(function E(){return new oe(function(O,S){if(b(),!h)throw new de.MissingAPI;var x=u.name,k=d.autoSchema||!y?h.open(x):h.open(x,y);if(!k)throw new de.MissingAPI;k.onerror=Xn(S),k.onblocked=Ze(u._fireOnBlocked),k.onupgradeneeded=Ze(function(M){var N;R=k.transaction,d.autoSchema&&!u._options.allowEmptyDB?(k.onerror=Js,R.abort(),k.result.close(),(N=h.deleteDatabase(x)).onsuccess=N.onerror=Ze(function(){S(new de.NoSuchDatabase("Database ".concat(x," doesnt exist")))})):(R.onerror=Xn(S),M=M.oldVersion>Math.pow(2,62)?0:M.oldVersion,C=M<1,u.idbdb=k.result,_&&function Y(u,d){Pc(u._dbSchema,d),d.db.version%10!=0||d.objectStoreNames.contains("$meta")||d.db.createObjectStore("$meta").add(Math.ceil(d.db.version/10-1),"version");var h=ta(0,u.idbdb,d);To(u,u._dbSchema,d);for(var g=0,y=Qi(h,u._dbSchema).change;g<y.length;g++){var _=function(b){if(b.change.length||b.recreate)return console.warn("Unable to patch indexes of table ".concat(b.name," because it has changes on the type of index or primary key.")),{value:void 0};var E=d.objectStore(b.name);b.add.forEach(function(I){cn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(b.name,".").concat(I.src)),ci(E,I)})}(y[g]);if("object"==typeof _)return _.value}}(u,R),function Qh(u,d,h,g){var y=u._dbSchema;h.objectStoreNames.contains("$meta")&&!y.$meta&&(y.$meta=Ll("$meta",Xh("")[0],[]),u._storeNames.push("$meta"));var _=u._createTransaction("readwrite",u._storeNames,y);_.create(h),_._completion.catch(g);var b=_._reject.bind(_),E=ue.transless||ue;hr(function(){return ue.trans=_,ue.transless=E,0!==d?(Mo(u,h),A=d,((I=_).storeNames.includes("$meta")?I.table("$meta").get("version").then(function(R){return R??A}):oe.resolve(A)).then(function(R){return O=R,S=_,k=[],R=(C=u)._versions,M=C._dbSchema=ta(0,C.idbdb,x=h),0!==(R=R.filter(function(N){return N._cfg.version>=O})).length?(R.forEach(function(N){k.push(function(){var P=M,L=N._cfg.dbschema;To(C,P,x),To(C,L,x),M=C._dbSchema=L;var B=Qi(P,L);B.add.forEach(function(re){ai(x,re[0],re[1].primKey,re[1].indexes)}),B.change.forEach(function(re){if(re.recreate)throw new de.Upgrade("Not yet support for changing primary key");var X=x.objectStore(re.name);re.add.forEach(function(se){return ci(X,se)}),re.change.forEach(function(se){X.deleteIndex(se.name),ci(X,se)}),re.del.forEach(function(se){return X.deleteIndex(se)})});var q=N._cfg.contentUpgrade;if(q&&N._cfg.version>O){Mo(C,x),S._memoizedTables={};var te=ei(L);B.del.forEach(function(re){te[re]=P[re]}),Zi(C,[C.Transaction.prototype]),So(C,[C.Transaction.prototype],vt(te),te),S.schema=te;var K,Z=Mc(q);return Z&&oi(),B=oe.follow(function(){var re;(K=q(S))&&Z&&(re=$r.bind(null,null),K.then(re,re))}),K&&"function"==typeof K.then?oe.resolve(K):B.then(function(){return K})}}),k.push(function(P){var L,B;L=N._cfg.dbschema,[].slice.call((B=P).db.objectStoreNames).forEach(function(te){return null==L[te]&&B.db.deleteObjectStore(te)}),Zi(C,[C.Transaction.prototype]),So(C,[C.Transaction.prototype],C._storeNames,C._dbSchema),S.schema=C._dbSchema}),k.push(function(P){C.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(C.idbdb.version/10)===N._cfg.version?(C.idbdb.deleteObjectStore("$meta"),delete C._dbSchema.$meta,C._storeNames=C._storeNames.filter(function(L){return"$meta"!==L})):P.objectStore("$meta").put(N._cfg.version,"version"))})}),function N(){return k.length?oe.resolve(k.shift()(S.idbtrans)).then(N):oe.resolve()}().then(function(){Pc(M,x)})):oe.resolve();var C,O,S,x,k,M}).catch(b)):(vt(y).forEach(function(R){ai(h,R,y[R].primKey,y[R].indexes)}),Mo(u,h),void oe.follow(function(){return u.on.populate.fire(_)}).catch(b));var I,A})}(u,M/10,R,S))},S),k.onsuccess=Ze(function(){R=null;var M,N,P,L,B,q=u.idbdb=k.result,te=Vr(q.objectStoreNames);if(0<te.length)try{var K=q.transaction(1===(L=te).length?L[0]:L,"readonly");if(d.autoSchema)P=K,(M=u).verno=(N=q).version/10,P=M._dbSchema=ta(0,N,P),M._storeNames=Vr(N.objectStoreNames,0),So(M,[M._allTables],vt(P),P);else if(To(u,u._dbSchema,K),((B=Qi(ta(0,(B=u).idbdb,K),B._dbSchema)).add.length||B.change.some(function(Z){return Z.add.length||Z.change.length}))&&!_)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),q.close(),y=q.version+1,_=!0,O(E());Mo(u,K)}catch{}U.push(u),q.onversionchange=Ze(function(Z){d.vcFired=!0,u.on("versionchange").fire(Z)}),q.onclose=Ze(function(Z){u.on("close").fire(Z)}),C&&(K=x,q=(B=u._deps).indexedDB,B=B.IDBKeyRange,$l(q)||K===Ys||Ul(q,B).put({name:K}).catch($e)),O()},S)}).catch(function(O){switch(O?.name){case"UnknownError":if(0<d.PR1398_maxLoop)return d.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),E();break;case"VersionError":if(0<y)return y=0,E()}return oe.reject(O)})})]).then(function(){return b(),d.onReadyBeingFired=[],oe.resolve(Xi(function(){return u.on.ready.fire(u.vip)})).then(function O(){if(0<d.onReadyBeingFired.length){var S=d.onReadyBeingFired.reduce(ji,$e);return d.onReadyBeingFired=[],oe.resolve(Xi(function(){return S(u.vip)})).then(O)}})}).finally(function(){d.openCanceller===g&&(d.onReadyBeingFired=null,d.isBeingOpened=!1)}).catch(function(O){d.dbOpenError=O;try{R&&R.abort()}catch{}return g===d.openCanceller&&u._close(),ft(O)}).finally(function(){d.openComplete=!0,A()}).then(function(){var O;return C&&(O={},u.tables.forEach(function(S){S.schema.indexes.forEach(function(x){x.name&&(O["idb://".concat(u.name,"/").concat(S.name,"/").concat(x.name)]=new At(-1/0,[[[]]]))}),O["idb://".concat(u.name,"/").concat(S.name,"/")]=O["idb://".concat(u.name,"/").concat(S.name,"/:dels")]=new At(-1/0,[[[]]])}),ce(Ki).fire(O),Ji(O,!0)),u})}function oa(u){function d(_){return u.next(_)}var h=y(d),g=y(function(_){return u.throw(_)});function y(_){return function(I){var E=_(I);return I=E.value,E.done?I:I&&"function"==typeof I.then?I.then(h,g):Te(I)?Promise.all(I).then(h,g):h(I)}}return y(d)()}function jt(u,d,h){for(var g=Te(u)?u.slice():[u],y=0;y<h;++y)g.push(d);return g}var ql={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(u){return ve(ve({},u),{table:function(d){var h=u.table(d),g=h.schema,y={},_=[];function b(C,O,S){var x=Yi(C),k=y[x]=y[x]||[],M=null==C?0:"string"==typeof C?1:C.length,N=0<O;return N=ve(ve({},S),{name:N?"".concat(x,"(virtual-from:").concat(S.name,")"):S.name,lowLevelIndex:S,isVirtual:N,keyTail:O,keyLength:M,extractKey:Vl(C),unique:!N&&S.unique}),k.push(N),N.isPrimaryKey||_.push(N),1<M&&b(2===M?C[0]:C.slice(0,M-1),O+1,S),k.sort(function(P,L){return P.keyTail-L.keyTail}),N}d=b(g.primaryKey.keyPath,0,g.primaryKey),y[":id"]=[d];for(var E=0,I=g.indexes;E<I.length;E++){var A=I[E];b(A.keyPath,0,A)}function R(C){var O,S=C.query.index;return S.isVirtual?ve(ve({},C),{query:{index:S.lowLevelIndex,range:(O=C.query.range,S=S.keyTail,{type:1===O.type?2:O.type,lower:jt(O.lower,O.lowerOpen?u.MAX_KEY:u.MIN_KEY,S),lowerOpen:!0,upper:jt(O.upper,O.upperOpen?u.MIN_KEY:u.MAX_KEY,S),upperOpen:!0})}}):C}return ve(ve({},h),{schema:ve(ve({},g),{primaryKey:d,indexes:_,getIndexByKeyPath:function(C){return(C=y[Yi(C)])&&C[0]}}),count:function(C){return h.count(R(C))},query:function(C){return h.query(R(C))},openCursor:function(C){var O=C.query.index,S=O.keyTail,k=O.keyLength;return O.isVirtual?h.openCursor(R(C)).then(function(N){return N&&function M(N){return Object.create(N,{continue:{value:function(P){null!=P?N.continue(jt(P,C.reverse?u.MAX_KEY:u.MIN_KEY,S)):C.unique?N.continue(N.key.slice(0,k).concat(C.reverse?u.MIN_KEY:u.MAX_KEY,S)):N.continue()}},continuePrimaryKey:{value:function(P,L){N.continuePrimaryKey(jt(P,u.MAX_KEY,S),L)}},primaryKey:{get:function(){return N.primaryKey}},key:{get:function(){var P=N.key;return 1===k?P[0]:P.slice(0,k)}},value:{get:function(){return N.value}}})}(N)}):h.openCursor(C)}})}})}};function zl(u,d,h,g){return h=h||{},g=g||"",vt(u).forEach(function(y){var _,b,E;le(d,y)?(b=d[y],"object"==typeof(_=u[y])&&"object"==typeof b&&_&&b?(E=Us(_))!==Us(b)?h[g+y]=d[y]:"Object"===E?zl(_,b,h,g+y+"."):_!==b&&(h[g+y]=d[y]):_!==b&&(h[g+y]=d[y])):h[g+y]=void 0}),vt(d).forEach(function(y){le(u,y)||(h[g+y]=d[y])}),h}function Wl(u,d){return"delete"===d.type?d.keys:d.keys||d.values.map(u.extractKey)}var Ro={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(u){return ve(ve({},u),{table:function(d){var h=u.table(d),g=h.schema.primaryKey;return ve(ve({},h),{mutate:function(y){var _=ue.trans,b=_.table(d).hook,E=b.deleting,I=b.creating,A=b.updating;switch(y.type){case"add":if(I.fire===$e)break;return _._promise("readwrite",function(){return R(y)},!0);case"put":if(I.fire===$e&&A.fire===$e)break;return _._promise("readwrite",function(){return R(y)},!0);case"delete":if(E.fire===$e)break;return _._promise("readwrite",function(){return R(y)},!0);case"deleteRange":if(E.fire===$e)break;return _._promise("readwrite",function(){return function C(O,S,x){return h.query({trans:O,values:!1,query:{index:g,range:S},limit:x}).then(function(k){var M=k.result;return R({type:"delete",keys:M,trans:O}).then(function(N){return 0<N.numFailures?Promise.reject(N.failures[0]):M.length<x?{failures:[],numFailures:0,lastResult:void 0}:C(O,ve(ve({},S),{lower:M[M.length-1],lowerOpen:!0}),x)})})}(y.trans,y.range,1e4)},!0)}return h.mutate(y);function R(C){var O,S,x,k=ue.trans,M=C.keys||Wl(g,C);if(!M)throw new Error("Keys missing");return"delete"!==(C="add"===C.type||"put"===C.type?ve(ve({},C),{keys:M}):ve({},C)).type&&(C.values=po([],C.values,!0)),C.keys&&(C.keys=po([],C.keys,!0)),O=h,x=M,("add"===(S=C).type?Promise.resolve([]):O.getMany({trans:S.trans,keys:x,cache:"immutable"})).then(function(N){var P=M.map(function(L,B){var q,te,K,Z=N[B],re={onerror:null,onsuccess:null};return"delete"===C.type?E.fire.call(re,L,Z,k):"add"===C.type||void 0===Z?(q=I.fire.call(re,L,C.values[B],k),null==L&&null!=q&&(C.keys[B]=L=q,g.outbound||Mt(C.values[B],g.keyPath,L))):(q=zl(Z,C.values[B]),(te=A.fire.call(re,q,L,Z,k))&&(K=C.values[B],Object.keys(te).forEach(function(X){le(K,X)?K[X]=te[X]:Mt(K,X,te[X])}))),re});return h.mutate(C).then(function(L){for(var B=L.failures,q=L.results,te=L.numFailures,K=(L=L.lastResult,0);K<M.length;++K){var Z=(q||M)[K],re=P[K];null==Z?re.onerror&&re.onerror(B[K]):re.onsuccess&&re.onsuccess("put"===C.type&&N[K]?C.values[K]:Z)}return{failures:B,results:q,numFailures:te,lastResult:L}}).catch(function(L){return P.forEach(function(B){return B.onerror&&B.onerror(L)}),Promise.reject(L)})})}}})}})}};function ia(u,d,h){try{if(!d||d.keys.length<u.length)return null;for(var g=[],y=0,_=0;y<d.keys.length&&_<u.length;++y)0===Re(d.keys[y],u[_])&&(g.push(h?Fn(d.values[y]):d.values[y]),++_);return g.length===u.length?g:null}catch{return null}}var Kl={stack:"dbcore",level:-1,create:function(u){return{table:function(d){var h=u.table(d);return ve(ve({},h),{getMany:function(g){if(!g.cache)return h.getMany(g);var y=ia(g.keys,g.trans._cache,"clone"===g.cache);return y?oe.resolve(y):h.getMany(g).then(function(_){return g.trans._cache={keys:g.keys,values:"clone"===g.cache?Fn(_):_},_})},mutate:function(g){return"add"!==g.type&&(g.trans._cache=null),h.mutate(g)}})}}}};function es(u,d){return"readonly"===u.trans.mode&&!!u.subscr&&!u.trans.explicit&&"disabled"!==u.trans.db._options.cache&&!d.schema.primaryKey.outbound}function Yl(u,d){switch(u){case"query":return d.values&&!d.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Jh={stack:"dbcore",level:0,name:"Observability",create:function(u){var d=u.schema.name,h=new At(u.MIN_KEY,u.MAX_KEY);return ve(ve({},u),{transaction:function(g,y,_){if(ue.subscr&&"readonly"!==y)throw new de.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ue.querier));return u.transaction(g,y,_)},table:function(g){var y=u.table(g),_=y.schema,b=_.primaryKey,C=_.indexes,E=b.extractKey,I=b.outbound,A=b.autoIncrement&&C.filter(function(S){return S.compound&&S.keyPath.includes(b.keyPath)}),R=ve(ve({},y),{mutate:function(S){function x(X){return X="idb://".concat(d,"/").concat(g,"/").concat(X),L[X]||(L[X]=new At)}var k,M,N,P=S.trans,L=S.mutatedParts||(S.mutatedParts={}),B=x(""),q=x(":dels"),te=S.type,K=(re="deleteRange"===S.type?[S.range]:"delete"===S.type?[S.keys]:S.values.length<50?[Wl(b,S).filter(function(X){return X}),S.values]:[])[0],Z=re[1],re=S.trans._cache;return Te(K)?(B.addKeys(K),(re="delete"===te||K.length===Z.length?ia(K,re):null)||q.addKeys(K),(re||Z)&&(k=x,M=re,N=Z,_.indexes.forEach(function(X){var se=k(X.name||"");function Ee(xe){return null!=xe?X.extractKey(xe):null}function ke(xe){return X.multiEntry&&Te(xe)?xe.forEach(function(rn){return se.addKey(rn)}):se.addKey(xe)}(M||N).forEach(function(xe,st){var Ie=M&&Ee(M[st]);0!==Re(Ie,st=N&&Ee(N[st]))&&(null!=Ie&&ke(Ie),null!=st&&ke(st))})}))):K?(Z={from:null!==(Z=K.lower)&&void 0!==Z?Z:u.MIN_KEY,to:null!==(Z=K.upper)&&void 0!==Z?Z:u.MAX_KEY},q.add(Z),B.add(Z)):(B.add(h),q.add(h),_.indexes.forEach(function(X){return x(X.name).add(h)})),y.mutate(S).then(function(X){return!K||"add"!==S.type&&"put"!==S.type||(B.addKeys(X.results),A&&A.forEach(function(se){for(var Ee=S.values.map(function(Ie){return se.extractKey(Ie)}),ke=se.keyPath.findIndex(function(Ie){return Ie===b.keyPath}),xe=0,rn=X.results.length;xe<rn;++xe)Ee[xe][ke]=X.results[xe];x(se.name).addKeys(Ee)})),P.mutatedParts=Fe(P.mutatedParts||{},L),X})}}),O={get:function(S){return[b,new At(S.key)]},getMany:function(S){return[b,(new At).addKeys(S.keys)]},count:C=function(x){var k;return[x=(k=x.query).index,new At(null!==(x=(k=k.range).lower)&&void 0!==x?x:u.MIN_KEY,null!==(k=k.upper)&&void 0!==k?k:u.MAX_KEY)]},query:C,openCursor:C};return vt(O).forEach(function(S){R[S]=function(x){var M=!!(k=ue.subscr),N=es(ue,y)&&Yl(S,x)?x.obsSet={}:k;if(M){var P=function(Z){return Z="idb://".concat(d,"/").concat(g,"/").concat(Z),N[Z]||(N[Z]=new At)},L=P(""),B=P(":dels"),k=(M=(k=O[S](x))[0],k[1]);if(("query"===S&&M.isPrimaryKey&&!x.values?B:P(M.name||"")).add(k),!M.isPrimaryKey){if("count"!==S){var q="query"===S&&I&&x.values&&y.query(ve(ve({},x),{values:!1}));return y[S].apply(this,arguments).then(function(Z){if("query"===S){if(I&&x.values)return q.then(function(Ee){return L.addKeys(Ee=Ee.result),Z});var re=x.values?Z.result.map(E):Z.result;(x.values?L:B).addKeys(re)}else if("openCursor"===S){var X=Z,se=x.values;return X&&Object.create(X,{key:{get:function(){return B.addKey(X.primaryKey),X.key}},primaryKey:{get:function(){var Ee=X.primaryKey;return B.addKey(Ee),Ee}},value:{get:function(){return se&&L.addKey(X.primaryKey),X.value}}})}return Z})}B.add(h)}}return y[S].apply(this,arguments)}}),R}})}};function Zl(u,d,h){return 0===h.numFailures?d:"deleteRange"===d.type||h.numFailures===(d.keys?d.keys.length:"values"in d&&d.values?d.values.length:1)?null:(d=ve({},d),Te(d.keys)&&(d.keys=d.keys.filter(function(y,_){return!(_ in h.failures)})),"values"in d&&Te(d.values)&&(d.values=d.values.filter(function(y,_){return!(_ in h.failures)})),d)}function sa(u,d){return h=u,(void 0===(g=d).lower||(g.lowerOpen?0<Re(h,g.lower):0<=Re(h,g.lower)))&&(void 0===d.upper||(d.upperOpen?Re(u,d.upper)<0:Re(u,d.upper)<=0));var h,g}function Ql(u,d,O,g,y,_){if(!O||0===O.length)return u;var b=d.query.index,E=b.multiEntry,I=d.query.range,A=g.schema.primaryKey.extractKey,R=b.extractKey,C=(b.lowLevelIndex||b).extractKey;return(O=O.reduce(function(S,x){var k=S,M=[];if("add"===x.type||"put"===x.type)for(var N=new At,P=x.values.length-1;0<=P;--P){var L,B=x.values[P],q=A(B);N.hasKey(q)||(L=R(B),(E&&Te(L)?L.some(function(X){return sa(X,I)}):sa(L,I))&&(N.addKey(q),M.push(B)))}switch(x.type){case"add":var te=(new At).addKeys(d.values?S.map(function(se){return A(se)}):S);k=S.concat(d.values?M.filter(function(se){return se=A(se),!te.hasKey(se)&&(te.addKey(se),!0)}):M.map(function(se){return A(se)}).filter(function(se){return!te.hasKey(se)&&(te.addKey(se),!0)}));break;case"put":var K=(new At).addKeys(x.values.map(function(se){return A(se)}));k=S.filter(function(se){return!K.hasKey(d.values?A(se):se)}).concat(d.values?M:M.map(function(se){return A(se)}));break;case"delete":var Z=(new At).addKeys(x.keys);k=S.filter(function(se){return!Z.hasKey(d.values?A(se):se)});break;case"deleteRange":var re=x.range;k=S.filter(function(se){return!sa(A(se),re)})}return k},u))===u?u:(O.sort(function(S,x){return Re(C(S),C(x))||Re(A(S),A(x))}),d.limit&&d.limit<1/0&&(O.length>d.limit?O.length=d.limit:u.length===d.limit&&O.length<d.limit&&(y.dirty=!0)),_?Object.freeze(O):O)}function fe(u,d){return 0===Re(u.lower,d.lower)&&0===Re(u.upper,d.upper)&&!!u.lowerOpen==!!d.lowerOpen&&!!u.upperOpen==!!d.upperOpen}var aa={stack:"dbcore",level:0,name:"Cache",create:function(u){var d=u.schema.name;return ve(ve({},u),{transaction:function(h,g,y){var _,b,E=u.transaction(h,g,y);return"readwrite"===g&&(b=(_=new AbortController).signal,E.addEventListener("abort",(y=function(I){return function(){if(_.abort(),"readwrite"===g){for(var A=new Set,R=0,C=h;R<C.length;R++){var O=C[R],S=No["idb://".concat(d,"/").concat(O)];if(S){var x=u.table(O),k=S.optimisticOps.filter(function(se){return se.trans===E});if(E._explicit&&I&&E.mutatedParts)for(var M=0,N=Object.values(S.queries.query);M<N.length;M++)for(var P=0,L=(te=N[M]).slice();P<L.length;P++)Hl((K=L[P]).obsSet,E.mutatedParts)&&(an(te,K),K.subscribers.forEach(function(se){return A.add(se)}));else if(0<k.length){S.optimisticOps=S.optimisticOps.filter(function(se){return se.trans!==E});for(var B=0,q=Object.values(S.queries.query);B<q.length;B++)for(var te,K,Z,re=0,X=(te=q[B]).slice();re<X.length;re++)null!=(K=X[re]).res&&E.mutatedParts&&(I&&!K.dirty?(Z=Object.isFrozen(K.res),Z=Ql(K.res,K.req,k,x,K,Z),K.dirty?(an(te,K),K.subscribers.forEach(function(se){return A.add(se)})):Z!==K.res&&(K.res=Z,K.promise=oe.resolve({result:Z}))):(K.dirty&&an(te,K),K.subscribers.forEach(function(se){return A.add(se)})))}}}A.forEach(function(se){return se()})}}})(!1),{signal:b}),E.addEventListener("error",y(!1),{signal:b}),E.addEventListener("complete",y(!0),{signal:b})),E},table:function(h){var g=u.table(h),y=g.schema.primaryKey;return ve(ve({},g),{mutate:function(_){var b=ue.trans;if(y.outbound||"disabled"===b.db._options.cache||b.explicit||"readwrite"!==b.idbtrans.mode)return g.mutate(_);var E=No["idb://".concat(d,"/").concat(h)];return E?(b=g.mutate(_),"add"!==_.type&&"put"!==_.type||!(50<=_.values.length||Wl(y,_).some(function(I){return null==I}))?(E.optimisticOps.push(_),_.mutatedParts&&ra(_.mutatedParts),b.then(function(I){0<I.numFailures&&(an(E.optimisticOps,_),(I=Zl(0,_,I))&&E.optimisticOps.push(I),_.mutatedParts&&ra(_.mutatedParts))}),b.catch(function(){an(E.optimisticOps,_),_.mutatedParts&&ra(_.mutatedParts)})):b.then(function(I){var A=Zl(0,ve(ve({},_),{values:_.values.map(function(R,C){var O;return I.failures[C]||Mt(R=null!==(O=y.keyPath)&&void 0!==O&&O.includes(".")?Fn(R):ve({},R),y.keyPath,I.results[C]),R})}),I);E.optimisticOps.push(A),queueMicrotask(function(){return _.mutatedParts&&ra(_.mutatedParts)})}),b):g.mutate(_)},query:function(_){if(!es(ue,g)||!Yl("query",_))return g.query(_);var b="immutable"===(null===(A=ue.trans)||void 0===A?void 0:A.db._options.cache),E=(C=ue).requery,I=C.signal,A=function(x,k,M,N){var P=No["idb://".concat(x,"/").concat(k)];if(!P)return[];if(!(k=P.queries[M]))return[null,!1,P,null];var L=k[(N.query?N.query.index.name:null)||""];if(!L)return[null,!1,P,null];switch(M){case"query":var B=L.find(function(q){return q.req.limit===N.limit&&q.req.values===N.values&&fe(q.req.query.range,N.query.range)});return B?[B,!0,P,L]:[L.find(function(q){return("limit"in q.req?q.req.limit:1/0)>=N.limit&&(!N.values||q.req.values)&&function Xl(u,d){return function(h,g,y,_){if(void 0===h)return void 0!==g?-1:0;if(void 0===g)return 1;if(0===(g=Re(h,g))){if(y&&_)return 0;if(y)return 1;if(_)return-1}return g}(u.lower,d.lower,u.lowerOpen,d.lowerOpen)<=0&&0<=function(h,g,y,_){if(void 0===h)return void 0!==g?1:0;if(void 0===g)return-1;if(0===(g=Re(h,g))){if(y&&_)return 0;if(y)return-1;if(_)return 1}return g}(u.upper,d.upper,u.upperOpen,d.upperOpen)}(q.req.query.range,N.query.range)}),!1,P,L];case"count":return[B=L.find(function(q){return fe(q.req.query.range,N.query.range)}),!!B,P,L]}}(d,h,"query",_),R=A[0],C=A[1],O=A[2],S=A[3];return R&&C?R.obsSet=_.obsSet:(C=g.query(_).then(function(x){var k=x.result;if(R&&(R.res=k),b){for(var M=0,N=k.length;M<N;++M)Object.freeze(k[M]);Object.freeze(k)}else x.result=Fn(k);return x}).catch(function(x){return S&&R&&an(S,R),Promise.reject(x)}),R={obsSet:_.obsSet,promise:C,subscribers:new Set,type:"query",req:_,dirty:!1},S?S.push(R):(S=[R],(O=O||(No["idb://".concat(d,"/").concat(h)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[_.query.index.name||""]=S)),function $(u,d,h,g){u.subscribers.add(h),g.addEventListener("abort",function(){var y,_;u.subscribers.delete(h),0===u.subscribers.size&&(y=u,_=d,setTimeout(function(){0===y.subscribers.size&&an(_,y)},3e3))})}(R,S,E,I),R.promise.then(function(x){return{result:Ql(x.result,_,O?.optimisticOps,g,R,b)}})}})}})}};function li(u,d){return new Proxy(u,{get:function(h,g,y){return"db"===g?d:Reflect.get(h,g,y)}})}var dn=(ht.prototype.version=function(u){if(isNaN(u)||u<.1)throw new de.Type("Given version is not a positive number");if(u=Math.round(10*u)/10,this.idbdb||this._state.isBeingOpened)throw new de.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,u);var d=this._versions,h=d.filter(function(g){return g._cfg.version===u})[0];return h||(h=new this.Version(u),d.push(h),d.sort(Bl),h.stores({}),this._state.autoSchema=!1,h)},ht.prototype._whenReady=function(u){var d=this;return this.idbdb&&(this._state.openComplete||ue.letThrough||this._vip)?u():new oe(function(h,g){if(d._state.openComplete)return g(new de.DatabaseClosed(d._state.dbOpenError));if(!d._state.isBeingOpened){if(!d._state.autoOpen)return void g(new de.DatabaseClosed);d.open().catch($e)}d._state.dbReadyPromise.then(h,g)}).then(u)},ht.prototype.use=function(u){var d=u.stack,h=u.create,g=u.level,y=u.name;return y&&this.unuse({stack:d,name:y}),(u=this._middlewares[d]||(this._middlewares[d]=[])).push({stack:d,create:h,level:g??10,name:y}),u.sort(function(_,b){return _.level-b.level}),this},ht.prototype.unuse=function(u){var d=u.stack,h=u.name,g=u.create;return d&&this._middlewares[d]&&(this._middlewares[d]=this._middlewares[d].filter(function(y){return g?y.create!==g:!!h&&y.name!==h})),this},ht.prototype.open=function(){var u=this;return Hr(Vn,function(){return Vc(u)})},ht.prototype._close=function(){var u=this._state,d=U.indexOf(this);if(0<=d&&U.splice(d,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}u.isBeingOpened||(u.dbReadyPromise=new oe(function(h){u.dbReadyResolve=h}),u.openCanceller=new oe(function(h,g){u.cancelOpen=g}))},ht.prototype.close=function(h){var d=(void 0===h?{disableAutoOpen:!0}:h).disableAutoOpen;h=this._state,d?(h.isBeingOpened&&h.cancelOpen(new de.DatabaseClosed),this._close(),h.autoOpen=!1,h.dbOpenError=new de.DatabaseClosed):(this._close(),h.autoOpen=this._options.autoOpen||h.isBeingOpened,h.openComplete=!1,h.dbOpenError=null)},ht.prototype.delete=function(u){var d=this;void 0===u&&(u={disableAutoOpen:!0});var h=0<arguments.length&&"object"!=typeof arguments[0],g=this._state;return new oe(function(y,_){function b(){d.close(u);var E=d._deps.indexedDB.deleteDatabase(d.name);E.onsuccess=Ze(function(){var I,A,R;A=d.name,R=(I=d._deps).indexedDB,I=I.IDBKeyRange,$l(R)||A===Ys||Ul(R,I).delete(A).catch($e),y()}),E.onerror=Xn(_),E.onblocked=d._fireOnBlocked}if(h)throw new de.InvalidArgument("Invalid closeOptions argument to db.delete()");g.isBeingOpened?g.dbReadyPromise.then(b):b()})},ht.prototype.backendDB=function(){return this.idbdb},ht.prototype.isOpen=function(){return null!==this.idbdb},ht.prototype.hasBeenClosed=function(){var u=this._state.dbOpenError;return u&&"DatabaseClosed"===u.name},ht.prototype.hasFailed=function(){return null!==this._state.dbOpenError},ht.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(ht.prototype,"tables",{get:function(){var u=this;return vt(this._allTables).map(function(d){return u._allTables[d]})},enumerable:!1,configurable:!0}),ht.prototype.transaction=function(){var u=function(d,h,g){var y=arguments.length;if(y<2)throw new de.InvalidArgument("Too few arguments");for(var _=new Array(y-1);--y;)_[y-1]=arguments[y];return g=_.pop(),[d,Li(_),g]}.apply(this,arguments);return this._transaction.apply(this,u)},ht.prototype._transaction=function(u,d,h){var g=this,y=ue.trans;y&&y.db===this&&-1===u.indexOf("!")||(y=null);var _,b,E=-1!==u.indexOf("?");u=u.replace("!","").replace("?","");try{if(b=d.map(function(A){if("string"!=typeof(A=A instanceof g.Table?A.name:A))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return A}),"r"==u||u===jn)_=jn;else{if("rw"!=u&&u!=ii)throw new de.InvalidArgument("Invalid transaction mode: "+u);_=ii}if(y){if(y.mode===jn&&_===ii){if(!E)throw new de.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");y=null}y&&b.forEach(function(A){if(y&&-1===y.storeNames.indexOf(A)){if(!E)throw new de.SubTransaction("Table "+A+" not included in parent transaction.");y=null}}),E&&y&&!y.active&&(y=null)}}catch(A){return y?y._promise(null,function(R,C){C(A)}):ft(A)}var I=function A(R,C,O,S,x){return oe.resolve().then(function(){var k=ue.transless||ue,M=R._createTransaction(C,O,R._dbSchema,S);if(M.explicit=!0,k={trans:M,transless:k},S)M.idbtrans=S.idbtrans;else try{M.create(),M.idbtrans._explicit=!0,R._state.PR1398_maxLoop=3}catch(L){return L.name===Tc.InvalidState&&R.isOpen()&&0<--R._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),R.close({disableAutoOpen:!1}),R.open().then(function(){return A(R,C,O,null,x)})):ft(L)}var N,P=Mc(x);return P&&oi(),k=oe.follow(function(){var L;(N=x.call(M,M))&&(P?(L=$r.bind(null,null),N.then(L,L)):"function"==typeof N.next&&"function"==typeof N.throw&&(N=oa(N)))},k),(N&&"function"==typeof N.then?oe.resolve(N).then(function(L){return M.active?L:ft(new de.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):k.then(function(){return N})).then(function(L){return S&&M._resolve(),M._completion.then(function(){return L})}).catch(function(L){return M._reject(L),ft(L)})})}.bind(null,this,_,b,y,h);return y?y._promise(_,I,"lock"):ue.trans?Hr(ue.transless,function(){return g._whenReady(I)}):this._whenReady(I)},ht.prototype.table=function(u){if(!le(this._allTables,u))throw new de.InvalidTable("Table ".concat(u," does not exist"));return this._allTables[u]},ht);function ht(u,d){var h=this;this._middlewares={},this.verno=0;var g=ht.dependencies;this._options=d=ve({addons:ht.addons,autoOpen:!0,indexedDB:g.indexedDB,IDBKeyRange:g.IDBKeyRange,cache:"cloned"},d),this._deps={indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange},g=d.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var y,_,b,E,I,A={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:$e,dbReadyPromise:null,cancelOpen:$e,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:d.autoOpen};A.dbReadyPromise=new oe(function(C){A.dbReadyResolve=C}),A.openCanceller=new oe(function(C,O){A.cancelOpen=O}),this._state=A,this.name=u,this.on=Zn(this,"populate","blocked","versionchange","close",{ready:[ji,$e]}),this.on.ready.subscribe=Ec(this.on.ready.subscribe,function(C){return function(O,S){ht.vip(function(){var x,k=h._state;k.openComplete?(k.dbOpenError||oe.resolve().then(O),S&&C(O)):k.onReadyBeingFired?(k.onReadyBeingFired.push(O),S&&C(O)):(C(O),x=h,S||C(function M(){x.on.ready.unsubscribe(O),x.on.ready.unsubscribe(M)}))})}}),this.Collection=(y=this,Zs(Qe.prototype,function(N,M){this.db=y;var S=zh,x=null;if(M)try{S=M()}catch(P){x=P}var k=N._ctx;this._ctx={table:M=k.table,index:k.index,isPrimKey:!k.index||M.schema.primKey.keyPath&&k.index===M.schema.primKey.name,range:S,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:x,or:k.or,valueMapper:(N=M.hook.reading.fire)!==Vi?N:null}})),this.Table=(_=this,Zs(kc.prototype,function(C,O,S){this.db=_,this._tx=S,this.name=C,this.schema=O,this.hook=_._allTables[C]?_._allTables[C].hook:Zn(null,{creating:[$h,$e],reading:[Al,Vi],updating:[c_,$e],deleting:[Hh,$e]})})),this.Transaction=(b=this,Zs(l_.prototype,function(C,O,S,x,k){var M=this;this.db=b,this.mode=C,this.storeNames=O,this.schema=S,this.chromeTransactionDurability=x,this.idbtrans=null,this.on=Zn(this,"complete","error","abort"),this.parent=k||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new oe(function(N,P){M._resolve=N,M._reject=P}),this._completion.then(function(){M.active=!1,M.on.complete.fire()},function(N){var P=M.active;return M.active=!1,M.on.error.fire(N),M.parent?M.parent._reject(N):P&&M.idbtrans&&M.idbtrans.abort(),ft(N)})})),this.Version=(E=this,Zs(d_.prototype,function(C){this.db=E,this._cfg={version:C,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(I=this,Zs(Kh.prototype,function(C,O,S){if(this.db=I,this._ctx={table:C,index:":id"===O?null:O,or:S},this._cmp=this._ascending=Re,this._descending=function(x,k){return Re(k,x)},this._max=function(x,k){return 0<Re(x,k)?x:k},this._min=function(x,k){return Re(x,k)<0?x:k},this._IDBKeyRange=I._deps.IDBKeyRange,!this._IDBKeyRange)throw new de.MissingAPI})),this.on("versionchange",function(C){0<C.newVersion?console.warn("Another connection wants to upgrade database '".concat(h.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(h.name,"'. Closing db now to resume the delete request.")),h.close({disableAutoOpen:!1})}),this.on("blocked",function(C){!C.newVersion||C.newVersion<C.oldVersion?console.warn("Dexie.delete('".concat(h.name,"') was blocked")):console.warn("Upgrade '".concat(h.name,"' blocked by other connection holding version ").concat(C.oldVersion/10))}),this._maxKey=ie(d.IDBKeyRange),this._createTransaction=function(C,O,S,x){return new h.Transaction(C,O,S,h._options.chromeTransactionDurability,x)},this._fireOnBlocked=function(C){h.on("blocked").fire(C),U.filter(function(O){return O.name===h.name&&O!==h&&!O._state.vcFired}).map(function(O){return O.on("versionchange").fire(C)})},this.use(Kl),this.use(aa),this.use(Jh),this.use(ql),this.use(Ro);var R=new Proxy(this,{get:function(C,O,S){if("_vip"===O)return!0;if("table"===O)return function(k){return li(h.table(k),R)};var x=Reflect.get(C,O,S);return x instanceof kc?li(x,R):"tables"===O?x.map(function(k){return li(k,R)}):"_createTransaction"===O?function(){return li(x.apply(this,arguments),R)}:x}});this.vip=R,g.forEach(function(C){return C(h)})}Mn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";var ca,ep=(ts.prototype.subscribe=function(u,d,h){return this._subscribe(u&&"function"!=typeof u?u:{next:u,error:d,complete:h})},ts.prototype[Mn]=function(){return this},ts);function ts(u){this._subscribe=u}try{ca={indexedDB:we.indexedDB||we.mozIndexedDB||we.webkitIndexedDB||we.msIndexedDB,IDBKeyRange:we.IDBKeyRange||we.webkitIDBKeyRange}}catch{ca={indexedDB:null,IDBKeyRange:null}}function Jl(u){var d,h=!1,g=new ep(function(y){var b,_=Mc(u),E=!1,I={},A={},R={get closed(){return E},unsubscribe:function(){E||(E=!0,b&&b.abort(),C&&ce.storagemutated.unsubscribe(S))}};y.start&&y.start(R);var C=!1,O=function(){return dt(x)},S=function(k){Fe(I,k),Hl(A,I)&&O()},x=function(){var k,M,N;!E&&ca.indexedDB&&(I={},k={},b&&b.abort(),b=new AbortController,N=function(P){var L=ni();try{_&&oi();var B=hr(u,P);return B=_?B.finally($r):B}finally{L&&fr()}}(M={subscr:k,signal:b.signal,requery:O,querier:u,trans:null}),Promise.resolve(N).then(function(P){h=!0,d=P,E||M.signal.aborted||(I={},function(L){for(var B in L)if(le(L,B))return;return 1}(A=k)||C||(ce(Ki,S),C=!0),dt(function(){return!E&&y.next&&y.next(P)}))},function(P){h=!1,["DatabaseClosedError","AbortError"].includes(P?.name)||E||dt(function(){E||y.error&&y.error(P)})}))};return setTimeout(O,0),R});return g.hasValue=function(){return h},g.getValue=function(){return d},g}var mr=dn;function jc(u){var d=Kr;try{Kr=!0,ce.storagemutated.fire(u),Ji(u,!0)}finally{Kr=d}}Lr(mr,ve(ve({},Nc),{delete:function(u){return new mr(u,{addons:[]}).delete()},exists:function(u){return new mr(u,{addons:[]}).open().then(function(d){return d.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(u){try{return h=(d=mr.dependencies).indexedDB,d=d.IDBKeyRange,($l(h)?Promise.resolve(h.databases()).then(function(g){return g.map(function(y){return y.name}).filter(function(y){return y!==Ys})}):Ul(h,d).toCollection().primaryKeys()).then(u)}catch{return ft(new de.MissingAPI)}var d,h},defineClass:function(){return function(u){Pt(this,u)}},ignoreTransaction:function(u){return ue.trans?Hr(ue.transless,u):u()},vip:Xi,async:function(u){return function(){try{var d=oa(u.apply(this,arguments));return d&&"function"==typeof d.then?d:oe.resolve(d)}catch(h){return ft(h)}}},spawn:function(u,d,h){try{var g=oa(u.apply(h,d||[]));return g&&"function"==typeof g.then?g:oe.resolve(g)}catch(y){return ft(y)}},currentTransaction:{get:function(){return ue.trans||null}},waitFor:function(u,d){return d=oe.resolve("function"==typeof u?mr.ignoreTransaction(u):u).timeout(d||6e4),ue.trans?ue.trans.waitFor(d):d},Promise:oe,debug:{get:function(){return cn},set:function(u){ur(u)}},derive:Pn,extend:Pt,props:Lr,override:Ec,Events:Zn,on:ce,liveQuery:Jl,extendObservabilitySet:Fe,getByKeyPath:In,setByKeyPath:Mt,delByKeyPath:function(u,d){"string"==typeof d?Mt(u,d,void 0):"length"in d&&[].map.call(d,function(h){Mt(u,h,void 0)})},shallowClone:ei,deepClone:Fn,getObjectDiff:zl,cmp:Re,asap:Tl,minKey:-1/0,addons:[],connections:U,errnames:Tc,dependencies:ca,cache:No,semVer:"4.0.11",version:"4.0.11".split(".").map(function(u){return parseInt(u)}).reduce(function(u,d,h){return u+d/Math.pow(10,2*h)})})),mr.maxKey=ie(mr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ce(Ki,function(u){Kr||(u=new CustomEvent(qt,{detail:u}),Kr=!0,dispatchEvent(u),Kr=!1)}),addEventListener(qt,function(u){u=u.detail,Kr||jc(u)}));var Sn,Kr=!1,Qt=function(){};return typeof BroadcastChannel<"u"&&((Qt=function(){(Sn=new BroadcastChannel(qt)).onmessage=function(u){return u.data&&jc(u.data)}})(),"function"==typeof Sn.unref&&Sn.unref(),ce(Ki,function(u){Kr||Sn.postMessage(u)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(u){if(!dn.disableBfCache&&u.persisted){cn&&console.debug("Dexie: handling persisted pagehide"),Sn?.close();for(var d=0,h=U;d<h.length;d++)h[d].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(u){!dn.disableBfCache&&u.persisted&&(cn&&console.debug("Dexie: handling persisted pageshow"),Qt(),jc({all:new At(-1/0,[[]])}))})),oe.rejectionMapper=function(u,d){return!u||u instanceof mo||u instanceof TypeError||u instanceof SyntaxError||!u.name||!Ac[u.name]?u:(d=new Ac[u.name](d||u.message,u),"stack"in u&&go(d,"stack",{get:function(){return this.inner.stack}}),d)},ur(cn),ve(dn,Object.freeze({__proto__:null,Dexie:dn,liveQuery:Jl,Entity:Yn,cmp:Re,PropModification:Xs,replacePrefix:function(u,d){return new Xs({replacePrefix:[u,d]})},add:function(u){return new Xs({add:u})},remove:function(u){return new Xs({remove:u})},default:dn,RangeSet:At,mergeRanges:ui,rangesOverlap:Jn}),{default:dn}),dn}()},534:(wc,Vs,ve)=>{"use strict";function po(e,n,t,r,o,i,s){try{var a=e[i](s),c=a.value}catch(l){return void t(l)}a.done?n(c):Promise.resolve(c).then(r,o)}function we(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var i=e.apply(n,t);function s(c){po(i,r,o,s,a,"next",c)}function a(c){po(i,r,o,s,a,"throw",c)}s(void 0)})}}function vt(e,n){return Object.is(e,n)}let Te=null,Pt=!1,Fr=1;const Ft=Symbol("SIGNAL");function le(e){const n=Te;return Te=e,n}const Pn={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Fi(e){if(Pt)throw new Error("");if(null===Te)return;Te.consumerOnSignalRead(e);const n=Te.nextProducerIndex++;Bs(Te),n<Te.producerNode.length&&Te.producerNode[n]!==e&&Fn(Te)&&jr(Te.producerNode[n],Te.producerIndexOfThis[n]),Te.producerNode[n]!==e&&(Te.producerNode[n]=e,Te.producerIndexOfThis[n]=Fn(Te)?Ic(e,Te,n):0),Te.producerLastReadVersion[n]=e.version}function Vr(e){if((!Fn(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Fr)){if(!e.producerMustRecompute(e)&&!js(e))return void In(e);e.producerRecomputeValue(e),In(e)}}function Ec(e){if(void 0===e.liveConsumerNode)return;const n=Pt;Pt=!0;try{for(const t of e.liveConsumerNode)t.dirty||Tl(t)}finally{Pt=n}}function Jo(){return!1!==Te?.consumerAllowSignalWrites}function Tl(e){e.dirty=!0,Ec(e),e.consumerMarkedDirty?.(e)}function In(e){e.dirty=!1,e.lastCleanEpoch=Fr}function Mt(e){return e&&(e.nextProducerIndex=0),le(e)}function ei(e,n){if(le(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Fn(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)jr(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function js(e){Bs(e);for(let n=0;n<e.producerNode.length;n++){const t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(Vr(t),r!==t.version))return!0}return!1}function Li(e){if(Bs(e),Fn(e))for(let n=0;n<e.producerNode.length;n++)jr(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Ic(e,n,t){if(Us(e),0===e.liveConsumerNode.length&&$s(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Ic(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function jr(e,n){if(Us(e),1===e.liveConsumerNode.length&&$s(e))for(let r=0;r<e.producerNode.length;r++)jr(e.producerNode[r],e.producerIndexOfThis[r]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[n],o=e.liveConsumerNode[n];Bs(o),o.producerIndexOfThis[r]=n}}function Fn(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Bs(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Us(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function $s(e){return void 0!==e.producerNode}const an=Symbol("UNSET"),Ln=Symbol("COMPUTING"),Ht=Symbol("ERRORED"),Mc={...Pn,value:an,dirty:!0,error:null,equal:vt,kind:"computed",producerMustRecompute:e=>e.value===an||e.value===Ln,producerRecomputeValue(e){if(e.value===Ln)throw new Error("Detected cycle in computations.");const n=e.value;e.value=Ln;const t=Mt(e);let r,o=!1;try{r=e.computation(),le(null),o=n!==an&&n!==Ht&&r!==Ht&&e.equal(n,r)}catch(i){r=Ht,e.error=i}finally{ei(e,t)}o?e.value=n:(e.value=r,e.version++)}};let mo=function Uh(){throw new Error};function Sc(e){mo(e)}function de(e,n){Jo()||Sc(e),e.equal(e.value,n)||(e.value=n,function Vi(e){e.version++,function jh(){Fr++}(),Ec(e)}(e))}const $e={...Pn,equal:vt,value:void 0,kind:"signal"};let ji;function cn(){return ji}function ur(e){const n=ji;return ji=e,n}const vo=Symbol("NotFound");function Ue(e){return"function"==typeof e}function lr(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Error;const Bi=lr(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function _o(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class Lt{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const i of t)i.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Ue(r))try{r()}catch(i){n=i instanceof Bi?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{$i(i)}catch(s){n=n??[],s instanceof Bi?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Bi(n)}}add(n){var t;if(n&&n!==this)if(this.closed)$i(n);else{if(n instanceof Lt){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&_o(t,n)}remove(n){const{_finalizers:t}=this;t&&_o(t,n),n instanceof Lt&&n._removeParent(this)}}Lt.EMPTY=(()=>{const e=new Lt;return e.closed=!0,e})();const Ui=Lt.EMPTY;function Br(e){return e instanceof Lt||e&&"closed"in e&&Ue(e.remove)&&Ue(e.add)&&Ue(e.unsubscribe)}function $i(e){Ue(e)?e():e.unsubscribe()}const dr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Vn={setTimeout(e,n,...t){const{delegate:r}=Vn;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=Vn;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ue(e){Vn.setTimeout(()=>{const{onUnhandledError:n}=dr;if(!n)throw e;n(e)})}function Do(){}const bo=Hi("C",void 0,void 0);function Hi(e,n,t){return{kind:e,value:n,error:t}}let Ur=null;function ti(e){if(dr.useDeprecatedSynchronousErrorHandling){const n=!Ur;if(n&&(Ur={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=Ur;if(Ur=null,t)throw r}}else e()}class Gi extends Lt{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Br(n)&&n.add(this)):this.destination=St}static create(n,t,r){return new fr(n,t,r)}next(n){this.isStopped?Ze(function oe(e){return Hi("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Ze(function qs(e){return Hi("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Ze(bo,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qh=Function.prototype.bind;function Rc(e,n){return qh.call(e,n)}class ni{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){ri(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){ri(r)}else ri(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){ri(t)}}}class fr extends Gi{constructor(n,t,r){let o;if(super(),Ue(n)||!n)o={next:n??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&dr.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&Rc(n.next,i),error:n.error&&Rc(n.error,i),complete:n.complete&&Rc(n.complete,i)}):o=n}this.destination=new ni(o)}}function ri(e){dr.useDeprecatedSynchronousErrorHandling?function Rl(e){dr.useDeprecatedSynchronousErrorHandling&&Ur&&(Ur.errorThrown=!0,Ur.error=e)}(e):ue(e)}function Ze(e,n){const{onStoppedNotification:t}=dr;t&&Vn.setTimeout(()=>t(e,n))}const St={closed:!0,next:Do,error:function zs(e){throw e},complete:Do},xc="function"==typeof Symbol&&Symbol.observable||"@@observable";function Kn(e){return e}function qi(e){return 0===e.length?Kn:1===e.length?e[0]:function(t){return e.reduce((r,o)=>o(r),t)}}let _t=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,o){const i=function $r(e){return e&&e instanceof Gi||function oi(e){return e&&Ue(e.next)&&Ue(e.error)&&Ue(e.complete)}(e)&&Br(e)}(t)?t:new fr(t,r,o);return ti(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=hr(r))((o,i)=>{const s=new fr({next:a=>{try{t(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[xc](){return this}pipe(...t){return qi(t)(this)}toPromise(t){return new(t=hr(t))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=n=>new e(n),e})();function hr(e){var n;return null!==(n=e??dr.Promise)&&void 0!==n?n:Promise}const Ks=lr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let nn=(()=>{class e extends _t{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new pr(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Ks}next(t){ti(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){ti(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ti(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:o,observers:i}=this;return r||o?Ui:(this.currentObservers=null,i.push(t),new Lt(()=>{this.currentObservers=null,_o(i,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){const t=new _t;return t.source=this,t}}return e.create=(n,t)=>new pr(n,t),e})();class pr extends nn{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:Ui}}class Gt extends nn{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function Hr(e){return Ue(e?.lift)}function Tt(e){return n=>{if(Hr(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function dt(e,n,t,r,o){return new ft(e,n,t,r,o)}class ft extends Gi{constructor(n,t,r,o,i,s){super(n),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){n.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function me(e,n){return Tt((t,r)=>{let o=0;t.subscribe(dt(r,i=>{r.next(e.call(n,i,o++))}))})}const Oc="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class U extends Error{code;constructor(n,t){super(function jn(e,n){return`${function Ys(e){return`NG0${Math.abs(e)}`}(e)}${n?": "+n:""}`}(n,t)),this.code=n}}const ii=Symbol("InputSignalNode#UNSET"),qr={...$e,transformFn:void 0,applyValueToInputSignal(e,n){de(e,n)}};function zi(e,n){const t=Object.create(qr);function r(){if(Fi(t),t.value===ii)throw new U(-950,null);return t.value}return t.value=e,t.transformFn=n?.transform,r[Ft]=t,r}function Yn(e){return{toString:e}.toString()}const Co="__parameters__";function Zn(e,n,t){return Yn(()=>{const r=function ze(e){return function(...t){if(e){const r=e(...t);for(const o in r)this[o]=r[o]}}}(n);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(c,l,f){const p=c.hasOwnProperty(Co)?c[Co]:Object.defineProperty(c,Co,{value:[]})[Co];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),c}}return o.prototype.ngMetadataName=e,o.annotationCls=o,o})}const We=globalThis;function je(e){for(let n in e)if(e[n]===je)return n;throw Error("Could not find renamed property on target object.")}function kl(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function it(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(it).join(", ")}]`;if(null==e)return""+e;const n=e.overriddenName||e.name;if(n)return`${n}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return r>=0?t.slice(0,r):t}function Qs(e,n){return e?n?`${e} ${n}`:e:n||""}const Pl=je({__forward_ref__:je});function Qe(e){return e.__forward_ref__=Qe,e.toString=function(){return it(this())},e}function ne(e){return si(e)?e():e}function si(e){return"function"==typeof e&&e.hasOwnProperty(Pl)&&e.__forward_ref__===Qe}function ie(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Io(e){return{providers:e.providers||[],imports:e.imports||[]}}function ea(e){return jl(e,So)||jl(e,Bl)}function jl(e,n){return e.hasOwnProperty(n)?e[n]:null}function Mo(e){return e&&(e.hasOwnProperty(Zi)||e.hasOwnProperty(Qh))?e[Zi]:null}const So=je({\u0275prov:je}),Zi=je({\u0275inj:je}),Bl=je({ngInjectableDef:je}),Qh=je({ngInjectorDef:je});class Y{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ie({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Xi(e){return e&&!!e.\u0275providers}const zr=je({\u0275cmp:je}),At=je({\u0275dir:je}),Ao=je({\u0275pipe:je}),ui=je({\u0275mod:je}),Jn=je({\u0275fac:je}),Wr=je({__NG_ELEMENT_ID__:je}),Lc=je({__NG_ENV_ID__:je});function _e(e){return"string"==typeof e?e:null==e?"":String(e)}function na(e,n){throw new U(-200,e)}function Ji(e,n){throw new U(-201,!1)}var Ae=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ae||{});let Vc;function oa(){return Vc}function jt(e){const n=Vc;return Vc=e,n}function ql(e,n,t){const r=ea(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Ae.Optional?null:void 0!==n?n:void Ji()}const Ro={},ia="__NG_DI_FLAG__";class Kl{injector;constructor(n){this.injector=n}retrieve(n,t){return this.injector.get(n,t.optional?vo:Ro,t)}}const es="ngTempTokenPath",Jh=/\n/gm,sa="__source";function Ql(e,n=Ae.Default){if(void 0===cn())throw new U(-203,!1);if(null===cn())return ql(e,void 0,n);{const t=cn();let r;return r=t instanceof Kl?t.injector:t,r.get(e,n&Ae.Optional?null:void 0,n)}}function fe(e,n=Ae.Default){return(oa()||Ql)(ne(e),n)}function $(e,n=Ae.Default){return fe(e,aa(n))}function aa(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function li(e){const n=[];for(let t=0;t<e.length;t++){const r=ne(e[t]);if(Array.isArray(r)){if(0===r.length)throw new U(900,!1);let o,i=Ae.Default;for(let s=0;s<r.length;s++){const a=r[s],c=ht(a);"number"==typeof c?-1===c?o=a.token:i|=c:o=a}n.push(fe(o,i))}else n.push(fe(r))}return n}function dn(e,n){return e[ia]=n,e.prototype[ia]=n,e}function ht(e){return e[ia]}const ts=dn(Zn("Optional"),8),mr=dn(Zn("SkipSelf"),4);function Sn(e,n){return e.hasOwnProperty(Jn)?e[Jn]:null}function u(e,n){e.forEach(t=>Array.isArray(t)?u(t,n):n(t))}function d(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function h(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function b(e,n,t){let r=I(e,n);return r>=0?e[1|r]=t:(r=~r,function _(e,n,t,r){let o=e.length;if(o==n)e.push(t,r);else if(1===o)e.push(r,e[0]),e[0]=t;else{for(o--,e.push(e[o-1],e[o]);o>n;)e[o]=e[o-2],o--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function E(e,n){const t=I(e,n);if(t>=0)return e[1|t]}function I(e,n){return function A(e,n,t){let r=0,o=e.length>>t;for(;o!==r;){const i=r+(o-r>>1),s=e[i<<t];if(n===s)return i<<t;s>n?o=i:r=i+1}return~(o<<t)}(e,n,1)}const R={},C=[],O=new Y(""),S=new Y("",-1),x=new Y("");class k{get(n,t=Ro){if(t===Ro){const r=new Error(`NullInjectorError: No provider for ${it(n)}!`);throw r.name="NullInjectorError",r}return t}}function M(e,n){const t=e[ui]||null;if(!t&&!0===n)throw new Error(`Type ${it(e)} does not have '\u0275mod' property.`);return t}function N(e){return e[zr]||null}function L(e){return e[Ao]||null}function q(e){return{\u0275providers:e}}function K(...e){return{\u0275providers:Z(0,e),\u0275fromNgModule:!0}}function Z(e,...n){const t=[],r=new Set;let o;const i=s=>{t.push(s)};return u(n,s=>{const a=s;X(a,i,[],r)&&(o||=[],o.push(a))}),void 0!==o&&re(o,i),t}function re(e,n){for(let t=0;t<e.length;t++){const{ngModule:r,providers:o}=e[t];Ee(o,i=>{n(i,r)})}}function X(e,n,t,r){if(!(e=ne(e)))return!1;let o=null,i=Mo(e);const s=!i&&N(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const c=e.ngModule;if(i=Mo(c),!i)return!1;o=c}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)X(l,n,t,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let l;r.add(o);try{u(i.imports,f=>{X(f,n,t,r)&&(l||=[],l.push(f))})}finally{}void 0!==l&&re(l,n)}if(!a){const l=Sn(o)||(()=>new o);n({provide:o,useFactory:l,deps:C},o),n({provide:x,useValue:o,multi:!0},o),n({provide:O,useValue:()=>fe(o),multi:!0},o)}const c=i.providers;if(null!=c&&!a){const l=e;Ee(c,f=>{n(f,l)})}}}return o!==e&&void 0!==e.providers}function Ee(e,n){for(let t of e)Xi(t)&&(t=t.\u0275providers),Array.isArray(t)?Ee(t,n):n(t)}const ke=je({provide:String,useValue:je});function xe(e){return null!==e&&"object"==typeof e&&ke in e}function st(e){return"function"==typeof e}const di=new Y(""),Nt={},Yr={};let ns;function ed(){return void 0===ns&&(ns=new k),ns}class Tn{}class rs extends Tn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,np(n,s=>this.processProvider(s)),this.records.set(S,ua(void 0,this)),o.has("environment")&&this.records.set(Tn,ua(void 0,this));const i=this.records.get(di);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(x,C,Ae.Self))}retrieve(n,t){return this.get(n,t.optional?vo:Ro,t)}destroy(){Bc(this),this._destroyed=!0;const n=le(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),le(n)}}onDestroy(n){return Bc(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Bc(this);const t=ur(this),r=jt(void 0);try{return n()}finally{ur(t),jt(r)}}get(n,t=Ro,r=Ae.Default){if(Bc(this),n.hasOwnProperty(Lc))return n[Lc](this);r=aa(r);const i=ur(this),s=jt(void 0);try{if(!(r&Ae.SkipSelf)){let c=this.records.get(n);if(void 0===c){const l=function jA(e){return"function"==typeof e||"object"==typeof e&&e instanceof Y}(n)&&ea(n);c=l&&this.injectableDefInScope(l)?ua(tp(n),Nt):null,this.records.set(n,c)}if(null!=c)return this.hydrate(n,c,r)}return(r&Ae.Self?ed():this.parent).get(n,t=r&Ae.Optional&&t===Ro?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[es]=a[es]||[]).unshift(it(n)),i)throw a;return function ca(e,n,t,r){const o=e[es];throw n[sa]&&o.unshift(n[sa]),e.message=function Mn(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=it(n);if(Array.isArray(n))o=n.map(it).join(" -> ");else if("object"==typeof n){let i=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):it(a)))}o=`{${i.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${e.replace(Jh,"\n  ")}`}("\n"+e.message,o,t,r),e.ngTokenPath=o,e[es]=null,e}(a,n,"R3InjectorError",this.source)}throw a}finally{jt(s),ur(i)}}resolveInjectorInitializers(){const n=le(null),t=ur(this),r=jt(void 0);try{const i=this.get(O,C,Ae.Self);for(const s of i)s()}finally{ur(t),jt(r),le(n)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(it(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){let t=st(n=ne(n))?n:ne(n&&n.provide);const r=function FA(e){return xe(e)?ua(void 0,e.useValue):ua(f_(e),Nt)}(n);if(!st(n)&&!0===n.multi){let o=this.records.get(t);o||(o=ua(void 0,Nt,!0),o.factory=()=>li(o.multi),this.records.set(t,o)),t=n,o.multi.push(n)}this.records.set(t,r)}hydrate(n,t,r){const o=le(null);try{return t.value===Yr?na(it(n)):t.value===Nt&&(t.value=Yr,t.value=t.factory(void 0,r)),"object"==typeof t.value&&t.value&&function VA(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{le(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const t=ne(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function tp(e){const n=ea(e),t=null!==n?n.factory:Sn(e);if(null!==t)return t;if(e instanceof Y)throw new U(204,!1);if(e instanceof Function)return function PA(e){if(e.length>0)throw new U(204,!1);const t=function Zh(e){return e&&(e[So]||e[Bl])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new U(204,!1)}function f_(e,n,t){let r;if(st(e)){const o=ne(e);return Sn(o)||tp(o)}if(xe(e))r=()=>ne(e.useValue);else if(function Ie(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...li(e.deps||[]));else if(function rn(e){return!(!e||!e.useExisting)}(e))r=(o,i)=>fe(ne(e.useExisting),void 0!==i&&i&Ae.Optional?Ae.Optional:void 0);else{const o=ne(e&&(e.useClass||e.provide));if(!function LA(e){return!!e.deps}(e))return Sn(o)||tp(o);r=()=>new o(...li(e.deps))}return r}function Bc(e){if(e.destroyed)throw new U(205,!1)}function ua(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function np(e,n){for(const t of e)Array.isArray(t)?np(t,n):t&&Xi(t)?np(t.\u0275providers,n):n(t)}function yr(e,n){let t;e instanceof rs?(Bc(e),t=e):t=new Kl(e);const o=ur(t),i=jt(void 0);try{return n()}finally{ur(o),jt(i)}}function Dt(e){return Array.isArray(e)&&"object"==typeof e[1]}function Ut(e){return Array.isArray(e)&&!0===e[1]}function ip(e){return!!(4&e.flags)}function _r(e){return e.componentOffset>-1}function id(e){return!(1&~e.flags)}function Un(e){return!!e.template}function Oo(e){return!!(512&e[2])}function ko(e){return!(256&~e[2])}class QA{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function b_(e,n,t,r){null!==n?n.applyValueToInputSignal(n,r):e[t]=r}const Dr=(()=>{const e=()=>C_;return e.ngInherit=!0,e})();function C_(e){return e.type.prototype.ngOnChanges&&(e.setInput=JA),XA}function XA(){const e=E_(this),n=e?.current;if(n){const t=e.previous;if(t===R)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function JA(e,n,t,r,o){const i=this.declaredInputs[r],s=E_(e)||function eN(e,n){return e[w_]=n}(e,{previous:R,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new QA(l&&l.currentValue,t,c===R),b_(e,n,o,t)}const w_="__ngSimpleChanges__";function E_(e){return e[w_]||null}function Be(e){for(;Array.isArray(e);)e=e[0];return e}function ya(e,n){return Be(n[e])}function hn(e,n){return Be(n[e.index])}function as(e,n){return e.data[n]}function cs(e,n){return e[n]}function pn(e,n){const t=n[e];return Dt(t)?t:t[0]}function cp(e){return!(128&~e[2])}function er(e,n){return null==n?null:e[n]}function S_(e){e[17]=0}function up(e){1024&e[2]||(e[2]|=1024,cp(e)&&va(e))}function Hc(e){return!!(9216&e[2]||e[24]?.dirty)}function lp(e){e[10].changeDetectionScheduler?.notify(8),64&e[2]&&(e[2]|=1024),Hc(e)&&va(e)}function va(e){e[10].changeDetectionScheduler?.notify(0);let n=Po(e);for(;null!==n&&!(8192&n[2])&&(n[2]|=8192,cp(n));)n=Po(n)}function ad(e,n){if(ko(e))throw new U(911,!1);null===e[21]&&(e[21]=[]),e[21].push(n)}function Po(e){const n=e[3];return Ut(n)?n[3]:n}function fp(e){return e[7]??=[]}function hp(e){return e.cleanup??=[]}const be={lFrame:L_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let gp=!1;function mp(){return be.bindingsEnabled}function j(){return be.lFrame.lView}function ye(){return be.lFrame.tView}function gn(e){return be.lFrame.contextLView=e,e[8]}function mn(e){return be.lFrame.contextLView=null,e}function Pe(){let e=A_();for(;null!==e&&64===e.type;)e=e.parent;return e}function A_(){return be.lFrame.currentTNode}function br(e,n){const t=be.lFrame;t.currentTNode=e,t.isParent=n}function yp(){return be.lFrame.isParent}function vp(){be.lFrame.isParent=!1}function x_(){return gp}function ud(e){const n=gp;return gp=e,n}function yn(){const e=be.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Fo(){return be.lFrame.bindingIndex}function tr(){return be.lFrame.bindingIndex++}function Lo(e){const n=be.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function gN(e,n){const t=be.lFrame;t.bindingIndex=t.bindingRootIndex=e,_p(n)}function _p(e){be.lFrame.currentDirectiveIndex=e}function ld(e){be.lFrame.currentQueryIndex=e}function yN(e){const n=e[1];return 2===n.type?n.declTNode:1===n.type?e[5]:null}function P_(e,n,t){if(t&Ae.SkipSelf){let o=n,i=e;for(;!(o=o.parent,null!==o||t&Ae.Host||(o=yN(i),null===o||(i=i[14],10&o.type))););if(null===o)return!1;n=o,e=i}const r=be.lFrame=F_();return r.currentTNode=n,r.lView=e,!0}function Cp(e){const n=F_(),t=e[1];be.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function F_(){const e=be.lFrame,n=null===e?null:e.child;return null===n?L_(e):n}function L_(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function V_(){const e=be.lFrame;return be.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const j_=V_;function wp(){const e=V_();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Xt(){return be.lFrame.selectedIndex}function ls(e){be.lFrame.selectedIndex=e}function Xe(){const e=be.lFrame;return as(e.tView,e.selectedIndex)}function qc(){be.lFrame.currentNamespace="svg"}let $_=!0;function zc(){return $_}function Xr(e){$_=e}function Ep(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const i=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:f}=i;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),c&&(e.viewHooks??=[]).push(-t,c),l&&((e.viewHooks??=[]).push(t,l),(e.viewCheckHooks??=[]).push(t,l)),null!=f&&(e.destroyHooks??=[]).push(t,f)}}function dd(e,n,t){H_(e,n,3,t)}function fd(e,n,t,r){(3&e[2])===t&&H_(e,n,t,r)}function Ip(e,n){let t=e[2];(3&t)===n&&(t&=16383,t+=1,e[2]=t)}function H_(e,n,t,r){const i=r??-1,s=n.length-1;let a=0;for(let c=void 0!==r?65535&e[17]:0;c<s;c++)if("number"==typeof n[c+1]){if(a=n[c],null!=r&&a>=r)break}else n[c]<0&&(e[17]+=65536),(a<i||-1==i)&&(CN(e,t,n,c),e[17]=(4294901760&e[17])+c+2),c++}function G_(e,n){const t=le(null);try{n.call(e)}finally{le(t)}}function CN(e,n,t,r){const o=t[r]<0,i=t[r+1],a=e[o?-t[r]:t[r]];o?e[2]>>14<e[17]>>16&&(3&e[2])===n&&(e[2]+=16384,G_(a,i)):G_(a,i)}class Wc{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=r}}function q_(e){return 3===e||4===e||6===e}function z_(e){return 64===e.charCodeAt(0)}function Da(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const o=n[r];"number"==typeof o?t=o:0===t||W_(e,t,o,0,-1===t||2===t?n[++r]:null)}}return e}function W_(e,n,t,r,o){let i=0,s=e.length;if(-1===n)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===t)return void(null!==o&&(e[i+1]=o));i++,null!==o&&i++}-1!==s&&(e.splice(s,0,n),i=s+1),e.splice(i++,0,t),null!==o&&e.splice(i++,0,o)}function Tp(e){return-1!==e}function Kc(e){return 32767&e}function Yc(e,n){let t=function SN(e){return e>>16}(e),r=n;for(;t>0;)r=r[14],t--;return r}let Ap=!0;function hd(e){const n=Ap;return Ap=e,n}let TN=0;const Jr={};function pd(e,n){const t=Z_(e,n);if(-1!==t)return t;const r=n[1];r.firstCreatePass&&(e.injectorIndex=n.length,Np(r.data,e),Np(n,null),Np(r.blueprint,null));const o=gd(e,n),i=e.injectorIndex;if(Tp(o)){const s=Kc(o),a=Yc(o,n),c=a[1].data;for(let l=0;l<8;l++)n[i+l]=a[s+l]|c[s+l]}return n[i+8]=o,i}function Np(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Z_(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function gd(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,o=n;for(;null!==o;){if(r=rD(o),null===r)return-1;if(t++,o=o[14],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Rp(e,n,t){!function AN(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Wr)&&(r=t[Wr]),null==r&&(r=t[Wr]=TN++);const o=255&r;n.data[e+(o>>5)]|=1<<o}(e,n,t)}function Q_(e,n,t){if(t&Ae.Optional||void 0!==e)return e;Ji()}function X_(e,n,t,r){if(t&Ae.Optional&&void 0===r&&(r=null),!(t&(Ae.Self|Ae.Host))){const o=e[9],i=jt(void 0);try{return o?o.get(n,r,t&Ae.Optional):ql(n,r,t&Ae.Optional)}finally{jt(i)}}return Q_(r,0,t)}function J_(e,n,t,r=Ae.Default,o){if(null!==e){if(2048&n[2]&&!(r&Ae.Self)){const s=function kN(e,n,t,r,o){let i=e,s=n;for(;null!==i&&null!==s&&2048&s[2]&&!Oo(s);){const a=eD(i,s,t,r|Ae.Self,Jr);if(a!==Jr)return a;let c=i.parent;if(!c){const l=s[20];if(l){const f=l.get(t,Jr,r);if(f!==Jr)return f}c=rD(s),s=s[14]}i=c}return o}(e,n,t,r,Jr);if(s!==Jr)return s}const i=eD(e,n,t,r,Jr);if(i!==Jr)return i}return X_(n,t,r,o)}function eD(e,n,t,r,o){const i=function xN(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Wr)?e[Wr]:void 0;return"number"==typeof n?n>=0?255&n:ON:n}(t);if("function"==typeof i){if(!P_(n,e,r))return r&Ae.Host?Q_(o,0,r):X_(n,t,r,o);try{let s;if(s=i(r),null!=s||r&Ae.Optional)return s;Ji()}finally{j_()}}else if("number"==typeof i){let s=null,a=Z_(e,n),c=-1,l=r&Ae.Host?n[15][5]:null;for((-1===a||r&Ae.SkipSelf)&&(c=-1===a?gd(e,n):n[a+8],-1!==c&&nD(r,!1)?(s=n[1],a=Kc(c),n=Yc(c,n)):a=-1);-1!==a;){const f=n[1];if(tD(i,a,f.data)){const p=RN(a,n,t,s,r,l);if(p!==Jr)return p}c=n[a+8],-1!==c&&nD(r,n[1].data[a+8]===l)&&tD(i,a,n)?(s=f,a=Kc(c),n=Yc(c,n)):a=-1}}return o}function RN(e,n,t,r,o,i){const s=n[1],a=s.data[e+8],f=function md(e,n,t,r,o){const i=e.providerIndexes,s=n.data,a=1048575&i,c=e.directiveStart,f=i>>20,v=o?a+f:e.directiveEnd;for(let m=r?a:a+f;m<v;m++){const D=s[m];if(m<c&&t===D||m>=c&&D.type===t)return m}if(o){const m=s[c];if(m&&Un(m)&&m.type===t)return c}return null}(a,s,t,null==r?_r(a)&&Ap:r!=s&&!!(3&a.type),o&Ae.Host&&i===a);return null!==f?Zc(n,s,f,a,o):Jr}function Zc(e,n,t,r,o){let i=e[t];const s=n.data;if(i instanceof Wc){const a=i;a.resolving&&na(function Fe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():_e(e)}(s[t]));const c=hd(a.canSeeViewProviders);a.resolving=!0;const f=a.injectImpl?jt(a.injectImpl):null;P_(e,r,Ae.Default);try{i=e[t]=a.factory(void 0,o,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&function bN(e,n,t){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=n.type.prototype;if(r){const s=C_(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}o&&(t.preOrderHooks??=[]).push(0-e,o),i&&((t.preOrderHooks??=[]).push(e,i),(t.preOrderCheckHooks??=[]).push(e,i))}(t,s[t],n)}finally{null!==f&&jt(f),hd(c),a.resolving=!1,j_()}}return i}function tD(e,n,t){return!!(t[n+(e>>5)]&1<<e)}function nD(e,n){return!(e&Ae.Self||e&Ae.Host&&n)}class bt{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return J_(this._tNode,this._lView,n,aa(r),t)}}function ON(){return new bt(Pe(),j())}function Kt(e){return Yn(()=>{const n=e.prototype.constructor,t=n[Jn]||xp(n),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const i=o[Jn]||xp(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function xp(e){return si(e)?()=>{const n=xp(ne(e));return n&&n()}:Sn(e)}function rD(e){const n=e[1],t=n.type;return 2===t?n.declTNode:1===t?e[5]:null}function cD(e,n=null,t=null,r){const o=uD(e,n,t,r);return o.resolveInjectorInitializers(),o}function uD(e,n=null,t=null,r,o=new Set){const i=[t||C,K(e)];return r=r||("object"==typeof e?void 0:it(e)),new rs(i,n||ed(),r||null,o)}class Yt{static THROW_IF_NOT_FOUND=Ro;static NULL=new k;static create(n,t){if(Array.isArray(n))return cD({name:""},t,n,"");{const r=n.name??"";return cD({name:r},n.parent,n.providers,r)}}static \u0275prov=ie({token:Yt,providedIn:"any",factory:()=>fe(S)});static __NG_ELEMENT_ID__=-1}new Y("").__NG_ELEMENT_ID__=e=>{const n=Pe();if(null===n)throw new U(204,!1);if(2&n.type)return n.value;if(e&Ae.Optional)return null;throw new U(204,!1)};const lD=!1;let Vo=(()=>class e{static __NG_ELEMENT_ID__=HN;static __NG_ENV_ID__=t=>t})();class dD extends Vo{_lView;constructor(n){super(),this._lView=n}onDestroy(n){const t=this._lView;return ko(t)?(n(),()=>{}):(ad(t,n),()=>function dp(e,n){if(null===e[21])return;const t=e[21].indexOf(n);-1!==t&&e[21].splice(t,1)}(t,n))}}function HN(){return new dD(j())}class jo{}const Xc=new Y("",{providedIn:"root",factory:()=>!1}),fD=new Y(""),kp=new Y("");let pi=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Gt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=ie({token:e,providedIn:"root",factory:()=>new e})}return e})();const Rt=class GN extends nn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,function h_(){return void 0!==oa()||null!=cn()}()&&(this.destroyRef=$(Vo,{optional:!0})??void 0,this.pendingTasks=$(pi,{optional:!0})??void 0)}emit(n){const t=le(null);try{super.next(n)}finally{le(t)}}subscribe(n,t,r){let o=n,i=t||(()=>null),s=r;if(n&&"object"==typeof n){const c=n;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:o,error:i,complete:s});return n instanceof Lt&&n.add(a),a}wrapInTimeout(n){return t=>{const r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{void 0!==r&&this.pendingTasks?.remove(r)}})}}};function Jc(...e){}function pD(e){let n,t;function r(){e=Jc;try{void 0!==t&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(t),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function gD(e){return queueMicrotask(()=>e()),()=>{e=Jc}}const Pp="isAngularZone",vd=Pp+"_ID";let qN=0;class qe{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Rt(!1);onMicrotaskEmpty=new Rt(!1);onStable=new Rt(!1);onError=new Rt(!1);constructor(n){const{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=lD}=n;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,function KN(e){const n=()=>{!function WN(e){function n(){pD(()=>{e.callbackScheduled=!1,Lp(e),e.isCheckStableRunning=!0,Fp(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Lp(e))}(e)},t=qN++;e._inner=e._inner.fork({name:"angular",properties:{[Pp]:!0,[vd]:t,[vd+t]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(function YN(e){return vD(e,"__ignore_ng_zone__")}(c))return r.invokeTask(i,s,a,c);try{return mD(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&n(),yD(e)}},onInvoke:(r,o,i,s,a,c,l)=>{try{return mD(e),r.invoke(i,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function ZN(e){return vD(e,"__scheduler_tick__")}(c)&&n(),yD(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Lp(e),Fp(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Pp)}static assertInAngularZone(){if(!qe.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(qe.isInAngularZone())throw new U(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,n,zN,Jc,Jc);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const zN={};function Fp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Lp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function mD(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function yD(e){e._nesting--,Fp(e)}class Vp{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Rt;onMicrotaskEmpty=new Rt;onStable=new Rt;onError=new Rt;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,o){return n.apply(t,r)}}function vD(e,n){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[n]}class Cr{_console=console;handleError(n){this._console.error("ERROR",n)}}const XN=new Y("",{providedIn:"root",factory:()=>{const e=$(qe),n=$(Cr);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function DD(e,n){return zi(e,n)}const eR=(DD.required=function JN(e){return zi(ii,e)},DD);function tR(){return ba(Pe(),j())}function ba(e,n){return new $n(hn(e,n))}let $n=(()=>class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=tR})();function eo(e,n){const t=function Tc(e,n){const t=Object.create($e);t.value=e,void 0!==n&&(t.equal=n);const r=()=>(Fi(t),t.value);return r[Ft]=t,r}(e,n?.equal),r=t[Ft];return t.set=o=>de(r,o),t.update=o=>function Ac(e,n){Jo()||Sc(e),de(e,n(e.value))}(r,o),t.asReadonly=_d.bind(t),t}function _d(){const e=this[Ft];if(void 0===e.readonlyFn){const n=()=>this();n[Ft]=e,e.readonlyFn=n}return e.readonlyFn}function wD(e){return function CD(e){return"function"==typeof e&&void 0!==e[Ft]}(e)&&"function"==typeof e.set}function tu(e){return!(128&~e.flags)}Symbol;var Dd=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Dd||{});const bd=new Map;let iR=0;function Bp(e){bd.delete(e[19])}const $p="__ngContext__";function Nn(e,n){Dt(n)?(e[$p]=n[19],function aR(e){bd.set(e[19],e)}(n)):e[$p]=n}function xD(e){return kD(e[12])}function OD(e){return kD(e[4])}function kD(e){for(;null!==e&&!Ut(e);)e=e[4];return e}let Gp;const Bo=new Y("",{providedIn:"root",factory:()=>MR}),MR="ng",qp=new Y(""),zp=new Y("",{providedIn:"platform",factory:()=>"unknown"}),UD=new Y("",{providedIn:"root",factory:()=>function to(){if(void 0!==Gp)return Gp;if(typeof document<"u")return document;throw new U(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),qD=new Y("",{providedIn:"root",factory:()=>!1});var rg=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(rg||{});const wa=new Y(""),YD=new Set;let og=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=ie({token:e,providedIn:"root",factory:()=>new e})}return e})();function Ib(e,n){const t=e.contentQueries;if(null!==t){const r=le(null);try{for(let o=0;o<t.length;o+=2){const s=t[o+1];if(-1!==s){const a=e.data[s];ld(t[o]),a.contentQueries(2,n[s],s)}}}finally{le(r)}}}function yg(e,n,t){ld(0);const r=le(null);try{n(e,t)}finally{le(r)}}function vg(e,n,t){if(ip(n)){const r=le(null);try{const i=n.directiveEnd;for(let s=n.directiveStart;s<i;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{le(r)}}}var nr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(nr||{});class Nb{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Oc})`}}function mi(e){return e instanceof Nb?e.changingThisBreaksApplicationSecurity:e}const w1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Oa=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Oa||{});function Eg(e){const n=function mu(){const e=j();return e&&e[10].sanitizer}();return n?n.sanitize(Oa.URL,e)||"":function pu(e,n){const t=function _1(e){return e instanceof Nb&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Oc})`)}return t===n}(e,"URL")?mi(e):function Dg(e){return(e=String(e)).match(w1)?e:"unsafe:"+e}(_e(e))}const j1=/^>|^->|<!--|-->|--!>|<!-$/g,B1=/(<|>)/g;function no(e){return e instanceof Function?e():e}function X1(e,n,t){let r=e.length;for(;;){const o=e.indexOf(n,t);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=n.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}t=o+1}}const Yb="ng-template";function J1(e,n,t,r){let o=0;if(r){for(;o<n.length&&"string"==typeof n[o];o+=2)if("class"===n[o]&&-1!==X1(n[o+1].toLowerCase(),t,0))return!0}else if(Sg(e))return!1;if(o=n.indexOf(1,o),o>-1){let i;for(;++o<n.length&&"string"==typeof(i=n[o]);)if(i.toLowerCase()===t)return!0}return!1}function Sg(e){return 4===e.type&&e.value!==Yb}function ex(e,n,t){return n===(4!==e.type||t?e.value:Yb)}function tx(e,n,t){let r=4;const o=e.attrs,i=null!==o?function ox(e){for(let n=0;n<e.length;n++)if(q_(e[n]))return n;return e.length}(o):0;let s=!1;for(let a=0;a<n.length;a++){const c=n[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!ex(e,c,t)||""===c&&1===n.length){if(wr(r))return!1;s=!0}}else if(8&r){if(null===o||!J1(e,o,c,t)){if(wr(r))return!1;s=!0}}else{const l=n[++a],f=nx(c,o,Sg(e),t);if(-1===f){if(wr(r))return!1;s=!0;continue}if(""!==l){let p;if(p=f>i?"":o[f+1].toLowerCase(),2&r&&l!==p){if(wr(r))return!1;s=!0}}}}else{if(!s&&!wr(r)&&!wr(c))return!1;if(s&&wr(c))continue;s=!1,r=c|1&r}}return wr(r)||s}function wr(e){return!(1&e)}function nx(e,n,t,r){if(null===n)return-1;let o=0;if(r||!t){let i=!1;for(;o<n.length;){const s=n[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=n[++o];for(;"string"==typeof a;)a=n[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function ix(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function Zb(e,n,t=!1){for(let r=0;r<n.length;r++)if(tx(e,n[r],t))return!0;return!1}function Qb(e,n){return e?":not("+n.trim()+")":n}function ax(e){let n=e[0],t=1,r=2,o="",i=!1;for(;t<e.length;){let s=e[t];if("string"==typeof s)if(2&r){const a=e[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!wr(s)&&(n+=Qb(i,o),o=""),r=s,i=i||!wr(r);t++}return""!==o&&(n+=Qb(i,o)),n}const Me={};function Ag(e,n){return e.createComment(function Ub(e){return e.replace(j1,n=>n.replace(B1,"\u200b$1\u200b"))}(n))}function Ud(e,n,t){return e.createElement(n,t)}function ps(e,n,t,r,o){e.insertBefore(n,t,r,o)}function Jb(e,n,t){e.appendChild(n,t)}function eC(e,n,t,r,o){null!==r?ps(e,n,t,r,o):Jb(e,n,t)}function nC(e,n,t){const{mergedAttrs:r,classes:o,styles:i}=t;null!==r&&function MN(e,n,t){let r=0;for(;r<t.length;){const o=t[r];if("number"==typeof o){if(0!==o)break;r++;const i=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,i)}else{const i=o,s=t[++r];z_(i)?e.setProperty(n,i,s):e.setAttribute(n,i,s),r++}}}(e,n,r),null!==o&&function dx(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}(e,n,o),null!==i&&function lx(e,n,t){e.setAttribute(n,"style",t)}(e,n,i)}function Ng(e,n,t,r,o,i,s,a,c,l,f){const p=26+r,v=p+o,m=function fx(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:Me);return t}(p,v),D="function"==typeof l?l():l;return m[1]={type:e,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:n,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:D,incompleteFirstPass:!1,ssrId:f}}function $d(e,n,t,r,o,i,s,a,c,l,f){const p=n.blueprint.slice();return p[0]=o,p[2]=1228|r,(null!==l||e&&2048&e[2])&&(p[2]|=2048),S_(p),p[3]=p[14]=e,p[8]=t,p[10]=s||e&&e[10],p[11]=a||e&&e[11],p[9]=c||e&&e[9]||null,p[5]=i,p[19]=function sR(){return iR++}(),p[6]=f,p[20]=l,p[15]=2==n.type?e[15]:p,p}function Rg(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function vu(e,n,t,r){if(0===t)return-1;const o=n.length;for(let i=0;i<t;i++)n.push(r),e.blueprint.push(r),e.data.push(null);return o}function xg(e,n){return e[12]?e[13][4]=n:e[12]=n,e[13]=n,n}function Q(e=1){oC(ye(),j(),Xt()+e,!1)}function oC(e,n,t,r){if(!r)if(3&~n[2]){const i=e.preOrderHooks;null!==i&&fd(n,i,0,t)}else{const i=e.preOrderCheckHooks;null!==i&&dd(n,i,t)}ls(t)}var Hd=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Hd||{});function Og(e,n,t,r){const o=le(null);try{const[i,s,a]=e.inputs[t];let c=null;!!(s&Hd.SignalBased)&&(c=n[i][Ft]),null!==c&&void 0!==c.transformFn?r=c.transformFn(r):null!==a&&(r=a.call(n,r)),null!==e.setInput?e.setInput(n,c,r,t,i):b_(n,c,i,r)}finally{le(o)}}function iC(e,n,t,r,o){const i=Xt(),s=2&r;try{ls(-1),s&&n.length>26&&oC(e,n,26,!1),t(r,o)}finally{ls(i)}}function Gd(e,n,t){(function Dx(e,n,t){const r=t.directiveStart,o=t.directiveEnd;_r(t)&&function hx(e,n,t){const r=hn(n,e),o=function rC(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Ng(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}(t),i=e[10].rendererFactory,s=xg(e,$d(e,o,null,Rg(t),r,n,null,i.createRenderer(r,t),null,null,null));e[n.index]=s}(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||pd(t,n);const i=t.initialInputs;for(let s=r;s<o;s++){const a=e.data[s],c=Zc(n,e,s,t);Nn(c,n),null!==i&&wx(0,s-r,c,a,0,i),Un(a)&&(pn(t.index,n)[8]=Zc(n,e,s,t))}})(e,n,t),!(64&~t.flags)&&function bx(e,n,t){const r=t.directiveStart,o=t.directiveEnd,i=t.index,s=function mN(){return be.lFrame.currentDirectiveIndex}();try{ls(i);for(let a=r;a<o;a++){const c=e.data[a],l=n[a];_p(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Cx(c,l)}}finally{ls(-1),_p(s)}}(e,n,t)}function kg(e,n,t=hn){const r=n.localNames;if(null!==r){let o=n.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?t(n,e):e[s];e[o++]=a}}}let sC=()=>null;function Rn(e,n,t,r,o,i,s,a){if(a||!Vg(n,e,t,r,o)){if(3&n.type){const c=hn(n,t);r=function vx(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=s?s(o,n.value||"",r):o,i.setProperty(c,r,o)}}else _r(n)&&function _x(e,n){const t=pn(n,e);16&t[2]||(t[2]|=64)}(t,n.index)}function Cx(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Pg(e,n){const t=e.directiveRegistry;let r=null;if(t)for(let o=0;o<t.length;o++){const i=t[o];Zb(n,i.selectors,!1)&&(r??=[],Un(i)?r.unshift(i):r.push(i))}return r}function ro(e,n,t,r,o,i){const s=hn(e,n);!function Fg(e,n,t,r,o,i,s){if(null==i)e.removeAttribute(n,o,t);else{const a=null==s?_e(i):s(i,r||"",o);e.setAttribute(n,o,a,t)}}(n[11],s,i,e.value,t,r,o)}function wx(e,n,t,r,o,i){const s=i[n];if(null!==s)for(let a=0;a<s.length;a+=2)Og(r,t,s[a],s[a+1])}function Vg(e,n,t,r,o){const i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r];let a=!1;if(s)for(let c=0;c<s.length;c+=2){const l=s[c];Og(n.data[l],t[l],s[c+1],o),a=!0}if(i)for(const c of i)Og(n.data[c],t[c],r,o),a=!0;return a}function Ex(e,n){const t=pn(n,e),r=t[1];!function Ix(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const o=t[0];null!==o&&null===t[6]&&(t[6]=null),qd(r,t,t[8])}function qd(e,n,t){Cp(n);try{const r=e.viewQuery;null!==r&&yg(1,r,t);const o=e.template;null!==o&&iC(e,n,o,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[18]?.finishViewCreation(e),e.staticContentQueries&&Ib(e,n),e.staticViewQueries&&yg(2,e.viewQuery,t);const i=e.components;null!==i&&function Mx(e,n){for(let t=0;t<n.length;t++)Ex(e,n[t])}(n,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[2]&=-5,wp()}}function gs(e,n){return!n||null===n.firstChild||tu(e)}function Bg(e,n){return undefined(e,n)}var yi=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(yi||{});function vi(e){return!(32&~e.flags)}function Fa(e,n,t,r,o){if(null!=r){let i,s=!1;Ut(r)?i=r:Dt(r)&&(s=!0,r=r[0]);const a=Be(r);0===e&&null!==t?null==o?Jb(n,t,a):ps(n,t,a,o||null,!0):1===e&&null!==t?ps(n,t,a,o||null,!0):2===e?function yu(e,n,t){e.removeChild(null,n,t)}(n,a,s):3===e&&n.destroyNode(a),null!=i&&function Ox(e,n,t,r,o){const i=t[7];i!==Be(t)&&Fa(n,e,r,i,o);for(let a=10;a<t.length;a++){const c=t[a];Wd(c[1],c,e,n,r,i)}}(n,e,i,t,o)}}function lC(e,n){n[10].changeDetectionScheduler?.notify(9),Wd(e,n,n[11],2,null,null)}function Ug(e,n){const t=e[9],r=t.indexOf(n);t.splice(r,1)}function _u(e,n){if(ko(n))return;const t=n[11];t.destroyNode&&Wd(e,n,t,3,null,null),function Ax(e){let n=e[12];if(!n)return $g(e[1],e);for(;n;){let t=null;if(Dt(n))t=n[12];else{const r=n[10];r&&(t=r)}if(!t){for(;n&&!n[4]&&n!==e;)Dt(n)&&$g(n[1],n),n=n[3];null===n&&(n=e),Dt(n)&&$g(n[1],n),t=n&&n[4]}n=t}}(n)}function $g(e,n){if(ko(n))return;const t=le(null);try{n[2]&=-129,n[2]|=256,n[24]&&Li(n[24]),function Rx(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const o=n[t[r]];if(!(o instanceof Wc)){const i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],c=i[s+1];try{c.call(a)}finally{}}else try{i.call(o)}finally{}}}}(e,n),function Nx(e,n){const t=e.cleanup,r=n[7];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(n[7]=null);const o=n[21];if(null!==o){n[21]=null;for(let s=0;s<o.length;s++)(0,o[s])()}const i=n[23];if(null!==i){n[23]=null;for(const s of i)s.destroy()}}(e,n),1===n[1].type&&n[11].destroy();const r=n[16];if(null!==r&&Ut(n[3])){r!==n[3]&&Ug(r,n);const o=n[18];null!==o&&o.detachView(e)}Bp(n)}finally{le(t)}}function Hg(e,n,t){return function dC(e,n,t){let r=n;for(;null!==r&&168&r.type;)r=(n=r).parent;if(null===r)return t[0];if(_r(r)){const{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===nr.None||o===nr.Emulated)return null}return hn(r,t)}(e,n.parent,t)}let pC=function hC(e,n,t){return 40&e.type?hn(e,t):null};function zd(e,n,t,r){const o=Hg(e,r,n),i=n[11],a=function fC(e,n,t){return pC(e,n,t)}(r.parent||n[5],r,n);if(null!=o)if(Array.isArray(t))for(let c=0;c<t.length;c++)eC(i,o,t[c],a,!1);else eC(i,o,t,a,!1)}function ms(e,n){if(null!==n){const t=n.type;if(3&t)return hn(n,e);if(4&t)return qg(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return ms(e,r);{const o=e[n.index];return Ut(o)?qg(-1,o):Be(o)}}if(128&t)return ms(e,n.next);if(32&t)return Bg(n,e)()||Be(e[n.index]);{const r=mC(e,n);return null!==r?Array.isArray(r)?r[0]:ms(Po(e[15]),r):ms(e,n.next)}}return null}function mC(e,n){return null!==n?e[15][5].projection[n.projection]:null}function qg(e,n){const t=10+e+1;if(t<n.length){const r=n[t],o=r[1].firstChild;if(null!==o)return ms(r,o)}return n[7]}function zg(e,n,t,r,o,i,s){for(;null!=t;){if(128===t.type){t=t.next;continue}const a=r[t.index],c=t.type;if(s&&0===n&&(a&&Nn(Be(a),r),t.flags|=2),!vi(t))if(8&c)zg(e,n,t.child,r,o,i,!1),Fa(n,e,o,a,i);else if(32&c){const l=Bg(t,r);let f;for(;f=l();)Fa(n,e,o,f,i);Fa(n,e,o,a,i)}else 16&c?yC(e,n,r,t,o,i):Fa(n,e,o,a,i);t=s?t.projectionNext:t.next}}function Wd(e,n,t,r,o,i){zg(t,r,e.firstChild,n,o,i,!1)}function yC(e,n,t,r,o,i){const s=t[15],c=s[5].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Fa(n,e,o,c[l],i);else{let l=c;const f=s[3];tu(r)&&(l.flags|=128),zg(e,n,l,f,o,i,!0)}}function La(e,n,t,r,o=!1){for(;null!==t;){if(128===t.type){t=o?t.projectionNext:t.next;continue}const i=n[t.index];null!==i&&r.push(Be(i)),Ut(i)&&Wg(i,r);const s=t.type;if(8&s)La(e,n,t.child,r);else if(32&s){const a=Bg(t,n);let c;for(;c=a();)r.push(c)}else if(16&s){const a=mC(n,t);if(Array.isArray(a))r.push(...a);else{const c=Po(n[15]);La(c[1],c,a,r,!0)}}t=o?t.projectionNext:t.next}return r}function Wg(e,n){for(let t=10;t<e.length;t++){const r=e[t],o=r[1].firstChild;null!==o&&La(r[1],r,o,n)}e[7]!==e[0]&&n.push(e[7])}function vC(e){if(null!==e[25]){for(const n of e[25])n.impl.addSequence(n);e[25].length=0}}let _C=[];const Vx={...Pn,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{va(e.lView)},consumerOnSignalRead(){this.lView[24]=this}},Bx={...Pn,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=Po(e.lView);for(;n&&!DC(n[1]);)n=Po(n);n&&up(n)},consumerOnSignalRead(){this.lView[24]=this}};function DC(e){return 2!==e.type}function bC(e){if(null===e[23])return;let n=!0;for(;n;){let t=!1;for(const r of e[23])r.dirty&&(t=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(8192&e[2])}}function Kd(e,n=!0,t=0){const o=e[10].rendererFactory;o.begin?.();try{!function $x(e,n){const t=x_();try{ud(!0),Kg(e,n);let r=0;for(;Hc(e);){if(100===r)throw new U(103,!1);r++,Kg(e,1)}}finally{ud(t)}}(e,t)}catch(s){throw n&&function Lg(e,n){const t=e[9],r=t?t.get(Cr,null):null;r&&r.handleError(n)}(e,s),s}finally{o.end?.()}}function wC(e,n,t,r){if(ko(n))return;const o=n[2];Cp(n);let a=!0,c=null,l=null;DC(e)?(l=function Px(e){return e[24]??function Fx(e){const n=_C.pop()??Object.create(Vx);return n.lView=e,n}(e)}(n),c=Mt(l)):null===function Lr(){return Te}()?(a=!1,l=function jx(e){const n=e[24]??Object.create(Bx);return n.lView=e,n}(n),c=Mt(l)):n[24]&&(Li(n[24]),n[24]=null);try{S_(n),function O_(e){return be.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&iC(e,n,t,2,r);const f=!(3&~o);if(f){const m=e.preOrderCheckHooks;null!==m&&dd(n,m,null)}else{const m=e.preOrderHooks;null!==m&&fd(n,m,0,null),Ip(n,0)}if(function Hx(e){for(let n=xD(e);null!==n;n=OD(n)){if(!(2&n[2]))continue;const t=n[9];for(let r=0;r<t.length;r++)up(t[r])}}(n),bC(n),EC(n,0),null!==e.contentQueries&&Ib(e,n),f){const m=e.contentCheckHooks;null!==m&&dd(n,m)}else{const m=e.contentHooks;null!==m&&fd(n,m,1),Ip(n,1)}!function qx(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)ls(~o);else{const i=o,s=t[++r],a=t[++r];gN(s,i);const c=n[i];a(2,c)}}}finally{ls(-1)}}(e,n);const p=e.components;null!==p&&MC(n,p,0);const v=e.viewQuery;if(null!==v&&yg(2,v,r),f){const m=e.viewCheckHooks;null!==m&&dd(n,m)}else{const m=e.viewHooks;null!==m&&fd(n,m,2),Ip(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[22]){for(const m of n[22])m();n[22]=null}vC(n),n[2]&=-73}catch(f){throw va(n),f}finally{null!==l&&(ei(l,c),a&&function Lx(e){e.lView[24]!==e&&(e.lView=null,_C.push(e))}(l)),wp()}}function EC(e,n){for(let t=xD(e);null!==t;t=OD(t))for(let r=10;r<t.length;r++)IC(t[r],n)}function Gx(e,n,t){const r=pn(n,e);IC(r,t)}function IC(e,n){cp(e)&&Kg(e,n)}function Kg(e,n){const r=e[1],o=e[2],i=e[24];let s=!!(0===n&&16&o);if(s||=!!(64&o&&0===n),s||=!!(1024&o),s||=!(!i?.dirty||!js(i)),s||=!1,i&&(i.dirty=!1),e[2]&=-9217,s)wC(r,e,r.template,e[8]);else if(8192&o){bC(e),EC(e,1);const a=r.components;null!==a&&MC(e,a,1),vC(e)}}function MC(e,n,t){for(let r=0;r<n.length;r++)Gx(e,n[r],t)}function Du(e,n){const t=x_()?64:1088;for(e[10].changeDetectionScheduler?.notify(n);e;){e[2]|=t;const r=Po(e);if(Oo(e)&&!r)return e;e=r}return null}function SC(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function bu(e,n){if(e.length<=10)return;const t=10+n,r=e[t];if(r){const o=r[16];null!==o&&o!==e&&Ug(o,r),n>0&&(e[t-1][4]=r[4]);const i=h(e,10+n);!function uC(e,n){lC(e,n),n[0]=null,n[5]=null}(r[1],r);const s=i[18];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function AC(e,n){const t=e[9],r=n[3];(Dt(r)||n[15]!==r[3][15])&&(e[2]|=2),null===t?e[9]=[n]:t.push(n)}let Cu=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const n=this._lView,t=n[1];return La(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return ko(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Ut(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(bu(n,r),h(t,r))}this._attachedToViewContainer=!1}_u(this._lView[1],this._lView)}onDestroy(n){ad(this._lView,n)}markForCheck(){Du(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){lp(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,Kd(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Oo(this._lView),t=this._lView[16];null!==t&&!n&&Ug(t,this._lView),lC(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=n;const t=Oo(this._lView),r=this._lView[16];null!==r&&!t&&AC(r,this._lView),lp(this._lView)}},Go=(()=>class e{static __NG_ELEMENT_ID__=Yx})();const Wx=Go,Kx=class extends Wx{_declarationLView;_declarationTContainer;elementRef;constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){const o=function Pa(e,n,t,r){const o=le(null);try{const i=n.tView,c=$d(e,i,t,4096&e[2]?4096:16,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);c[16]=e[n.index];const f=e[18];return null!==f&&(c[18]=f.createEmbeddedView(i)),qd(i,c,t),c}finally{le(o)}}(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:r});return new Cu(o)}};function Yx(){return function Yd(e,n){return 4&e.type?new Kx(n,e,ba(e,n)):null}(Pe(),j())}function ja(e,n,t,r,o){let i=e.data[n];if(null===i)i=function Jg(e,n,t,r,o){const i=A_(),s=yp(),c=e.data[n]=function iO(e,n,t,r,o,i){let s=n?n.injectorIndex:-1,a=0;return function us(){return null!==be.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,t,n,r,o);return function oO(e,n,t,r){null===e.firstChild&&(e.firstChild=n),null!==t&&(r?null==t.child&&null!==n.parent&&(t.child=n):null===t.next&&(t.next=n,n.prev=t))}(e,c,i,s),c}(e,n,t,r,o),function pN(){return be.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=t,i.value=r,i.attrs=o;const s=function Gc(){const e=be.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return br(i,!0),i}let qO=class{},XC=class{};class zO{resolveComponentFactory(n){throw Error(`No component factory found for ${it(n)}.`)}}let nf=class{static NULL=new zO};class am{}let qo=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function WO(){const e=j(),t=pn(Pe().index,e);return(Dt(t)?t:e)[11]}()})(),KO=(()=>{class e{static \u0275prov=ie({token:e,providedIn:"root",factory:()=>null})}return e})();const um={};class $a{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=aa(r);const o=this.injector.get(n,um,r);return o!==um||t===um?o:this.parentInjector.get(n,t,r)}}function lm(e,n,t){let r=t?e.styles:null,o=t?e.classes:null,i=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?i=a:1==i?o=Qs(o,a):2==i&&(r=Qs(r,a+": "+n[++s]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=o:e.classesWithoutHost=o}function W(e,n=Ae.Default){const t=j();return null===t?fe(e,n):J_(Pe(),t,ne(e),n)}function dm(e,n,t,r,o){const i=null===r?null:{"":-1},s=o(e,t);if(null!==s){let a,c=null,l=null;const f=function ek(e){let n=null,t=!1;for(let s=0;s<e.length;s++){const a=e[s];if(0===s&&Un(a)&&(n=a),null!==a.findHostDirectiveDefs){t=!0;break}}if(!t)return null;let r=null,o=null,i=null;for(const s of e)null!==s.findHostDirectiveDefs&&(r??=[],o??=new Map,i??=new Map,tk(s,r,i,o)),s===n&&(r??=[],r.push(s));return null!==r?(r.push(...null===n?e:e.slice(1)),[r,o,i]):null}(s);null===f?a=s:[a,c,l]=f,function rk(e,n,t,r,o,i,s){const a=r.length;let c=!1;for(let v=0;v<a;v++){const m=r[v];!c&&Un(m)&&(c=!0,nk(e,t,v)),Rp(pd(t,n),e,m.type)}!function uk(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,a);for(let v=0;v<a;v++){const m=r[v];m.providersResolver&&m.providersResolver(m)}let l=!1,f=!1,p=vu(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let v=0;v<a;v++){const m=r[v];if(t.mergedAttrs=Da(t.mergedAttrs,m.hostAttrs),ik(e,t,n,p,m),ck(p,m,o),null!==s&&s.has(m)){const[w,T]=s.get(m);t.directiveToIndex.set(m.type,[p,w+t.directiveStart,T+t.directiveStart])}else(null===i||!i.has(m))&&t.directiveToIndex.set(m.type,p);null!==m.contentQueries&&(t.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(t.flags|=64);const D=m.type.prototype;!l&&(D.ngOnChanges||D.ngOnInit||D.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),l=!0),!f&&(D.ngOnChanges||D.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),f=!0),p++}!function ok(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){const o=e.data[r];if(null!==t&&t.has(o)){const i=t.get(o);tw(0,n,i,r),tw(1,n,i,r),rw(n,r,!0)}else ew(0,n,o,r),ew(1,n,o,r),rw(n,r,!1)}}(e,t,i)}(e,n,t,a,i,c,l)}null!==i&&null!==r&&function JO(e,n,t){const r=e.localNames=[];for(let o=0;o<n.length;o+=2){const i=t[n[o+1]];if(null==i)throw new U(-301,!1);r.push(n[o],i)}}(t,r,i)}function tk(e,n,t,r){const o=n.length;e.findHostDirectiveDefs(e,n,r),t.set(e,[o,n.length-1])}function nk(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function ew(e,n,t,r){const o=0===e?t.inputs:t.outputs;for(const i in o)if(o.hasOwnProperty(i)){let s;s=0===e?n.inputs??={}:n.outputs??={},s[i]??=[],s[i].push(r),nw(n,i)}}function tw(e,n,t,r){const o=0===e?t.inputs:t.outputs;for(const i in o)if(o.hasOwnProperty(i)){const s=o[i];let a;a=0===e?n.hostDirectiveInputs??={}:n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),nw(n,s)}}function nw(e,n){"class"===n?e.flags|=8:"style"===n&&(e.flags|=16)}function rw(e,n,t){const{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(null===r||!t&&null===o||t&&null===i||Sg(e))return e.initialInputs??=[],void e.initialInputs.push(null);let s=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;if(!t&&o.hasOwnProperty(c)){const l=o[c];for(const f of l)if(f===n){s??=[],s.push(c,r[a+1]);break}}else if(t&&i.hasOwnProperty(c)){const l=i[c];for(let f=0;f<l.length;f+=2)if(l[f]===n){s??=[],s.push(l[f+1],r[a+1]);break}}a+=2}else a+=2;else a+=4}e.initialInputs??=[],e.initialInputs.push(s)}function ik(e,n,t,r,o){e.data[r]=o;const i=o.factory||(o.factory=Sn(o.type)),s=new Wc(i,Un(o),W);e.blueprint[r]=s,t[r]=s,function sk(e,n,t,r,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~n.index;(function ak(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,i)}}(e,n,r,vu(e,t,o.hostVars,Me),o)}function ck(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Un(n)&&(t[""]=e)}}function ow(e,n,t,r,o,i,s,a){const c=n.consts,f=ja(n,e,2,r,er(c,s));return i&&dm(n,t,f,er(c,a),o),f.mergedAttrs=Da(f.mergedAttrs,f.attrs),null!==f.attrs&&lm(f,f.attrs,!1),null!==f.mergedAttrs&&lm(f,f.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,f),f}function iw(e,n){Ep(e,n),ip(n)&&e.queries.elementEnd(n)}class sw extends nf{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=N(n);return new xu(t,this.ngModule)}}class xu extends XC{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function lk(e){return Object.keys(e).map(n=>{const[t,r,o]=e[n],i={propName:t,templateName:n,isSignal:!!(r&Hd.SignalBased)};return o&&(i.transform=o),i})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function dk(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function cx(e){return e.map(ax).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,o){const i=le(null);try{const s=this.componentDef,a=r?["ng-version","19.2.10"]:function ux(e){const n=[],t=[];let r=1,o=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===o?""!==i&&n.push(i,e[++r]):8===o&&t.push(i);else{if(!wr(o))break;o=i}r++}return t.length&&n.push(1,...t),n}(this.componentDef.selectors[0]),c=Ng(0,null,null,1,0,null,null,null,null,[a],null),l=function fk(e,n,t){let r=n instanceof Tn?n:n?.injector;return r&&null!==e.getStandaloneInjector&&(r=e.getStandaloneInjector(r)||r),r?new $a(t,r):t}(s,o||this.ngModule,n),f=function hk(e){const n=e.get(am,null);if(null===n)throw new U(407,!1);return{rendererFactory:n,sanitizer:e.get(KO,null),changeDetectionScheduler:e.get(jo,null)}}(l),p=f.rendererFactory.createRenderer(null,s),v=r?function px(e,n,t,r){const i=r.get(qD,!1)||t===nr.ShadowDom,s=e.selectRootElement(n,i);return function gx(e){sC(e)}(s),s}(p,r,s.encapsulation,l):function pk(e,n){const t=(e.selectors[0][0]||"div").toLowerCase();return Ud(n,t,"svg"===t?"svg":"math"===t?"math":null)}(s,p),m=$d(null,c,null,512|Rg(s),null,null,f,p,l,null,null);m[26]=v,Cp(m);let D=null;try{const w=ow(26,c,m,"#host",()=>[this.componentDef],!0,0);v&&(nC(p,v,w),Nn(v,m)),Gd(c,m,w),vg(c,w,m),iw(c,w),void 0!==t&&function mk(e,n,t){const r=e.projection=[];for(let o=0;o<n.length;o++){const i=t[o];r.push(null!=i&&i.length?Array.from(i):null)}}(w,this.ngContentSelectors,t),D=pn(w.index,m),m[8]=D[8],qd(c,m,null)}catch(w){throw null!==D&&Bp(D),Bp(m),w}finally{wp()}return new gk(this.componentType,m)}finally{le(i)}}}class gk extends qO{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t){super(),this._rootLView=t,this._tNode=as(t[1],26),this.location=ba(this._tNode,t),this.instance=pn(this._tNode.index,t)[8],this.hostView=this.changeDetectorRef=new Cu(t,void 0,!1),this.componentType=n}setInput(n,t){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const o=this._rootLView;Vg(r,o[1],o,n,t),this.previousInputValues.set(n,t),Du(pn(r.index,o),1)}get injector(){return new bt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}let Er=(()=>class e{static __NG_ELEMENT_ID__=yk})();function yk(){return function uw(e,n){let t;const r=n[e.index];return Ut(r)?t=r:(t=SC(r,n,null,e),n[e.index]=t,xg(n,t)),lw(t,n,e,r),new aw(t,e,n)}(Pe(),j())}const vk=Er,aw=class extends vk{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return ba(this._hostTNode,this._hostLView)}get injector(){return new bt(this._hostTNode,this._hostLView)}get parentInjector(){const n=gd(this._hostTNode,this._hostLView);if(Tp(n)){const t=Yc(n,this._hostLView),r=Kc(n);return new bt(t[1].data[r+8],t)}return new bt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=cw(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,t,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const a=n.createEmbeddedViewImpl(t||{},i,null);return this.insertImpl(a,o,gs(this._hostTNode,null)),a}createComponent(n,t,r,o,i){const s=n&&!function Uc(e){return"function"==typeof e}(n);let a;if(s)a=t;else{const D=t||{};a=D.index,r=D.injector,o=D.projectableNodes,i=D.environmentInjector||D.ngModuleRef}const c=s?n:new xu(N(n)),l=r||this.parentInjector;if(!i&&null==c.ngModule){const w=(s?l:this.parentInjector).get(Tn,null);w&&(i=w)}N(c.componentType??{});const m=c.create(l,o,null,i);return this.insertImpl(m.hostView,a,gs(this._hostTNode,null)),m}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){const o=n._lView;if(function oN(e){return Ut(e[3])}(o)){const a=this.indexOf(n);if(-1!==a)this.detach(a);else{const c=o[3],l=new aw(c,c[5],c[3]);l.detach(l.indexOf(n))}}const i=this._adjustIndex(t),s=this._lContainer;return function Va(e,n,t,r=!0){const o=n[1];if(function zx(e,n,t,r){const o=10+r,i=t.length;r>0&&(t[o-1][4]=n),r<i-10?(n[4]=t[o],d(t,10+r,n)):(t.push(n),n[4]=null),n[3]=t;const s=n[16];null!==s&&t!==s&&AC(s,n);const a=n[18];null!==a&&a.insertView(e),lp(n),n[2]|=128}(o,n,e,t),r){const s=qg(t,e),a=n[11],c=a.parentNode(e[7]);null!==c&&function Tx(e,n,t,r,o,i){r[0]=o,r[5]=n,Wd(e,r,t,1,o,i)}(o,e[5],a,n,c,s)}const i=n[6];null!==i&&null!==i.firstChild&&(i.firstChild=null)}(s,o,i,r),n.attachToViewContainerRef(),d(fm(s),i,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=cw(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=bu(this._lContainer,t);r&&(h(fm(this._lContainer),t),_u(r[1],r))}detach(n){const t=this._adjustIndex(n,-1),r=bu(this._lContainer,t);return r&&null!=h(fm(this._lContainer),t)?new Cu(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function cw(e){return e[8]}function fm(e){return e[8]||(e[8]=[])}let lw=function fw(e,n,t,r){if(e[7])return;let o;o=8&t.type?Be(r):function _k(e,n){const t=e[11],r=t.createComment(""),o=hn(n,e),i=t.parentNode(o);return ps(t,i,r,t.nextSibling(o),!1),r}(n,t),e[7]=o};let _s=class{},Nw=class{};class wm extends _s{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new sw(this);constructor(n,t,r,o=!0){super(),this.ngModuleType=n,this._parent=t;const i=M(n);this._bootstrapComponents=no(i.bootstrap),this._r3Injector=uD(n,t,[{provide:_s,useValue:this},{provide:nf,useValue:this.componentFactoryResolver},...r],it(n),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Em extends Nw{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new wm(this.moduleType,n,[])}}class Rw extends _s{injector;componentFactoryResolver=new sw(this);instance=null;constructor(n){super();const t=new rs([...n.providers,{provide:_s,useValue:this},{provide:nf,useValue:this.componentFactoryResolver}],n.parent||ed(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Im(e,n,t=null){return new Rw({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let Bk=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=Z(0,t.type),o=r.length>0?Im([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ie({token:e,providedIn:"environment",factory:()=>new e(fe(Tn))})}return e})();function Ga(e){return Yn(()=>{const n=xw(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Dd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?o=>o.get(Bk).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||nr.Emulated,styles:e.styles||C,_:null,schemas:e.schemas||null,tView:null,id:""};n.standalone&&function Hn(e){YD.has(e)||(YD.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}("NgStandalone"),Ow(t);const r=e.dependencies;return t.directiveDefs=sf(r,!1),t.pipeDefs=sf(r,!0),t.id=function zk(e){let n=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const i of r.join("|"))n=Math.imul(31,n)+i.charCodeAt(0)|0;return n+=2147483648,"c"+n}(t),t})}function Uk(e){return N(e)||function P(e){return e[At]||null}(e)}function $k(e){return null!==e}function ku(e){return Yn(()=>({type:e.type,bootstrap:e.bootstrap||C,declarations:e.declarations||C,imports:e.imports||C,exports:e.exports||C,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Hk(e,n){if(null==e)return R;const t={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r];let i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=Hd.None,c=null),t[i]=[r,a,c],n[i]=s}return t}function Gk(e){if(null==e)return R;const n={};for(const t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function Ce(e){return Yn(()=>{const n=xw(e);return Ow(n),n})}function xn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function xw(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||R,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||C,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Hk(e.inputs,n),outputs:Gk(e.outputs),debugInfo:null}}function Ow(e){e.features?.forEach(n=>n(e))}function sf(e,n){if(!e)return null;const t=n?L:Uk;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter($k)}function Ye(e){let n=function kw(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let o;if(Un(e))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new U(903,!1);o=n.\u0275dir}if(o){if(t){r.push(o);const s=e;s.inputs=Mm(e.inputs),s.declaredInputs=Mm(e.declaredInputs),s.outputs=Mm(e.outputs);const a=o.hostBindings;a&&Qk(e,a);const c=o.viewQuery,l=o.contentQueries;if(c&&Yk(e,c),l&&Zk(e,l),Wk(e,o),kl(e.outputs,o.outputs),Un(o)&&o.data.animation){const f=e.data;f.animation=(f.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(e),a===Ye&&(t=!1)}}n=Object.getPrototypeOf(n)}!function Kk(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=n+=o.hostVars,o.hostAttrs=Da(o.hostAttrs,t=Da(t,o.hostAttrs))}}(r)}function Wk(e,n){for(const t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;const r=n.inputs[t];void 0!==r&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t])}}function Mm(e){return e===R?{}:e===C?[]:e}function Yk(e,n){const t=e.viewQuery;e.viewQuery=t?(r,o)=>{n(r,o),t(r,o)}:n}function Zk(e,n){const t=e.contentQueries;e.contentQueries=t?(r,o,i)=>{n(r,o,i),t(r,o,i)}:n}function Qk(e,n){const t=e.hostBindings;e.hostBindings=t?(r,o)=>{n(r,o),t(r,o)}:n}function af(e){return!!function Tm(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function oo(e,n,t){return e[n]=t}function Ct(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function Ds(e,n,t,r){const o=Ct(e,n,t);return Ct(e,n+1,r)||o}function tt(e,n,t,r,o,i,s,a){const c=j(),l=ye();return function Fu(e,n,t,r,o,i,s,a,c,l){const f=t+26,p=n.firstCreatePass?function sP(e,n,t,r,o,i,s,a,c){const l=n.consts,f=ja(n,e,4,s||null,a||null);mp()&&dm(n,t,f,er(l,c),Pg),f.mergedAttrs=Da(f.mergedAttrs,f.attrs),Ep(n,f);const p=f.tView=Ng(2,f,r,o,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,l,null);return null!==n.queries&&(n.queries.template(n,f),p.queries=n.queries.embeddedTView(f)),f}(f,n,e,r,o,i,s,a,c):n.data[f];br(p,!1);const v=jw(n,e,p,t);zc()&&zd(n,e,v,p),Nn(v,e);const m=SC(v,e,v,p);return e[f]=m,xg(e,m),id(p)&&Gd(n,e,p),null!=c&&kg(e,p,l),p}(c,l,e,n,t,r,o,er(l.consts,i),s,a),tt}let jw=function Bw(e,n,t,r){return Xr(!0),n[11].createComment("")};let Rm=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const Jw=new Y("");let eE=(()=>{class e{static \u0275prov=ie({token:e,providedIn:"root",factory:()=>new iF})}return e})();class iF{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){const r=this.queues.get(n.zone);r.has(n)&&(r.delete(n),this.queuedEffectCount--)}enqueue(n){const t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);const r=this.queues.get(t);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(const[n,t]of this.queues)null===n?this.flushQueue(t):n.run(()=>this.flushQueue(t))}flushQueue(n){for(const t of n)n.delete(t),this.queuedEffectCount--,t.run()}}function Vu(e){return!!e&&"function"==typeof e.then}function tE(e){return!!e&&"function"==typeof e.subscribe}const nE=new Y("");let rE=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=$(nE,{optional:!0})??[];injector=$(Yt);constructor(){}runInitializers(){if(this.initialized)return;const t=[];for(const o of this.appInits){const i=yr(this.injector,o);if(Vu(i))t.push(i);else if(tE(i)){const s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),0===t.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ju=new Y("");let Gn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=$(XN);afterRenderManager=$(og);zonelessEnabled=$(Xc);rootEffectScheduler=$(eE);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new nn;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=$(pi).hasPendingTasks.pipe(me(t=>!t));constructor(){$(wa,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=$(Tn);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,o=Yt.NULL){const i=t instanceof XC;if(!this._injector.get(rE).done)throw new U(405,"");let a;a=i?t:this._injector.get(nf).resolveComponentFactory(t),this.componentTypes.push(a.componentType);const c=function sF(e){return e.isBoundToModule}(a)?void 0:this._injector.get(_s),f=a.create(o,[],r||a.selector,c),p=f.location.nativeElement,v=f.injector.get(Jw,null);return v?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),hf(this.components,f),v?.unregisterApplication(p)}),this._loadComponent(f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){null!==this.tracingSnapshot?this.tracingSnapshot.run(rg.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new U(101,!1);const t=le(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,le(t),this.afterTick.next()}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(am,null,{optional:!0}));let t=0;for(;0!==this.dirtyFlags&&t++<10;)this.synchronizeOnce()}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const t=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:o}of this.allViews)cF(r,o,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:t})=>Hc(t))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;hf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ju,[]).forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>hf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new U(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function hf(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function cF(e,n,t,r){(t||Hc(e))&&Kd(e,n,t&&!r?0:1)}function Ir(e,n,t,r){const o=j();return Ct(o,tr(),n)&&(ye(),ro(Xe(),o,e,n,t,r)),Ir}function Za(e,n,t,r,o,i,s,a){const l=function cf(e,n,t,r,o){const i=Ds(e,n,t,r);return Ct(e,n+2,o)||i}(e,Fo(),t,o,s);return Lo(3),l?n+_e(t)+r+_e(o)+i+_e(s)+a:Me}function pf(e,n){return e<<17|n<<2}function Cs(e){return e>>17&32767}function $m(e){return 2|e}function nc(e){return(131068&e)>>2}function Hm(e,n){return-131069&e|n<<2}function Gm(e){return 1|e}function wE(e,n,t,r){const o=e[t+1],i=null===n;let s=r?Cs(o):nc(o),a=!1;for(;0!==s&&(!1===a||i);){const l=e[s+1];KF(e[s],n)&&(a=!0,e[s+1]=r?Gm(l):$m(l)),s=r?Cs(l):nc(l)}a&&(e[t+1]=r?$m(o):Gm(o))}function KF(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&I(e,n)>=0}function De(e,n,t){const r=j();return Ct(r,tr(),n)&&Rn(ye(),Xe(),r,e,n,r[11],t,!1),De}function qm(e,n,t,r,o){Vg(n,e,t,o?"class":"style",r)}function zm(e,n,t){return Mr(e,n,t,!1),zm}function oc(e,n){return Mr(e,n,null,!0),oc}function Mr(e,n,t,r){const o=j(),i=ye(),s=Lo(2);i.firstUpdatePass&&function RE(e,n,t,r){const o=e.data;if(null===o[t+1]){const i=o[Xt()],s=function NE(e,n){return n>=e.expandoStartIndex}(e,t);(function PE(e,n){return!!(e.flags&(n?8:16))})(i,r)&&null===n&&!s&&(n=!1),n=function rL(e,n,t,r){const o=function Dp(e){const n=be.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let i=r?n.residualClasses:n.residualStyles;if(null===o)0===(r?n.classBindings:n.styleBindings)&&(t=Uu(t=Wm(null,e,n,t,r),n.attrs,r),i=null);else{const s=n.directiveStylingLast;if(-1===s||e[s]!==o)if(t=Wm(o,e,n,t,r),null===i){let c=function oL(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==nc(r))return e[Cs(r)]}(e,n,r);void 0!==c&&Array.isArray(c)&&(c=Wm(null,e,n,c[1],r),c=Uu(c,n.attrs,r),function iL(e,n,t,r){e[Cs(t?n.classBindings:n.styleBindings)]=r}(e,n,r,c))}else i=function sL(e,n,t){let r;const o=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<o;i++)r=Uu(r,e[i].hostAttrs,t);return Uu(r,n.attrs,t)}(e,n,r)}return void 0!==i&&(r?n.residualClasses=i:n.residualStyles=i),t}(o,i,n,r),function zF(e,n,t,r,o,i){let s=i?n.classBindings:n.styleBindings,a=Cs(s),c=nc(s);e[r]=t;let f,l=!1;if(Array.isArray(t)?(f=t[1],(null===f||I(t,f)>0)&&(l=!0)):f=t,o)if(0!==c){const v=Cs(e[a+1]);e[r+1]=pf(v,a),0!==v&&(e[v+1]=Hm(e[v+1],r)),e[a+1]=function GF(e,n){return 131071&e|n<<17}(e[a+1],r)}else e[r+1]=pf(a,0),0!==a&&(e[a+1]=Hm(e[a+1],r)),a=r;else e[r+1]=pf(c,0),0===a?a=r:e[c+1]=Hm(e[c+1],r),c=r;l&&(e[r+1]=$m(e[r+1])),wE(e,f,r,!0),wE(e,f,r,!1),function WF(e,n,t,r,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof n&&I(i,n)>=0&&(t[r+1]=Gm(t[r+1]))}(n,f,e,r,i),s=pf(a,c),i?n.classBindings=s:n.styleBindings=s}(o,i,n,t,s,r)}}(i,e,s,r),n!==Me&&Ct(o,s,n)&&function OE(e,n,t,r,o,i,s,a){if(!(3&n.type))return;const c=e.data,l=c[a+1],f=function qF(e){return!(1&~e)}(l)?kE(c,n,t,o,nc(l),s):void 0;gf(f)||(gf(i)||function HF(e){return!(2&~e)}(l)&&(i=kE(c,null,t,o,a,s)),function kx(e,n,t,r,o){if(n)o?e.addClass(t,r):e.removeClass(t,r);else{let i=-1===r.indexOf("-")?void 0:yi.DashCase;null==o?e.removeStyle(t,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=yi.Important),e.setStyle(t,r,o,i))}}(r,s,ya(Xt(),t),o,i))}(i,i.data[Xt()],o,o[11],e,o[s+1]=function lL(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=it(mi(e)))),e}(n,t),r,s)}function Wm(e,n,t,r,o){let i=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(i=n[a],r=Uu(r,i.hostAttrs,o),i!==e);)a++;return null!==e&&(t.directiveStylingLast=a),r}function Uu(e,n,t){const r=t?1:2;let o=-1;if(null!==n)for(let i=0;i<n.length;i++){const s=n[i];"number"==typeof s?o=s:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),b(e,s,!!t||n[++i]))}return void 0===e?null:e}function kE(e,n,t,r,o,i){const s=null===n;let a;for(;o>0;){const c=e[o],l=Array.isArray(c),f=l?c[1]:c,p=null===f;let v=t[o+1];v===Me&&(v=p?C:void 0);let m=p?E(v,r):f===r?v:void 0;if(l&&!gf(m)&&(m=E(c,r)),gf(m)&&(a=m,s))return a;const D=e[o+1];o=s?Cs(D):nc(D)}if(null!==n){let c=i?n.residualClasses:n.residualStyles;null!=c&&(a=E(c,r))}return a}function gf(e){return void 0!==e}function G(e,n,t,r){const o=j(),i=ye(),s=26+e,a=o[11],c=i.firstCreatePass?ow(s,i,o,n,Pg,mp(),t,r):i.data[s],l=jE(i,o,c,a,n,e);o[s]=l;const f=id(c);return br(c,!0),nC(a,l,c),!vi(c)&&zc()&&zd(i,o,l,c),(0===function sN(){return be.lFrame.elementDepthCount}()||f)&&Nn(l,o),function aN(){be.lFrame.elementDepthCount++}(),f&&(Gd(i,o,c),vg(i,c,o)),null!==r&&kg(o,c),G}function H(){let e=Pe();yp()?vp():(e=e.parent,br(e,!1));const n=e;(function uN(e){return be.skipHydrationRootTNode===e})(n)&&function hN(){be.skipHydrationRootTNode=null}(),function cN(){be.lFrame.elementDepthCount--}();const t=ye();return t.firstCreatePass&&iw(t,n),null!=n.classesWithoutHost&&function EN(e){return!!(8&e.flags)}(n)&&qm(t,n,j(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function IN(e){return!!(16&e.flags)}(n)&&qm(t,n,j(),n.stylesWithoutHost,!1),H}function or(e,n,t,r){return G(e,n,t,r),H(),or}let jE=(e,n,t,r,o,i)=>(Xr(!0),Ud(r,o,function U_(){return be.lFrame.currentNamespace}()));function zo(e,n,t){const r=j(),o=ye(),i=e+26,s=o.firstCreatePass?function PL(e,n,t,r,o){const i=n.consts,s=er(i,r),a=ja(n,e,8,"ng-container",s);null!==s&&lm(a,s,!0);const c=er(i,o);return mp()&&dm(n,t,a,c,Pg),a.mergedAttrs=Da(a.mergedAttrs,a.attrs),null!==n.queries&&n.queries.elementStart(n,a),a}(i,o,r,n,t):o.data[i];br(s,!0);const a=UE(o,r,s,e);return r[i]=a,zc()&&zd(o,r,a,s),Nn(a,r),id(s)&&(Gd(o,r,s),vg(o,s,r)),null!=t&&kg(r,s),zo}function Wo(){let e=Pe();const n=ye();return yp()?vp():(e=e.parent,br(e,!1)),n.firstCreatePass&&(Ep(n,e),ip(e)&&n.queries.elementEnd(e)),Wo}let UE=(e,n,t,r)=>(Xr(!0),Ag(n[11],""));function wi(){return j()}const ws=void 0;var jL=["en",[["a","p"],["AM","PM"],ws],[["AM","PM"],ws,ws],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ws,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ws,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ws,"{1} 'at' {0}",ws],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function VL(e){const n=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===t?1:5}];let ic={};function _n(e){const n=function BL(e){return e.toLowerCase().replace(/_/g,"-")}(e);let t=qE(n);if(t)return t;const r=n.split("-")[0];if(t=qE(r),t)return t;if("en"===r)return jL;throw new U(701,!1)}function qE(e){return e in ic||(ic[e]=We.ng&&We.ng.common&&We.ng.common.locales&&We.ng.common.locales[e]),ic[e]}var rt=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(rt||{});const yf="en-US";let zE=yf;function d0(e,n,t){return function r(o){if(o===Function)return t;Du(_r(e)?pn(e.index,n):n,5);const s=n[8];let a=f0(n,s,t,o),c=r.__ngNextListenerFn__;for(;c;)a=f0(n,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function f0(e,n,t,r){const o=le(null);try{return!1!==t(r)}catch(i){return function TV(e,n){const t=e[9],r=t?t.get(Cr,null):null;r&&r.handleError(n)}(e,i),!1}finally{le(o)}}function h0(e,n,t,r,o,i){const a=n[1],f=n[t][a.data[t].outputs[r]],p=a.firstCreatePass?hp(a):null,v=fp(n),m=f.subscribe(i),D=v.length;v.push(i,m),p&&p.push(o,e.index,D,-(D+1))}const Jm=new Map;function mt(e,n,t,r){const o=j(),i=ye(),s=Pe();return ey(i,o,o[11],s,e,n,r),mt}function ey(e,n,t,r,o,i,s){const a=id(r),l=e.firstCreatePass?hp(e):null,f=fp(n);let p=!0;if(3&r.type||s){const v=hn(r,n),m=s?s(v):v,D=f.length,w=s?V=>s(Be(V[r.index])):r.index;let T=null;if(!s&&a&&(T=function RV(e,n,t,r){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===t&&o[i+1]===r){const a=n[7],c=o[i+2];return a.length>c?a[c]:null}"string"==typeof s&&(i+=2)}return null}(e,n,o,r.index)),null!==T)(T.__ngLastListenerFn__||T).__ngNextListenerFn__=i,T.__ngLastListenerFn__=i,p=!1;else{i=d0(r,n,i);const V=n[9].get(Bo);Jm.get(V)?.(m,o,i);const ee=t.listen(m,o,i);f.push(i,ee),l&&l.push(o,w,D,D+1)}}else i=d0(r,n,i);if(p){const v=r.outputs?.[o],m=r.hostDirectiveOutputs?.[o];if(m&&m.length)for(let D=0;D<m.length;D+=2)h0(r,n,m[D],m[D+1],o,i);if(v&&v.length)for(const D of v)h0(r,n,D,o,o,i)}}function Le(e=1){return function vN(e){return(be.lFrame.contextLView=function T_(e,n){for(;e>0;)n=n[14],e--;return n}(e,be.lFrame.contextLView))[8]}(e)}function Es(e){return cs(function N_(){return be.lFrame.contextLView}(),26+e)}function J(e,n=""){const t=j(),r=ye(),o=e+26,i=r.firstCreatePass?ja(r,o,1,n,null):r.data[o],s=F0(r,t,i,n,e);t[o]=s,zc()&&zd(r,t,s,i),br(i,!1)}let F0=(e,n,t,r,o)=>(Xr(!0),function Tg(e,n){return e.createText(n)}(n[11],r));function yt(e){return Jt("",e,""),yt}function Jt(e,n,t){const r=j(),o=function Ka(e,n,t,r){return Ct(e,tr(),t)?n+_e(t)+r:Me}(r,e,n,t);return o!==Me&&Ko(r,Xt(),o),Jt}function ry(e,n,t,r,o){const i=j(),s=function Ya(e,n,t,r,o,i){const a=Ds(e,Fo(),t,o);return Lo(2),a?n+_e(t)+r+_e(o)+i:Me}(i,e,n,t,r,o);return s!==Me&&Ko(i,Xt(),s),ry}function sc(e,n,t,r,o,i,s){const a=j(),c=Za(a,e,n,t,r,o,i,s);return c!==Me&&Ko(a,Xt(),c),sc}function Ko(e,n,t){const r=ya(n,e);!function Xb(e,n,t){e.setValue(n,t)}(e[11],r,t)}function Wu(e,n,t){wD(n)&&(n=n());const r=j();return Ct(r,tr(),n)&&Rn(ye(),Xe(),r,e,n,r[11],t,!1),Wu}function bf(e,n){const t=wD(e);return t&&e.set(n),t}function Ku(e,n){const t=j(),r=ye(),o=Pe();return ey(r,t,t[11],o,e,n),Ku}function oy(e,n,t,r,o){if(e=ne(e),Array.isArray(e))for(let i=0;i<e.length;i++)oy(e[i],n,t,r,o);else{const i=ye(),s=j(),a=Pe();let c=st(e)?e:ne(e.provide);const l=f_(e),f=1048575&a.providerIndexes,p=a.directiveStart,v=a.providerIndexes>>20;if(st(e)||!e.multi){const m=new Wc(l,o,W),D=sy(c,n,o?f:f+v,p);-1===D?(Rp(pd(a,s),i,c),iy(i,e,n.length),n.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[D]=m,s[D]=m)}else{const m=sy(c,n,f+v,p),D=sy(c,n,f,f+v),T=D>=0&&t[D];if(o&&!T||!o&&!(m>=0&&t[m])){Rp(pd(a,s),i,c);const V=function rj(e,n,t,r,o){const i=new Wc(e,t,W);return i.multi=[],i.index=n,i.componentProviders=0,q0(i,o,r&&!t),i}(o?nj:tj,t.length,o,r,l);!o&&T&&(t[D].providerFactory=V),iy(i,e,n.length,0),n.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),t.push(V),s.push(V)}else iy(i,e,m>-1?m:D,q0(t[o?D:m],l,!o&&r));!o&&r&&T&&t[D].componentProviders++}}}function iy(e,n,t,r){const o=st(n),i=function zt(e){return!!e.useClass}(n);if(o||i){const c=(i?ne(n.useClass):n).prototype.ngOnDestroy;if(c){const l=e.destroyHooks||(e.destroyHooks=[]);if(!o&&n.multi){const f=l.indexOf(t);-1===f?l.push(t,[r,c]):l[f+1].push(r,c)}else l.push(t,c)}}}function q0(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function sy(e,n,t,r){for(let o=t;o<r;o++)if(n[o]===e)return o;return-1}function tj(e,n,t,r,o){return ay(this.multi,[])}function nj(e,n,t,r,o){const i=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,c=Zc(r,r[1],this.providerFactory.index,o);s=c.slice(0,a),ay(i,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],ay(i,s);return s}function ay(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function ut(e,n=[]){return t=>{t.providersResolver=(r,o)=>function ej(e,n,t){const r=ye();if(r.firstCreatePass){const o=Un(e);oy(t,r.data,r.blueprint,o,!0),oy(n,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,n)}}function Yu(e,n){const t=e[n];return t===Me?void 0:t}function ir(e,n){const t=ye();let r;const o=e+26;t.firstCreatePass?(r=function mj(e,n){if(n)for(let t=n.length-1;t>=0;t--){const r=n[t];if(e===r.name)return r}}(n,t.pipeRegistry),t.data[o]=r,r.onDestroy&&(t.destroyHooks??=[]).push(o,r.onDestroy)):r=t.data[o];const i=r.factory||(r.factory=Sn(r.type)),a=jt(W);try{const c=hd(!1),l=i();return hd(c),function ny(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}(t,j(),o,l),l}finally{jt(a)}}function J0(e,n,t){const r=e+26,o=j(),i=cs(o,r);return Zu(o,r)?function K0(e,n,t,r,o,i){const s=n+t;return Ct(e,s,o)?oo(e,s+1,i?r.call(i,o):r(o)):Yu(e,s+1)}(o,yn(),n,i.transform,t,i):i.transform(t)}function Tr(e,n,t,r){const o=e+26,i=j(),s=cs(i,o);return Zu(i,o)?function Y0(e,n,t,r,o,i,s){const a=n+t;return Ds(e,a,o,i)?oo(e,a+2,s?r.call(s,o,i):r(o,i)):Yu(e,a+2)}(i,yn(),n,s.transform,t,r,s):s.transform(t,r)}function Zu(e,n){return e[1].data[n].pure}class Wj{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let Kj=(()=>{class e{compileModuleSync(t){return new Em(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),i=no(M(t).declarations).reduce((s,a)=>{const c=N(a);return c&&s.push(new xu(c)),s},[]);return new Wj(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Qj=(()=>{class e{zone=$(qe);changeDetectionScheduler=$(jo);applicationRef=$(Gn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function hy({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new qe({...py(),scheduleInRootZone:t}),[{provide:qe,useFactory:e},{provide:O,multi:!0,useFactory:()=>{const r=$(Qj,{optional:!0});return()=>r.initialize()}},{provide:O,multi:!0,useFactory:()=>{const r=$(Jj);return()=>{r.initialize()}}},!0===n?{provide:fD,useValue:!0}:[],{provide:kp,useValue:t??lD}]}function py(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let Jj=(()=>{class e{subscription=new Lt;initialized=!1;zone=$(qe);pendingTasks=$(pi);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{qe.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{qe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Xu=(()=>{class e{appRef=$(Gn);taskService=$(pi);ngZone=$(qe);zonelessEnabled=$(Xc);tracing=$(wa,{optional:!0});disableScheduling=$(fD,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Lt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(vd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&($(kp,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Vp||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&5===t)return;let r=!1;switch(t){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,r=!0;break;case 12:this.appRef.dirtyFlags|=16,r=!0;break;case 11:r=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;const o=this.useMicrotaskScheduler?gD:pD;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>o(()=>this.tick())):this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(vd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,gD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Ei=new Y("",{providedIn:"root",factory:()=>$(Ei,Ae.Optional|Ae.SkipSelf)||function eB(){return typeof $localize<"u"&&$localize.locale||yf}()}),If=new Y(""),sB=new Y("");function Ju(e){return!e.moduleRef}let Ii=null;let cc=(()=>class e{static __NG_ELEMENT_ID__=fB})();function fB(e){return function hB(e,n,t){if(_r(e)&&!t){const r=pn(e.index,n);return new Cu(r,r)}return 175&e.type?new Cu(n[15],n):null}(Pe(),j(),!(16&~e))}class NI{constructor(){}supports(n){return af(n)}create(n){return new vB(n)}}const yB=(e,n)=>n;class vB{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||yB}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){const s=!r||t&&t.currentIndex<xI(r,o,i)?t:r,a=xI(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)o++;else{i||(i=[]);const l=a-o,f=c-o;if(l!=f){for(let v=0;v<l;v++){const m=v<i.length?i[v]:i[v]=0,D=m+v;f<=D&&D<l&&(i[v]=m+1)}i[s.previousIndex]=f-l}}a!==c&&n(s,a,c)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!af(n))throw new U(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o,i,s,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)i=n[a],s=this._trackByFn(a,i),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,i,s,a)),Object.is(t.item,i)||this._addIdentityChange(t,i)):(t=this._mismatch(t,i,s,a),r=!0),t=t._next}else o=0,function oP(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(o,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,o)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,o),r=!0),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,o){let i;return null===n?i=this._itTail:(i=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,i,o)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,i,o)):n=this._addAfter(new _B(t,r),i,o),n}_verifyReinsertion(n,t,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?n=this._reinsertAfter(i,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const o=n._prevRemoved,i=n._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const o=null===t?this._itHead:t._next;return n._next=o,n._prev=t,null===o?this._itTail=n:o._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new RI),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new RI),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class _B{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,t){this.item=n,this.trackById=t}}class DB{_head=null;_tail=null;add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class RI{map=new Map;put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new DB,this.map.set(t,r)),r.add(n)}get(n,t){const o=this.map.get(n);return o?o.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xI(e,n,t){const r=e.previousIndex;if(null===r)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+n+o}function kI(){return new Dy([new NI])}let Dy=(()=>{class e{factories;static \u0275prov=ie({token:e,providedIn:"root",factory:kI});constructor(t){this.factories=t}static create(t,r){if(null!=r){const o=r.factories.slice();t=t.concat(o)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||kI()),deps:[[e,new mr,new ts]]}}find(t){const r=this.factories.find(o=>o.supports(t));if(null!=r)return r;throw new U(901,!1)}}return e})();function IB(e){try{const{rootComponent:n,appProviders:t,platformProviders:r}=e,o=function dB(e=[]){if(Ii)return Ii;const n=function EI(e=[],n){return Yt.create({name:n,providers:[{provide:di,useValue:"platform"},{provide:If,useValue:new Set([()=>Ii=null])},...e]})}(e);return Ii=n,function oE(){!function Hs(e){mo=e}(()=>{throw new U(600,!1)})}(),function II(e){const n=e.get(qp,null);yr(e,()=>{n?.forEach(t=>t())})}(n),n}(r),i=[hy({}),{provide:jo,useExisting:Xu},...t||[]];return function bI(e){const n=Ju(e)?e.r3Injector:e.moduleRef.injector,t=n.get(qe);return t.run(()=>{Ju(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const r=n.get(Cr,null);let o;if(t.runOutsideAngular(()=>{o=t.onError.subscribe({next:i=>{r.handleError(i)}})}),Ju(e)){const i=()=>n.destroy(),s=e.platformInjector.get(If);s.add(i),n.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{const i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(If);s.add(i),e.moduleRef.onDestroy(()=>{hf(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return function cB(e,n,t){try{const r=t();return Vu(r)?r.catch(o=>{throw n.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(r,t,()=>{const i=n.get(rE);return i.runInitializers(),i.donePromise.then(()=>{if(function GL(e){"string"==typeof e&&(zE=e.toLowerCase().replace(/_/g,"-"))}(n.get(Ei,yf)||yf),!n.get(sB,!0))return Ju(e)?n.get(Gn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Ju(e)){const c=n.get(Gn);return void 0!==e.rootComponent&&c.bootstrap(e.rootComponent),c}return function aB(e,n){const t=e.injector.get(Gn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new U(-403,!1);e.instance.ngDoBootstrap(t)}n.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({r3Injector:new Rw({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:o,rootComponent:n})}catch(n){return Promise.reject(n)}}function xt(e){return function Gh(e){const n=le(null);try{return e()}finally{le(n)}}(e)}function Yo(e,n){return function Bh(e,n){const t=Object.create(Mc);t.computation=e,void 0!==n&&(t.equal=n);const r=()=>{if(Vr(t),Fi(t),t.value===Ht)throw t.error;return t.value};return r[Ft]=t,r}(e,n?.equal)}const Ar=new Y("");let tM=null;function Mi(){return tM}class p2{}let nM=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ie({token:e,factory:()=>$(g2),providedIn:"platform"})}return e})(),g2=(()=>{class e extends nM{_location;_history;_doc=$(Ar);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Mi().getBaseHref(this._doc)}onPopState(t){const r=Mi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Mi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ie({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function rM(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function oM(e){const n=e.search(/#|\?|$/);return"/"===e[n-1]?e.slice(0,n-1)+e.slice(n):e}function Ms(e){return e&&"?"!==e[0]?`?${e}`:e}let Of=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ie({token:e,factory:()=>$(y2),providedIn:"root"})}return e})();const m2=new Y("");let y2=(()=>{class e extends Of{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??$(Ar).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return rM(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ms(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){const s=this.prepareExternalUrl(o+Ms(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){const s=this.prepareExternalUrl(o+Ms(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(fe(nM),fe(m2,8))};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),tl=(()=>{class e{_subject=new nn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function D2(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(oM(iM(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ms(r))}normalize(t){return e.stripTrailingSlash(function _2(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,iM(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ms(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ms(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Ms;static joinWithSlash=rM;static stripTrailingSlash=oM;static \u0275fac=function(r){return new(r||e)(fe(Of))};static \u0275prov=ie({token:e,factory:()=>function v2(){return new tl(fe(Of))}(),providedIn:"root"})}return e})();function iM(e){return e.replace(/\/index.html$/,"")}function sM(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[o,i]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===n)return decodeURIComponent(i)}return null}function cM(e){return"server"===e}class uM{}const Ey=new Y("");let lM=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o,i){return this._findPluginFor(r).addEventListener(t,r,o,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(i=>i.supports(t)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(fe(Ey),fe(qe))};static \u0275prov=ie({token:e,factory:e.\u0275fac})}return e})();class dM{_doc;constructor(n){this._doc=n}manager}const kf="ng-app-id";function fM(e){for(const n of e)n.remove()}function hM(e,n){const t=n.createElement("style");return t.textContent=e,t}function Iy(e,n){const t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}let pM=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,o,i={}){this.doc=t,this.appId=r,this.nonce=o,this.isServer=cM(i),function C2(e,n,t,r){const o=e.head?.querySelectorAll(`style[${kf}="${n}"],link[${kf}="${n}"]`);if(o)for(const i of o)i.removeAttribute(kf),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&t.set(i.textContent,{usage:0,elements:[i]})}(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(const o of t)this.addUsage(o,this.inline,hM);r?.forEach(o=>this.addUsage(o,this.external,Iy))}removeStyles(t,r){for(const o of t)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(t,r,o){const i=r.get(t);i?i.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(t,this.doc)))})}removeUsage(t,r){const o=r.get(t);o&&(o.usage--,o.usage<=0&&(fM(o.elements),r.delete(t)))}ngOnDestroy(){for(const[,{elements:t}]of[...this.inline,...this.external])fM(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(const[r,{elements:o}]of this.inline)o.push(this.addElement(t,hM(r,this.doc)));for(const[r,{elements:o}]of this.external)o.push(this.addElement(t,Iy(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(kf,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(fe(Ar),fe(Bo),fe(UD,8),fe(zp))};static \u0275prov=ie({token:e,factory:e.\u0275fac})}return e})();const My={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Sy=/%COMP%/g,T2=new Y("",{providedIn:"root",factory:()=>!0});function mM(e,n){return n.map(t=>t.replace(Sy,e))}let yM=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,o,i,s,a,c,l=null,f=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=f,this.platformIsServer=cM(a),this.defaultRenderer=new Ty(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===nr.ShadowDom&&(r={...r,encapsulation:nr.Emulated});const o=this.getOrCreateRenderer(t,r);return o instanceof _M?o.applyToHost(t):o instanceof Ay&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let i=o.get(r.id);if(!i){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case nr.Emulated:i=new _M(c,l,r,this.appId,f,s,a,p,v);break;case nr.ShadowDom:return new x2(c,l,t,r,s,a,this.nonce,p,v);default:i=new Ay(c,l,r,f,s,a,p,v)}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(fe(lM),fe(pM),fe(Bo),fe(T2),fe(Ar),fe(zp),fe(qe),fe(UD),fe(wa,8))};static \u0275prov=ie({token:e,factory:e.\u0275fac})}return e})();class Ty{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,o,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(My[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(vM(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(vM(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new U(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,o){if(o){t=o+":"+t;const i=My[o];i?n.setAttributeNS(i,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const o=My[r];o?n.removeAttributeNS(o,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,o){o&(yi.DashCase|yi.Important)?n.style.setProperty(t,r,o&yi.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&yi.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){null!=n&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,o){if("string"==typeof n&&!(n=Mi().getGlobalEventTarget(this.doc,n)))throw new U(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(n,t,i)),this.eventManager.addEventListener(n,t,i,o)}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function vM(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class x2 extends Ty{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,o,i,s,a,c,l){super(n,i,s,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=o.styles;f=mM(o.id,f);for(const v of f){const m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=v,this.shadowRoot.appendChild(m)}const p=o.getExternalStyles?.();if(p)for(const v of p){const m=Iy(v,i);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ay extends Ty{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,o,i,s,a,c,l){super(n,i,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o;let f=r.styles;this.styles=l?mM(l,f):f,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class _M extends Ay{contentAttr;hostAttr;constructor(n,t,r,o,i,s,a,c,l){const f=o+"-"+r.id;super(n,t,r,i,s,a,c,l,f),this.contentAttr=function A2(e){return"_ngcontent-%COMP%".replace(Sy,e)}(f),this.hostAttr=function N2(e){return"_nghost-%COMP%".replace(Sy,e)}(f)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}class Ny extends p2{supportsDOMEvents=!0;static makeCurrent(){!function h2(e){tM??=e}(new Ny)}onAndCancel(n,t,r,o){return n.addEventListener(t,r,o),()=>{n.removeEventListener(t,r,o)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function O2(){return nl=nl||document.querySelector("base"),nl?nl.getAttribute("href"):null}();return null==t?null:function k2(e){return new URL(e,document.baseURI).pathname}(t)}resetBaseElement(){nl=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return sM(document.cookie,n)}}let nl=null,F2=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac})}return e})();const DM=["alt","control","meta","shift"],V2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},j2={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};function bM(e){return{appProviders:[...W2,...e?.providers??[]],platformProviders:q2}}const q2=[{provide:zp,useValue:"browser"},{provide:qp,useValue:function $2(){Ny.makeCurrent()},multi:!0},{provide:Ar,useFactory:function G2(){return function IR(e){Gp=e}(document),document}}],W2=[{provide:di,useValue:"root"},{provide:Cr,useFactory:function H2(){return new Cr}},{provide:Ey,useClass:(()=>{class e extends dM{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o,i){return t.addEventListener(r,o,i),()=>this.removeEventListener(t,r,o,i)}removeEventListener(t,r,o,i){return t.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(fe(Ar))};static \u0275prov=ie({token:e,factory:e.\u0275fac})}return e})(),multi:!0,deps:[Ar]},{provide:Ey,useClass:(()=>{class e extends dM{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,o,i){const s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mi().onAndCancel(t,s.domEventName,a,i))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),DM.forEach(l=>{const f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=i,0!=r.length||0===i.length)return null;const c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let o=V2[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),DM.forEach(s=>{s!==o&&(0,j2[s])(t)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{e.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return"esc"===t?"escape":t}static \u0275fac=function(r){return new(r||e)(fe(Ar))};static \u0275prov=ie({token:e,factory:e.\u0275fac})}return e})(),multi:!0,deps:[Ar]},yM,pM,lM,{provide:am,useExisting:yM},{provide:uM,useClass:F2},[]];function Si(e){return this instanceof Si?(this.v=e,this):new Si(e)}function IM(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function ky(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=e[i]&&function(s){return new Promise(function(a,c){!function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}(a,c,(s=e[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const MM=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function SM(e){return Ue(e?.then)}function TM(e){return Ue(e[xc])}function AM(e){return Symbol.asyncIterator&&Ue(e?.[Symbol.asyncIterator])}function NM(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const RM=function bU(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function xM(e){return Ue(e?.[RM])}function OM(e){return function EM(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=t.apply(e,n||[]),i=[];return o=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(m){return function(D){return Promise.resolve(D).then(m,p)}}),o[Symbol.asyncIterator]=function(){return this},o;function a(m,D){r[m]&&(o[m]=function(w){return new Promise(function(T,V){i.push([m,w,T,V])>1||c(m,w)})},D&&(o[m]=D(o[m])))}function c(m,D){try{!function l(m){m.value instanceof Si?Promise.resolve(m.value.v).then(f,p):v(i[0][2],m)}(r[m](D))}catch(w){v(i[0][3],w)}}function f(m){c("next",m)}function p(m){c("throw",m)}function v(m,D){m(D),i.shift(),i.length&&c(i[0][0],i[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:o}=yield Si(t.read());if(o)return yield Si(void 0);yield yield Si(r)}}finally{t.releaseLock()}})}function kM(e){return Ue(e?.getReader)}function ao(e){if(e instanceof _t)return e;if(null!=e){if(TM(e))return function CU(e){return new _t(n=>{const t=e[xc]();if(Ue(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(MM(e))return function wU(e){return new _t(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(SM(e))return function EU(e){return new _t(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,ue)})}(e);if(AM(e))return PM(e);if(xM(e))return function IU(e){return new _t(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(kM(e))return function MU(e){return PM(OM(e))}(e)}throw NM(e)}function PM(e){return new _t(n=>{(function SU(e,n){var t,r,o,i;return function CM(e,n,t,r){return new(t||(t=Promise))(function(i,s){function a(f){try{l(r.next(f))}catch(p){s(p)}}function c(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?i(f.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(f.value).then(a,c)}l((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=IM(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function Zo(e,n,t,r=0,o=!1){const i=n.schedule(function(){t(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function FM(e,n=0){return Tt((t,r)=>{t.subscribe(dt(r,o=>Zo(r,e,()=>r.next(o),n),()=>Zo(r,e,()=>r.complete(),n),o=>Zo(r,e,()=>r.error(o),n)))})}function LM(e,n=0){return Tt((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function VM(e,n){if(!e)throw new Error("Iterable cannot be null");return new _t(t=>{Zo(t,n,()=>{const r=e[Symbol.asyncIterator]();Zo(t,n,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function en(e,n){return n?function OU(e,n){if(null!=e){if(TM(e))return function TU(e,n){return ao(e).pipe(LM(n),FM(n))}(e,n);if(MM(e))return function NU(e,n){return new _t(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(SM(e))return function AU(e,n){return ao(e).pipe(LM(n),FM(n))}(e,n);if(AM(e))return VM(e,n);if(xM(e))return function RU(e,n){return new _t(t=>{let r;return Zo(t,n,()=>{r=e[RM](),Zo(t,n,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void t.error(s)}i?t.complete():t.next(o)},0,!0)}),()=>Ue(r?.return)&&r.return()})}(e,n);if(kM(e))return function xU(e,n){return VM(OM(e),n)}(e,n)}throw NM(e)}(e,n):ao(e)}function Fy(e){return e[e.length-1]}function jM(e){return Ue(Fy(e))?e.pop():void 0}function Pf(e){return function kU(e){return e&&Ue(e.schedule)}(Fy(e))?e.pop():void 0}function ge(...e){return en(e,Pf(e))}const rl=lr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:PU}=Array,{getPrototypeOf:FU,prototype:LU,keys:VU}=Object;function BM(e){if(1===e.length){const n=e[0];if(PU(n))return{args:n,keys:null};if(function jU(e){return e&&"object"==typeof e&&FU(e)===LU}(n)){const t=VU(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}const{isArray:BU}=Array;function UM(e){return me(n=>function UU(e,n){return BU(n)?e(...n):e(n)}(e,n))}function $M(e,n){return e.reduce((t,r,o)=>(t[r]=n[o],t),{})}function HM(...e){const n=Pf(e),t=jM(e),{args:r,keys:o}=BM(e);if(0===r.length)return en([],n);const i=new _t(function $U(e,n,t=Kn){return r=>{GM(n,()=>{const{length:o}=e,i=new Array(o);let s=o,a=o;for(let c=0;c<o;c++)GM(n,()=>{const l=en(e[c],n);let f=!1;l.subscribe(dt(r,p=>{i[c]=p,f||(f=!0,a--),a||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,o?s=>$M(o,s):Kn));return t?i.pipe(UM(t)):i}function GM(e,n,t){e?Zo(t,e,n):n()}function bn(e,n,t=1/0){return Ue(n)?bn((r,o)=>me((i,s)=>n(r,i,o,s))(ao(e(r,o))),t):("number"==typeof n&&(t=n),Tt((r,o)=>function HU(e,n,t,r,o,i,s,a){const c=[];let l=0,f=0,p=!1;const v=()=>{p&&!c.length&&!l&&n.complete()},m=w=>l<r?D(w):c.push(w),D=w=>{i&&n.next(w),l++;let T=!1;ao(t(w,f++)).subscribe(dt(n,V=>{o?.(V),i?m(V):n.next(V)},()=>{T=!0},void 0,()=>{if(T)try{for(l--;c.length&&l<r;){const V=c.shift();s?Zo(n,s,()=>D(V)):D(V)}v()}catch(V){n.error(V)}}))};return e.subscribe(dt(n,m,()=>{p=!0,v()})),()=>{a?.()}}(r,o,e,t)))}function Vy(...e){return function GU(){return function Ly(e=1/0){return bn(Kn,e)}(1)}()(en(e,Pf(e)))}function qM(e){return new _t(n=>{ao(e()).subscribe(n)})}function Qo(e,n){const t=Ue(e)?e:()=>e,r=o=>o.error(t());return new _t(n?o=>n.schedule(r,0,o):r)}const Nr=new _t(e=>e.complete());function jy(){return Tt((e,n)=>{let t=null;e._refCount++;const r=dt(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const o=e._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class zM extends _t{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Hr(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Lt;const t=this.getSubject();n.add(this.source.subscribe(dt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Lt.EMPTY)}return n}refCount(){return jy()(this)}}function co(e,n){return Tt((t,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();t.subscribe(dt(r,c=>{o?.unsubscribe();let l=0;const f=i++;ao(e(c,f)).subscribe(o=dt(r,p=>r.next(n?n(c,p,f,l++):p),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function lc(e){return e<=0?()=>Nr:Tt((n,t)=>{let r=0;n.subscribe(dt(t,o=>{++r<=e&&(t.next(o),e<=r&&t.complete())}))})}function Ti(e,n){return Tt((t,r)=>{let o=0;t.subscribe(dt(r,i=>e.call(n,i,o++)&&r.next(i)))})}function Ff(e){return Tt((n,t)=>{let r=!1;n.subscribe(dt(t,o=>{r=!0,t.next(o)},()=>{r||t.next(e),t.complete()}))})}function WM(e=WU){return Tt((n,t)=>{let r=!1;n.subscribe(dt(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(e())))})}function WU(){return new rl}function Ss(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Ti((o,i)=>e(o,i,r)):Kn,lc(1),t?Ff(n):WM(()=>new rl))}function ol(e,n){return Ue(n)?bn(e,n,1):bn(e,1)}function It(e,n,t){const r=Ue(e)||n||t?{next:e,error:n,complete:t}:e;return r?Tt((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(dt(i,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),i.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),i.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),i.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Kn}function kn(e){return Tt((n,t)=>{let i,r=null,o=!1;r=n.subscribe(dt(t,void 0,void 0,s=>{i=ao(e(s,kn(e)(n))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function By(e){return e<=0?()=>Nr:Tt((n,t)=>{let r=[];n.subscribe(dt(t,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Lf(e){return Tt((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}let XU=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(fe(Ar))};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Oe="primary",sl=Symbol("RouteTitle");class n${params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function dc(e){return new n$(e)}function r$(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=e[i];if(":"===s[0])o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function uo(e,n){const t=e?Uy(e):void 0,r=n?Uy(n):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!ZM(e[o],n[o]))return!1;return!0}function Uy(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function ZM(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((o,i)=>r[i]===o)}return e===n}function QM(e){return e.length>0?e[e.length-1]:null}function Ni(e){return function K2(e){return!!e&&(e instanceof _t||Ue(e.lift)&&Ue(e.subscribe))}(e)?e:Vu(e)?en(Promise.resolve(e)):ge(e)}const i$={exact:function eS(e,n,t){if(!As(e.segments,n.segments)||!Vf(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!eS(e.children[r],n.children[r],t))return!1;return!0},subset:tS},XM={exact:function s$(e,n){return uo(e,n)},subset:function a$(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>ZM(e[t],n[t]))},ignored:()=>!0};function JM(e,n,t){return i$[t.paths](e.root,n.root,t.matrixParams)&&XM[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function tS(e,n,t){return nS(e,n,n.segments,t)}function nS(e,n,t,r){if(e.segments.length>t.length){const o=e.segments.slice(0,t.length);return!(!As(o,t)||n.hasChildren()||!Vf(o,t,r))}if(e.segments.length===t.length){if(!As(e.segments,t)||!Vf(e.segments,t,r))return!1;for(const o in n.children)if(!e.children[o]||!tS(e.children[o],n.children[o],r))return!1;return!0}{const o=t.slice(0,e.segments.length),i=t.slice(e.segments.length);return!!(As(e.segments,o)&&Vf(e.segments,o,r)&&e.children[Oe])&&nS(e.children[Oe],n,i,r)}}function Vf(e,n,t){return n.every((r,o)=>XM[t](e[o].parameters,r.parameters))}class Ts{root;queryParams;fragment;_queryParamMap;constructor(n=new et([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=dc(this.queryParams),this._queryParamMap}toString(){return l$.serialize(this)}}class et{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uf(this)}}class al{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=dc(this.parameters),this._parameterMap}toString(){return iS(this)}}function As(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let jf=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=ie({token:e,factory:()=>new Bf,providedIn:"root"})}return e})();class Bf{parse(n){const t=new b$(n);return new Ts(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${cl(n.root,!0)}`,r=function h$(e){const n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(o=>`${$f(t)}=${$f(o)}`).join("&"):`${$f(t)}=${$f(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function d$(e){return encodeURI(e)}(n.fragment)}`:""}`}}const l$=new Bf;function Uf(e){return e.segments.map(n=>iS(n)).join("/")}function cl(e,n){if(!e.hasChildren())return Uf(e);if(n){const t=e.children[Oe]?cl(e.children[Oe],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==Oe&&r.push(`${o}:${cl(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function u$(e,n){let t=[];return Object.entries(e.children).forEach(([r,o])=>{r===Oe&&(t=t.concat(n(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==Oe&&(t=t.concat(n(o,r)))}),t}(e,(r,o)=>o===Oe?[cl(e.children[Oe],!1)]:[`${o}:${cl(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Oe]?`${Uf(e)}/${t[0]}`:`${Uf(e)}/(${t.join("//")})`}}function rS(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $f(e){return rS(e).replace(/%3B/gi,";")}function $y(e){return rS(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hf(e){return decodeURIComponent(e)}function oS(e){return Hf(e.replace(/\+/g,"%20"))}function iS(e){return`${$y(e.path)}${function f$(e){return Object.entries(e).map(([n,t])=>`;${$y(n)}=${$y(t)}`).join("")}(e.parameters)}`}const p$=/^[^\/()?;#]+/;function Hy(e){const n=e.match(p$);return n?n[0]:""}const g$=/^[^\/()?;=#]+/,y$=/^[^=?&#]+/,_$=/^[^&#]+/;class b${url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new et([],{}):new et([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[Oe]=new et(n,t)),r}parseSegment(){const n=Hy(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(n),new al(Hf(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function m$(e){const n=e.match(g$);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Hy(this.remaining);o&&(r=o,this.capture(r))}n[Hf(t)]=Hf(r)}parseQueryParam(n){const t=function v$(e){const n=e.match(y$);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function D$(e){const n=e.match(_$);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=oS(t),i=oS(r);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(i)}else n[o]=i}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Hy(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new U(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):n&&(i=Oe);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s[Oe]:new et([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new U(4011,!1)}}function sS(e){return e.segments.length>0?new et([],{[Oe]:e}):e}function aS(e){const n={};for(const[r,o]of Object.entries(e.children)){const i=aS(o);if(r===Oe&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))n[s]=a;else(i.segments.length>0||i.hasChildren())&&(n[r]=i)}return function C$(e){if(1===e.numberOfChildren&&e.children[Oe]){const n=e.children[Oe];return new et(e.segments.concat(n.segments),n.children)}return e}(new et(e.segments,n))}function Ns(e){return e instanceof Ts}function cS(e){let n;const o=sS(function t(i){const s={};for(const c of i.children){const l=t(c);s[c.outlet]=l}const a=new et(i.url,s);return i===e&&(n=a),a}(e.root));return n??o}function uS(e,n,t,r){let o=e;for(;o.parent;)o=o.parent;if(0===n.length)return Gy(o,o,o,t,r);const i=function E$(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new dS(!0,0,e);let n=0,t=!1;const r=e.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?n++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new dS(t,n,r)}(n);if(i.toRoot())return Gy(o,o,new et([],{}),t,r);const s=function I$(e,n,t){if(e.isAbsolute)return new qf(n,!0,0);if(!t)return new qf(n,!1,NaN);if(null===t.parent)return new qf(t,!0,0);const r=Gf(e.commands[0])?0:1;return function M$(e,n,t){let r=e,o=n,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new U(4005,!1);o=r.segments.length}return new qf(r,!1,o-i)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(i,o,e),a=s.processChildren?ll(s.segmentGroup,s.index,i.commands):fS(s.segmentGroup,s.index,i.commands);return Gy(o,s.segmentGroup,a,t,r)}function Gf(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ul(e){return"object"==typeof e&&null!=e&&e.outlets}function Gy(e,n,t,r,o){let s,i={};r&&Object.entries(r).forEach(([c,l])=>{i[c]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`}),s=e===n?t:lS(e,n,t);const a=sS(aS(s));return new Ts(a,i,o)}function lS(e,n,t){const r={};return Object.entries(e.children).forEach(([o,i])=>{r[o]=i===n?t:lS(i,n,t)}),new et(e.segments,r)}class dS{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Gf(r[0]))throw new U(4003,!1);const o=r.find(ul);if(o&&o!==QM(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qf{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function fS(e,n,t){if(e??=new et([],{}),0===e.segments.length&&e.hasChildren())return ll(e,n,t);const r=function T$(e,n,t){let r=0,o=n;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=t.length)return i;const s=e.segments[o],a=t[r];if(ul(a))break;const c=`${a}`,l=r<t.length-1?t[r+1]:null;if(o>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!pS(c,l,s))return i;r+=2}else{if(!pS(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,n,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const i=new et(e.segments.slice(0,r.pathIndex),{});return i.children[Oe]=new et(e.segments.slice(r.pathIndex),e.children),ll(i,0,o)}return r.match&&0===o.length?new et(e.segments,{}):r.match&&!e.hasChildren()?qy(e,n,t):r.match?ll(e,0,o):qy(e,n,t)}function ll(e,n,t){if(0===t.length)return new et(e.segments,{});{const r=function S$(e){return ul(e[0])?e[0].outlets:{[Oe]:e}}(t),o={};if(Object.keys(r).some(i=>i!==Oe)&&e.children[Oe]&&1===e.numberOfChildren&&0===e.children[Oe].segments.length){const i=ll(e.children[Oe],n,t);return new et(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=fS(e.children[i],n,s))}),Object.entries(e.children).forEach(([i,s])=>{void 0===r[i]&&(o[i]=s)}),new et(e.segments,o)}}function qy(e,n,t){const r=e.segments.slice(0,n);let o=0;for(;o<t.length;){const i=t[o];if(ul(i)){const c=A$(i.outlets);return new et(r,c)}if(0===o&&Gf(t[0])){r.push(new al(e.segments[n].path,hS(t[0]))),o++;continue}const s=ul(i)?i.outlets[Oe]:`${i}`,a=o<t.length-1?t[o+1]:null;s&&a&&Gf(a)?(r.push(new al(s,hS(a))),o+=2):(r.push(new al(s,{})),o++)}return new et(r,{})}function A$(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=qy(new et([],{}),0,r))}),n}function hS(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function pS(e,n,t){return e==t.path&&uo(n,t.parameters)}const zf="imperative";var Ve=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ve||{});class lo{id;url;constructor(n,t){this.id=n,this.url=t}}class zy extends lo{type=Ve.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",o=null){super(n,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rs extends lo{urlAfterRedirects;type=Ve.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var qn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(qn||{}),Wy=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Wy||{});class xs extends lo{reason;code;type=Ve.NavigationCancel;constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dl extends lo{reason;code;type=Ve.NavigationSkipped;constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o}}class Ky extends lo{error;target;type=Ve.NavigationError;constructor(n,t,r,o){super(n,t),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gS extends lo{urlAfterRedirects;state;type=Ve.RoutesRecognized;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class N$ extends lo{urlAfterRedirects;state;type=Ve.GuardsCheckStart;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class R$ extends lo{urlAfterRedirects;state;shouldActivate;type=Ve.GuardsCheckEnd;constructor(n,t,r,o,i){super(n,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class x$ extends lo{urlAfterRedirects;state;type=Ve.ResolveStart;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class O$ extends lo{urlAfterRedirects;state;type=Ve.ResolveEnd;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class k${route;type=Ve.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class P${route;type=Ve.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class F${snapshot;type=Ve.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class L${snapshot;type=Ve.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class V${snapshot;type=Ve.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class j${snapshot;type=Ve.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yy{}class Wf{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}}function Rr(e){return e.outlet||Oe}function fl(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class q${rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return fl(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new hl(this.rootInjector)}}let hl=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new q$(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(fe(Tn))};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class mS{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=Zy(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=Zy(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=Qy(n,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return Qy(n,this._root).map(t=>t.value)}}function Zy(e,n){if(e===n.value)return n;for(const t of n.children){const r=Zy(e,t);if(r)return r}return null}function Qy(e,n){if(e===n.value)return[n];for(const t of n.children){const r=Qy(e,t);if(r.length)return r.unshift(n),r}return[]}class xr{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function fc(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class yS extends mS{snapshot;constructor(n,t){super(n),this.snapshot=t,Xy(this,n)}toString(){return this.snapshot.toString()}}function vS(e){const n=function z$(e){const i=new Yf([],{},{},"",{},Oe,e,null,{});return new _S("",new xr(i,[]))}(e),t=new Gt([new al("",{})]),r=new Gt({}),o=new Gt({}),i=new Gt({}),s=new Gt(""),a=new hc(t,r,i,s,o,Oe,e,n.root);return a.snapshot=n.root,new yS(new xr(a,[]),n)}class hc{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,o,i,s,a,c){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(me(l=>l[sl]))??ge(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(me(n=>dc(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(me(n=>dc(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Kf(e,n,t="emptyOnly"){let r;const{routeConfig:o}=e;return r=null===n||"always"!==t&&""!==o?.path&&(n.component||n.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.data,...o?.data,...e._resolvedData}},o&&bS(o)&&(r.resolve[sl]=o.title),r}class Yf{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[sl]}constructor(n,t,r,o,i,s,a,c,l){this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=dc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=dc(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _S extends mS{url;constructor(n,t){super(t),this.url=n,Xy(this,t)}toString(){return DS(this._root)}}function Xy(e,n){n.value._routerState=e,n.children.forEach(t=>Xy(e,t))}function DS(e){const n=e.children.length>0?` { ${e.children.map(DS).join(", ")} } `:"";return`${e.value}${n}`}function Jy(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,uo(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),uo(n.params,t.params)||e.paramsSubject.next(t.params),function o$(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!uo(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),uo(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function ev(e,n){const t=uo(e.params,n.params)&&function c$(e,n){return As(e,n)&&e.every((t,r)=>uo(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||ev(e.parent,n.parent))}function bS(e){return"string"==typeof e.title||null===e.title}const W$=new Y("");let CS=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Oe;activateEvents=new Rt;deactivateEvents=new Rt;attachEvents=new Rt;detachEvents=new Rt;routerOutletData=eR(void 0);parentContexts=$(hl);location=$(Er);changeDetector=$(cc);inputBinder=$(tv,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=t;const o=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new K$(t,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ce({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Dr]})}return e})();class K${route;childContexts;parent;outletData;constructor(n,t,r,o){this.route=n,this.childContexts=t,this.parent=r,this.outletData=o}get(n,t){return n===hc?this.route:n===hl?this.childContexts:n===W$?this.outletData:this.parent.get(n,t)}}const tv=new Y("");function pl(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const o=function Z$(e,n,t){return n.children.map(r=>{for(const o of t.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return pl(e,r,o);return pl(e,r)})}(e,n,t);return new xr(r,o)}{if(e.shouldAttach(n.value)){const i=e.retrieve(n.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>pl(e,a)),s}}const r=function Q$(e){return new hc(new Gt(e.url),new Gt(e.params),new Gt(e.queryParams),new Gt(e.fragment),new Gt(e.data),e.outlet,e.component,e)}(n.value),o=n.children.map(i=>pl(e,i));return new xr(r,o)}}class nv{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}}const wS="ngNavigationCancelingError";function Zf(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=Ns(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=ES(!1,qn.Redirect);return o.url=t,o.navigationBehaviorOptions=r,o}function ES(e,n){const t=new Error(`NavigationCancelingError: ${e||""}`);return t[wS]=!0,t.cancellationCode=n,t}function IS(e){return!!e&&e[wS]}class eH{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,o,i){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Jy(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const o=fc(t);n.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(n,t,r){const o=n.value,i=t?t.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,i=fc(n);for(const s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,i=fc(n);for(const s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const o=fc(t);n.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new j$(i.value.snapshot))}),n.children.length&&this.forwardEvent(new L$(n.value.snapshot))}activateRoutes(n,t,r){const o=n.value,i=t?t.value:null;if(Jy(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Jy(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}}class MS{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Qf{component;route;constructor(n,t){this.component=n,this.route=t}}function tH(e,n,t){const r=e._root;return gl(r,n?n._root:null,t,[r.value])}function pc(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function Yi(e){return null!==ea(e)}(e)?n.get(e):e:r}function gl(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=fc(n);return e.children.forEach(s=>{(function rH(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const c=function oH(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!As(e.url,n.url);case"pathParamsOrQueryParamsChange":return!As(e.url,n.url)||!uo(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ev(e,n)||!uo(e.queryParams,n.queryParams);default:return!ev(e,n)}}(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new MS(r)):(i.data=s.data,i._resolvedData=s._resolvedData),gl(e,n,i.component?a?a.children:null:t,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Qf(a.outlet.component,s))}else s&&ml(n,a,o),o.canActivateChecks.push(new MS(r)),gl(e,null,i.component?a?a.children:null:t,r,o)})(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>ml(a,t.getContext(s),o)),o}function ml(e,n,t){const r=fc(e),o=e.value;Object.entries(r).forEach(([i,s])=>{ml(s,o.component?n?n.children.getContext(i):null:n,t)}),t.canDeactivateChecks.push(new Qf(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}function yl(e){return"function"==typeof e}function SS(e){return e instanceof rl||"EmptyError"===e?.name}const Xf=Symbol("INITIAL_VALUE");function gc(){return co(e=>HM(e.map(n=>n.pipe(lc(1),function zU(...e){const n=Pf(e);return Tt((t,r)=>{(n?Vy(e,t,n):Vy(e,t)).subscribe(r)})}(Xf)))).pipe(me(n=>{for(const t of n)if(!0!==t){if(t===Xf)return Xf;if(!1===t||dH(t))return t}return!0}),Ti(n=>n!==Xf),lc(1)))}function dH(e){return Ns(e)||e instanceof nv}function TS(e){return function Ws(...e){return qi(e)}(It(n=>{if("boolean"!=typeof n)throw Zf(0,n)}),me(n=>!0===n))}class rv{segmentGroup;constructor(n){this.segmentGroup=n||null}}class ov extends Error{urlTree;constructor(n){super(),this.urlTree=n}}function mc(e){return Qo(new rv(e))}class EH{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return ge(r);if(o.numberOfChildren>1||!o.children[Oe])return Qo(new U(4e3,!1));o=o.children[Oe]}}applyRedirectCommands(n,t,r,o,i){if("string"!=typeof t){const a=t,{queryParams:c,fragment:l,routeConfig:f,url:p,outlet:v,params:m,data:D,title:w}=o,T=yr(i,()=>a({params:m,data:D,queryParams:c,fragment:l,routeConfig:f,url:p,outlet:v,title:w}));if(T instanceof Ts)throw new ov(T);t=T}const s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if("/"===t[0])throw new ov(s);return s}applyRedirectCreateUrlTree(n,t,r,o){const i=this.createSegmentGroup(n,t.root,r,o);return new Ts(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([o,i])=>{if("string"==typeof i&&":"===i[0]){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(n,t,r,o){const i=this.createSegments(n,t.segments,r,o);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,r,o)}),new et(i,s)}createSegments(n,t,r,o){return t.map(i=>":"===i.path[0]?this.findPosParam(n,i,o):this.findOrReturn(i,r))}findPosParam(n,t,r){const o=r[t.path.substring(1)];if(!o)throw new U(4001,!1);return o}findOrReturn(n,t){let r=0;for(const o of t){if(o.path===n.path)return t.splice(r),o;r++}return n}}const iv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function IH(e,n,t,r,o){const i=AS(e,n,t);return i.matched?(r=function B$(e,n){return e.providers&&!e._injector&&(e._injector=Im(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function bH(e,n,t,r){const o=n.canMatch;return o&&0!==o.length?ge(o.map(s=>{const a=pc(s,e);return Ni(function lH(e){return e&&yl(e.canMatch)}(a)?a.canMatch(n,t):yr(e,()=>a(n,t)))})).pipe(gc(),TS()):ge(!0)}(r,n,t).pipe(me(s=>!0===s?i:{...iv}))):ge(i)}function AS(e,n,t){if("**"===n.path)return function MH(e){return{matched:!0,parameters:e.length>0?QM(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...iv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(n.matcher||r$)(t,e,n);if(!o)return{...iv};const i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function NS(e,n,t,r){return t.length>0&&function AH(e,n,t){return t.some(r=>Jf(e,n,r)&&Rr(r)!==Oe)}(e,t,r)?{segmentGroup:new et(n,TH(r,new et(t,e.children))),slicedSegments:[]}:0===t.length&&function NH(e,n,t){return t.some(r=>Jf(e,n,r))}(e,t,r)?{segmentGroup:new et(e.segments,SH(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new et(e.segments,e.children),slicedSegments:t}}function SH(e,n,t,r){const o={};for(const i of t)if(Jf(e,n,i)&&!r[Rr(i)]){const s=new et([],{});o[Rr(i)]=s}return{...r,...o}}function TH(e,n){const t={};t[Oe]=n;for(const r of e)if(""===r.path&&Rr(r)!==Oe){const o=new et([],{});t[Rr(r)]=o}return t}function Jf(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class xH{}class PH{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,o,i,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new EH(this.urlSerializer,this.urlTree)}noMatchError(n){return new U(4002,`'${n.segmentGroup}'`)}recognize(){const n=NS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(me(({children:t,rootSnapshot:r})=>{const o=new xr(r,t),i=new _S("",o),s=function w$(e,n,t=null,r=null){return uS(cS(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(n){const t=new Yf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,Oe,t).pipe(me(r=>({children:r,rootSnapshot:t})),kn(r=>{if(r instanceof ov)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof rv?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,o,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r,i):this.processSegment(n,t,r,r.segments,o,!0,i).pipe(me(s=>s instanceof xr?[s]:[]))}processChildren(n,t,r,o){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return en(i).pipe(ol(s=>{const a=r.children[s],c=function G$(e,n){const t=e.filter(r=>Rr(r)===n);return t.push(...e.filter(r=>Rr(r)!==n)),t}(t,s);return this.processSegmentGroup(n,c,a,s,o)}),function YU(e,n){return Tt(function KU(e,n,t,r,o){return(i,s)=>{let a=t,c=n,l=0;i.subscribe(dt(s,f=>{const p=l++;c=a?e(c,f,p):(a=!0,f),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}(e,n,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),Ff(null),function ZU(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Ti((o,i)=>e(o,i,r)):Kn,By(1),t?Ff(n):WM(()=>new rl))}(),bn(s=>{if(null===s)return mc(r);const a=RS(s);return function FH(e){e.sort((n,t)=>n.value.outlet===Oe?-1:t.value.outlet===Oe?1:n.value.outlet.localeCompare(t.value.outlet))}(a),ge(a)}))}processSegment(n,t,r,o,i,s,a){return en(t).pipe(ol(c=>this.processSegmentAgainstRoute(c._injector??n,t,c,r,o,i,s,a).pipe(kn(l=>{if(l instanceof rv)return ge(null);throw l}))),Ss(c=>!!c),kn(c=>{if(SS(c))return function RH(e,n,t){return 0===n.length&&!e.children[t]}(r,o,i)?ge(new xH):mc(r);throw c}))}processSegmentAgainstRoute(n,t,r,o,i,s,a,c){return Rr(r)===s||s!==Oe&&Jf(o,i,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,o,t,r,i,s,c):mc(o):mc(o)}expandSegmentAgainstRouteUsingRedirect(n,t,r,o,i,s,a){const{matched:c,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:v}=AS(t,o,i);if(!c)return mc(t);"string"==typeof o.redirectTo&&"/"===o.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const m=new Yf(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xS(o),Rr(o),o.component??o._loadedComponent??null,o,OS(o)),D=Kf(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(D.params),m.data=Object.freeze(D.data);const w=this.applyRedirects.applyRedirectCommands(f,o.redirectTo,p,m,n);return this.applyRedirects.lineralizeSegments(o,w).pipe(bn(T=>this.processSegment(n,r,t,T.concat(v),s,!1,a)))}matchSegmentAgainstRoute(n,t,r,o,i,s){const a=IH(t,r,o,n);return"**"===r.path&&(t.children={}),a.pipe(co(c=>c.matched?this.getChildConfig(n=r._injector??n,r,o).pipe(co(({routes:l})=>{const f=r._loadedInjector??n,{parameters:p,consumedSegments:v,remainingSegments:m}=c,D=new Yf(v,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xS(r),Rr(r),r.component??r._loadedComponent??null,r,OS(r)),w=Kf(D,s,this.paramsInheritanceStrategy);D.params=Object.freeze(w.params),D.data=Object.freeze(w.data);const{segmentGroup:T,slicedSegments:V}=NS(t,v,m,l);if(0===V.length&&T.hasChildren())return this.processChildren(f,l,T,D).pipe(me(ee=>new xr(D,ee)));if(0===l.length&&0===V.length)return ge(new xr(D,[]));const F=Rr(r)===i;return this.processSegment(f,l,T,V,F?Oe:i,!0,D).pipe(me(ee=>new xr(D,ee instanceof xr?[ee]:[])))})):mc(t)))}getChildConfig(n,t,r){return t.children?ge({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?ge({routes:t._loadedRoutes,injector:t._loadedInjector}):function DH(e,n,t,r){const o=n.canLoad;return void 0===o||0===o.length?ge(!0):ge(o.map(s=>{const a=pc(s,e);return Ni(function sH(e){return e&&yl(e.canLoad)}(a)?a.canLoad(n,t):yr(e,()=>a(n,t)))})).pipe(gc(),TS())}(n,t,r).pipe(bn(o=>o?this.configLoader.loadChildren(n,t).pipe(It(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):function wH(){return Qo(ES(!1,qn.GuardRejected))}())):ge({routes:[],injector:n})}}function LH(e){const n=e.value.routeConfig;return n&&""===n.path}function RS(e){const n=[],t=new Set;for(const r of e){if(!LH(r)){n.push(r);continue}const o=n.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):n.push(r)}for(const r of t){const o=RS(r.children);n.push(new xr(r.value,o))}return n.filter(r=>!t.has(r))}function xS(e){return e.data||{}}function OS(e){return e.resolve||{}}function kS(e){const n=e.children.map(t=>kS(t)).flat();return[e,...n]}function sv(e){return co(n=>{const t=e(n);return t?en(t).pipe(me(()=>n)):ge(n)})}let PS=(()=>{class e{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===Oe);return r}getResolvedTitleForRoute(t){return t.data[sl]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ie({token:e,factory:()=>$(HH),providedIn:"root"})}return e})(),HH=(()=>{class e extends PS{title;constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(fe(XU))};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const av=new Y("",{providedIn:"root",factory:()=>({})});let FS=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Ga({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){1&r&&or(0,"router-outlet")},dependencies:[CS],encapsulation:2})}return e})();function cv(e){const n=e.children&&e.children.map(cv),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==Oe&&(t.component=FS),t}const uv=new Y("");let LS=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=$(Kj);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ge(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ni(t.loadComponent()).pipe(me(VS),It(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),Lf(()=>{this.componentLoaders.delete(t)})),o=new zM(r,()=>new nn).pipe(jy());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ge({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=function GH(e,n,t,r){return Ni(e.loadChildren()).pipe(me(VS),bn(o=>o instanceof Nw||Array.isArray(o)?ge(o):en(n.compileModuleAsync(o))),me(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,!0):(i=o.create(t).injector,s=i.get(uv,[],{optional:!0,self:!0}).flat()),{routes:s.map(cv),injector:i}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Lf(()=>{this.childrenLoaders.delete(r)})),s=new zM(i,()=>new nn).pipe(jy());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function VS(e){return function qH(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let lv=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=ie({token:e,factory:()=>$(zH),providedIn:"root"})}return e})(),zH=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const WH=new Y(""),ZH=new Y("");let QH=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new nn;transitionAbortSubject=new nn;configLoader=$(LS);environmentInjector=$(Tn);destroyRef=$(Vo);urlSerializer=$(jf);rootContexts=$(hl);location=$(tl);inputBindingEnabled=null!==$(tv,{optional:!0});titleStrategy=$(PS);options=$(av,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=$(lv);createViewTransition=$(WH,{optional:!0});navigationErrorHandler=$(ZH,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>ge(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=o=>this.events.next(new P$(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new k$(o)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...t,extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r})}setupNavigations(t){return this.transitions=new Gt(null),this.transitions.pipe(Ti(r=>null!==r),co(r=>{let o=!1,i=!1;return ge(r).pipe(co(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",qn.SupersededByNewNavigation),Nr;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:"string"==typeof s.extras.browserUrl?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!a&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const l="";return this.events.next(new dl(s.id,this.urlSerializer.serialize(s.rawUrl),l,Wy.IgnoredSameUrlNavigation)),s.resolve(!1),Nr}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return ge(s).pipe(co(l=>(this.events.next(new zy(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Nr:Promise.resolve(l))),function VH(e,n,t,r,o,i){return bn(s=>function OH(e,n,t,r,o,i,s="emptyOnly"){return new PH(e,n,t,r,o,s,i).recognize()}(e,n,t,r,s.extractedUrl,o,i).pipe(me(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),It(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects};const f=new gS(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){const{id:l,extractedUrl:f,source:p,restoredState:v,extras:m}=s,D=new zy(l,this.urlSerializer.serialize(f),p,v);this.events.next(D);const w=vS(this.rootComponentType).snapshot;return this.currentTransition=r={...s,targetSnapshot:w,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=f,ge(r)}{const l="";return this.events.next(new dl(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Wy.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Nr}}),It(s=>{const a=new N$(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),me(s=>(this.currentTransition=r={...s,guards:tH(s.targetSnapshot,s.currentSnapshot,this.rootContexts)},r)),function fH(e,n){return bn(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return 0===s.length&&0===i.length?ge({...t,guardsResult:!0}):function hH(e,n,t,r){return en(e).pipe(bn(o=>function _H(e,n,t,r,o){const i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return i&&0!==i.length?ge(i.map(a=>{const c=fl(n)??o,l=pc(a,c);return Ni(function uH(e){return e&&yl(e.canDeactivate)}(l)?l.canDeactivate(e,n,t,r):yr(c,()=>l(e,n,t,r))).pipe(Ss())})).pipe(gc()):ge(!0)}(o.component,o.route,t,n,r)),Ss(o=>!0!==o,!0))}(s,r,o,e).pipe(bn(a=>a&&function iH(e){return"boolean"==typeof e}(a)?function pH(e,n,t,r){return en(n).pipe(ol(o=>Vy(function mH(e,n){return null!==e&&n&&n(new F$(e)),ge(!0)}(o.route.parent,r),function gH(e,n){return null!==e&&n&&n(new V$(e)),ge(!0)}(o.route,r),function vH(e,n,t){const r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(s=>function nH(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(s)).filter(s=>null!==s).map(s=>qM(()=>ge(s.guards.map(c=>{const l=fl(s.node)??t,f=pc(c,l);return Ni(function cH(e){return e&&yl(e.canActivateChild)}(f)?f.canActivateChild(r,e):yr(l,()=>f(r,e))).pipe(Ss())})).pipe(gc())));return ge(i).pipe(gc())}(e,o.path,t),function yH(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return ge(!0);const o=r.map(i=>qM(()=>{const s=fl(n)??t,a=pc(i,s);return Ni(function aH(e){return e&&yl(e.canActivate)}(a)?a.canActivate(n,e):yr(s,()=>a(n,e))).pipe(Ss())}));return ge(o).pipe(gc())}(e,o.route,t))),Ss(o=>!0!==o,!0))}(r,i,e,n):ge(a)),me(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),It(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&"boolean"!=typeof s.guardsResult)throw Zf(0,s.guardsResult);const a=new R$(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ti(s=>!!s.guardsResult||(this.cancelNavigationTransition(s,"",qn.GuardRejected),!1)),sv(s=>{if(0!==s.guards.canActivateChecks.length)return ge(s).pipe(It(a=>{const c=new x$(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),co(a=>{let c=!1;return ge(a).pipe(function jH(e,n){return bn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return ge(t);const i=new Set(o.map(c=>c.route)),s=new Set;for(const c of i)if(!s.has(c))for(const l of kS(c))s.add(l);let a=0;return en(s).pipe(ol(c=>i.has(c)?function BH(e,n,t,r){const o=e.routeConfig,i=e._resolve;return void 0!==o?.title&&!bS(o)&&(i[sl]=o.title),function UH(e,n,t,r){const o=Uy(e);if(0===o.length)return ge({});const i={};return en(o).pipe(bn(s=>function $H(e,n,t,r){const o=fl(n)??r,i=pc(e,o);return Ni(i.resolve?i.resolve(n,t):yr(o,()=>i(n,t)))}(e[s],n,t,r).pipe(Ss(),It(a=>{if(a instanceof nv)throw Zf(new Bf,a);i[s]=a}))),By(1),me(()=>i),kn(s=>SS(s)?Nr:Qo(s)))}(i,e,n,r).pipe(me(s=>(e._resolvedData=s,e.data=Kf(e,e.parent,t).resolve,null)))}(c,r,e,n):(c.data=Kf(c,c.parent,e).resolve,ge(void 0))),It(()=>a++),By(1),bn(c=>a===s.size?ge(t):Nr))})}(this.paramsInheritanceStrategy,this.environmentInjector),It({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",qn.NoDataFromResolver)}}))}),It(a=>{const c=new O$(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),sv(s=>{const a=c=>{const l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(It(f=>{c.component=f}),me(()=>{})));for(const f of c.children)l.push(...a(f));return l};return HM(a(s.targetSnapshot.root)).pipe(Ff(null),lc(1))}),sv(()=>this.afterPreactivation()),co(()=>{const{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?en(c).pipe(me(()=>r)):ge(r)}),me(s=>{const a=function Y$(e,n,t){const r=pl(e,n._root,t?t._root:void 0);return new yS(r,n)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r={...s,targetRouterState:a},this.currentNavigation.targetRouterState=a,r}),It(()=>{this.events.next(new Yy)}),((e,n,t,r)=>me(o=>(new eH(n,o.targetRouterState,o.currentRouterState,t,r).activate(e),o)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),lc(1),It({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Rs(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),function QU(e){return Tt((n,t)=>{ao(e).subscribe(dt(t,()=>t.complete(),Do)),!t.closed&&n.subscribe(t)})}(this.transitionAbortSubject.pipe(It(s=>{throw s}))),Lf(()=>{!o&&!i&&this.cancelNavigationTransition(r,"",qn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),kn(s=>{if(this.destroyed)return r.resolve(!1),Nr;if(i=!0,IS(s))this.events.next(new xs(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),function X$(e){return IS(e)&&Ns(e.url)}(s)?this.events.next(new Wf(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{const a=new Ky(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{const c=yr(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(!(c instanceof nv))throw this.events.next(a),s;{const{message:l,cancellationCode:f}=Zf(0,c);this.events.next(new xs(r.id,this.urlSerializer.serialize(r.extractedUrl),l,f)),this.events.next(new Wf(c.redirectTo,c.navigationBehaviorOptions))}}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Nr}))}))}cancelNavigationTransition(t,r,o){const i=new xs(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function XH(e){return e!==zf}let JH=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=ie({token:e,factory:()=>$(t3),providedIn:"root"})}return e})();class e3{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let t3=(()=>{class e extends e3{static \u0275fac=(()=>{let t;return function(o){return(t||(t=Kt(e)))(o||e)}})();static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),jS=(()=>{class e{urlSerializer=$(jf);options=$(av,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=$(tl);urlHandlingStrategy=$(lv);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ts;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:o}){const i=void 0!==t?this.urlHandlingStrategy.merge(t,r):r,s=o??i;return s instanceof Ts?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:o}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=t):this.rawUrlTree=o}routerState=vS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ie({token:e,factory:()=>$(n3),providedIn:"root"})}return e})(),n3=(()=>{class e extends jS{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{"popstate"===r.type&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof zy?this.updateStateMemento():t instanceof dl?this.commitTransition(r):t instanceof gS?"eager"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Yy?(this.commitTransition(r),"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof xs&&(t.code===qn.GuardRejected||t.code===qn.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ky?this.restoreHistory(r,!0):t instanceof Rs&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:o}){const{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||i){const a=this.browserPageId,c={...s,...this.generateNgRouterState(o,a)};this.location.replaceState(t,"",c)}else{const a={...s,...this.generateNgRouterState(o,this.browserPageId+1)};this.location.go(t,"",a)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-this.browserPageId;0!==i?this.location.historyGo(i):this.getCurrentUrlTree()===t.finalUrl&&0===i&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Kt(e)))(o||e)}})();static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const o3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},i3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yc=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=$(Rm);stateManager=$(jS);options=$(av,{optional:!0})||{};pendingTasks=$(pi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=$(QH);urlSerializer=$(jf);location=$(tl);urlHandlingStrategy=$(lv);_events=new nn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=$(JH);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=$(uv,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!$(tv,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Lt;subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(null!==o&&null!==i)if(this.stateManager.handleRouterEvent(r,i),r instanceof xs&&r.code!==qn.Redirect&&r.code!==qn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Rs)this.navigated=!0;else if(r instanceof Wf){const s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c={browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||"eager"===this.urlUpdateStrategy||XH(o.source),...s};this.scheduleNavigation(a,zf,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function a3(e){return!(e instanceof Yy||e instanceof Wf)})(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),zf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,o)=>{this.navigateToSyncWithBrowser(t,o,r)})}navigateToSyncWithBrowser(t,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const c={...o};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(i.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(cv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s;let p,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f={...this.currentUrlTree.queryParams,...i};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=i||null}null!==f&&(f=this.removeEmptyProps(f));try{p=cS(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||"/"!==t[0][0])&&(t=[]),p=this.currentUrlTree.root}return uS(p,t,f,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Ns(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,zf,null,r)}navigate(t,r={skipLocationChange:!1}){return function s3(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new U(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let o;if(o=!0===r?{...o3}:!1===r?{...i3}:r,Ns(t))return JM(this.currentUrlTree,t,o);const i=this.parseUrl(t);return JM(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.entries(t).reduce((r,[o,i])=>(null!=i&&(r[o]=i),r),{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((p,v)=>{a=p,c=v});const f=this.pendingTasks.add();return function r3(e,n){e.events.pipe(Ti(t=>t instanceof Rs||t instanceof xs||t instanceof Ky||t instanceof dl),me(t=>t instanceof Rs||t instanceof dl?0:t instanceof xs&&(t.code===qn.Redirect||t.code===qn.SupersededByNewNavigation)?2:1),Ti(t=>2!==t),lc(1)).subscribe(()=>{n()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const fv=new Y("");function US(e){return e.routerState.root}function $S(){const e=$(Yt);return n=>{const t=e.get(Gn);if(n!==t.components[0])return;const r=e.get(yc),o=e.get(HS);1===e.get(hv)&&r.initialNavigation(),e.get(GS,null,Ae.Optional)?.setUpPreloading(),e.get(fv,null,Ae.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const HS=new Y("",{factory:()=>new nn}),hv=new Y("",{providedIn:"root",factory:()=>1}),GS=new Y("");class eh{}class th{}class zn{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),i=t.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof zn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new zn;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof zn?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,t);const o=("a"===n.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const i=n.value;if(i){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}addHeaderEntry(n,t){const r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(n,t){const r=(Array.isArray(t)?t:[t]).map(i=>i.toString()),o=n.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class m3{encodeKey(n){return zS(n)}encodeValue(n){return zS(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const v3=/%(\d[a-f0-9])/gi,_3={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zS(e){return encodeURIComponent(e).replace(v3,(n,t)=>_3[t]??n)}function nh(e){return`${e}`}class Ri{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new m3,n.fromString){if(n.fromObject)throw new U(2805,!1);this.map=function y3(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,i)),n.decodeValue(o.slice(i+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const r=n.fromObject[t],o=Array.isArray(r)?r.map(nh):[nh(r)];this.map.set(t,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(r=>{const o=n[r];Array.isArray(o)?o.forEach(i=>{t.push({param:r,value:i,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new Ri({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(nh(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const o=r.indexOf(nh(n.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class D3{map=new Map;set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function WS(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function KS(e){return typeof Blob<"u"&&e instanceof Blob}function YS(e){return typeof FormData<"u"&&e instanceof FormData}const vl="Content-Type",rh="Accept",pv="X-Request-URL",ZS="text/plain",QS="application/json",XS=`${QS}, ${ZS}, */*`;class _l{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(n,t,r,o){let i;if(this.url=t,this.method=n.toUpperCase(),function b3(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers??=new zn,this.context??=new D3,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Ri,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||WS(this.body)||KS(this.body)||YS(this.body)||function C3(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Ri?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||YS(this.body)?null:KS(this.body)?this.body.type||null:WS(this.body)?null:"string"==typeof this.body?ZS:this.body instanceof Ri?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?QS:null}clone(n={}){const t=n.method||this.method,r=n.url||this.url,o=n.responseType||this.responseType,i=n.transferCache??this.transferCache,s=void 0!==n.body?n.body:this.body,a=n.withCredentials??this.withCredentials,c=n.reportProgress??this.reportProgress;let l=n.headers||this.headers,f=n.params||this.params;const p=n.context??this.context;return void 0!==n.setHeaders&&(l=Object.keys(n.setHeaders).reduce((v,m)=>v.set(m,n.setHeaders[m]),l)),n.setParams&&(f=Object.keys(n.setParams).reduce((v,m)=>v.set(m,n.setParams[m]),f)),new _l(t,r,s,{params:f,headers:l,context:p,reportProgress:c,responseType:o,withCredentials:a,transferCache:i})}}var xi=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(xi||{});class gv{headers;status;statusText;url;ok;type;constructor(n,t=200,r="OK"){this.headers=n.headers||new zn,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class oh extends gv{constructor(n={}){super(n)}type=xi.ResponseHeader;clone(n={}){return new oh({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Dl extends gv{body;constructor(n={}){super(n),this.body=void 0!==n.body?n.body:null}type=xi.Response;clone(n={}){return new Dl({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class vc extends gv{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function mv(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let ih=(()=>{class e{handler;constructor(t){this.handler=t}request(t,r,o={}){let i;if(t instanceof _l)i=t;else{let c,l;c=o.headers instanceof zn?o.headers:new zn(o.headers),o.params&&(l=o.params instanceof Ri?o.params:new Ri({fromObject:o.params})),i=new _l(t,r,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}const s=ge(i).pipe(ol(c=>this.handler.handle(c)));if(t instanceof _l||"events"===o.observe)return s;const a=s.pipe(Ti(c=>c instanceof Dl));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(me(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new U(2806,!1);return c.body}));case"blob":return a.pipe(me(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new U(2807,!1);return c.body}));case"text":return a.pipe(me(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new U(2808,!1);return c.body}));default:return a.pipe(me(c=>c.body))}case"response":return a;default:throw new U(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ri).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,mv(o,r))}post(t,r,o={}){return this.request("POST",t,mv(o,r))}put(t,r,o={}){return this.request("PUT",t,mv(o,r))}static \u0275fac=function(r){return new(r||e)(fe(eh))};static \u0275prov=ie({token:e,factory:e.\u0275fac})}return e})();const I3=/^\)\]\}',?\n/;function eT(e){if(e.url)return e.url;const n=pv.toLocaleLowerCase();return e.headers.get(n)}const tT=new Y("");let yv=(()=>{class e{fetchImpl=$(M3,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t));ngZone=$(qe);handle(t){return new _t(r=>{const o=new AbortController;return this.doRequest(t,o.signal,r).then(vv,i=>r.error(new vc({error:i}))),()=>o.abort()})}doRequest(t,r,o){var i=this;return we(function*(){const s=i.createRequestInit(t);let a;try{const D=i.ngZone.runOutsideAngular(()=>i.fetchImpl(t.urlWithParams,{signal:r,...s}));(function S3(e){e.then(vv,vv)})(D),o.next({type:xi.Sent}),a=yield D}catch(D){return void o.error(new vc({error:D,status:D.status??0,statusText:D.statusText,url:t.urlWithParams,headers:D.headers}))}const c=new zn(a.headers),l=a.statusText,f=eT(a)??t.urlWithParams;let p=a.status,v=null;if(t.reportProgress&&o.next(new oh({headers:c,status:p,statusText:l,url:f})),a.body){const D=a.headers.get("content-length"),w=[],T=a.body.getReader();let F,ee,V=0;const Se=typeof Zone<"u"&&Zone.current;yield i.ngZone.runOutsideAngular(we(function*(){for(;;){const{done:tn,value:En}=yield T.read();if(tn)break;if(w.push(En),V+=En.length,t.reportProgress){ee="text"===t.responseType?(ee??"")+(F??=new TextDecoder).decode(En,{stream:!0}):void 0;const Fs=()=>o.next({type:xi.DownloadProgress,total:D?+D:void 0,loaded:V,partialText:ee});Se?Se.run(Fs):Fs()}}}));const Ne=i.concatChunks(w,V);try{const tn=a.headers.get(vl)??"";v=i.parseBody(t,Ne,tn)}catch(tn){return void o.error(new vc({error:tn,headers:new zn(a.headers),status:a.status,statusText:a.statusText,url:eT(a)??t.urlWithParams}))}}0===p&&(p=v?200:0),p>=200&&p<300?(o.next(new Dl({body:v,headers:c,status:p,statusText:l,url:f})),o.complete()):o.error(new vc({error:v,headers:c,status:p,statusText:l,url:f}))})()}parseBody(t,r,o){switch(t.responseType){case"json":const i=(new TextDecoder).decode(r).replace(I3,"");return""===i?null:JSON.parse(i);case"text":return(new TextDecoder).decode(r);case"blob":return new Blob([r],{type:o});case"arraybuffer":return r.buffer}}createRequestInit(t){const r={},o=t.withCredentials?"include":void 0;if(t.headers.forEach((i,s)=>r[i]=s.join(",")),t.headers.has(rh)||(r[rh]=XS),!t.headers.has(vl)){const i=t.detectContentTypeHeader();null!==i&&(r[vl]=i)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:o}}concatChunks(t,r){const o=new Uint8Array(r);let i=0;for(const s of t)o.set(s,i),i+=s.length;return o}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac})}return e})();class M3{}function vv(){}function nT(e,n){return n(e)}const bl=new Y(""),R3=new Y(""),rT=new Y("",{providedIn:"root",factory:()=>!0});let oT=(()=>{class e extends eh{backend;injector;chain=null;pendingTasks=$(pi);contributeToStability=$(rT);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(bl),...this.injector.get(R3,[])]));this.chain=r.reduceRight((o,i)=>function A3(e,n,t){return(r,o)=>yr(t,()=>n(r,i=>e(i,o)))}(o,i,this.injector),nT)}if(this.contributeToStability){const r=this.pendingTasks.add();return this.chain(t,o=>this.backend.handle(o)).pipe(Lf(()=>this.pendingTasks.remove(r)))}return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(fe(th),fe(Tn))};static \u0275prov=ie({token:e,factory:e.\u0275fac})}return e})();const F3=/^\)\]\}',?\n/,L3=RegExp(`^${pv}:`,"m");let sT=(()=>{class e{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new U(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?en(r.\u0275loadImpl()):ge(null)).pipe(co(()=>new _t(i=>{const s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((w,T)=>s.setRequestHeader(w,T.join(","))),t.headers.has(rh)||s.setRequestHeader(rh,XS),!t.headers.has(vl)){const w=t.detectContentTypeHeader();null!==w&&s.setRequestHeader(vl,w)}if(t.responseType){const w=t.responseType.toLowerCase();s.responseType="json"!==w?w:"text"}const a=t.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const w=s.statusText||"OK",T=new zn(s.getAllResponseHeaders()),V=function V3(e){return"responseURL"in e&&e.responseURL?e.responseURL:L3.test(e.getAllResponseHeaders())?e.getResponseHeader(pv):null}(s)||t.url;return c=new oh({headers:T,status:s.status,statusText:w,url:V}),c},f=()=>{let{headers:w,status:T,statusText:V,url:F}=l(),ee=null;204!==T&&(ee=typeof s.response>"u"?s.responseText:s.response),0===T&&(T=ee?200:0);let Se=T>=200&&T<300;if("json"===t.responseType&&"string"==typeof ee){const Ne=ee;ee=ee.replace(F3,"");try{ee=""!==ee?JSON.parse(ee):null}catch(tn){ee=Ne,Se&&(Se=!1,ee={error:tn,text:ee})}}Se?(i.next(new Dl({body:ee,headers:w,status:T,statusText:V,url:F||void 0})),i.complete()):i.error(new vc({error:ee,headers:w,status:T,statusText:V,url:F||void 0}))},p=w=>{const{url:T}=l(),V=new vc({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:T||void 0});i.error(V)};let v=!1;const m=w=>{v||(i.next(l()),v=!0);let T={type:xi.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(T.total=w.total),"text"===t.responseType&&s.responseText&&(T.partialText=s.responseText),i.next(T)},D=w=>{let T={type:xi.UploadProgress,loaded:w.loaded};w.lengthComputable&&(T.total=w.total),i.next(T)};return s.addEventListener("load",f),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",m),null!==a&&s.upload&&s.upload.addEventListener("progress",D)),s.send(a),i.next({type:xi.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",f),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",m),null!==a&&s.upload&&s.upload.removeEventListener("progress",D)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(fe(uM))};static \u0275prov=ie({token:e,factory:e.\u0275fac})}return e})();const _v=new Y(""),aT=new Y("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),cT=new Y("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class uT{}let U3=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=sM(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||e)(fe(Ar),fe(aT))};static \u0275prov=ie({token:e,factory:e.\u0275fac})}return e})();function $3(e,n){const t=e.url.toLowerCase();if(!$(_v)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const r=$(uT).getToken(),o=$(cT);return null!=r&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),n(e)}var Oi=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Oi||{});var sh=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(sh||{}),Cn=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Cn||{}),nt=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(nt||{}),Wn=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Wn||{});function ah(e,n){return ar(_n(e)[rt.DateFormat],n)}function ch(e,n){return ar(_n(e)[rt.TimeFormat],n)}function uh(e,n){return ar(_n(e)[rt.DateTimeFormat],n)}function sr(e,n){const t=_n(e),r=t[rt.NumberSymbols][n];if(typeof r>"u"){if(12===n)return t[rt.NumberSymbols][0];if(13===n)return t[rt.NumberSymbols][1]}return r}function fT(e){if(!e[rt.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[rt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ar(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function bv(e){const[n,t]=e.split(":");return{hours:+n,minutes:+t}}const o8=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,lh={},i8=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function s8(e,n,t,r){let o=function g8(e){if(gT(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[o,i=1,s=1]=e.split("-").map(a=>+a);return dh(o,i-1,s)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let r;if(r=e.match(o8))return function m8(e){const n=new Date(0);let t=0,r=0;const o=e[8]?n.setUTCFullYear:n.setFullYear,i=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),r=Number(e[9]+e[11])),o.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-t,a=Number(e[5]||0)-r,c=Number(e[6]||0),l=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return i.call(n,s,a,c,l),n}(r)}const n=new Date(e);if(!gT(n))throw new Error(`Unable to convert "${e}" into a date`);return n}(e);n=Xo(t,n)||n;let a,s=[];for(;n;){if(a=i8.exec(n),!a){s.push(n);break}{s=s.concat(a.slice(1));const f=s.pop();if(!f)break;n=f}}let c=o.getTimezoneOffset();r&&(c=pT(r,c),o=function p8(e,n){const o=e.getTimezoneOffset();return function h8(e,n){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+n),e}(e,-1*(pT(n,o)-o))}(o,r));let l="";return s.forEach(f=>{const p=function f8(e){if(wv[e])return wv[e];let n;switch(e){case"G":case"GG":case"GGG":n=ot(3,nt.Abbreviated);break;case"GGGG":n=ot(3,nt.Wide);break;case"GGGGG":n=ot(3,nt.Narrow);break;case"y":n=kt(0,1,0,!1,!0);break;case"yy":n=kt(0,2,0,!0,!0);break;case"yyy":n=kt(0,3,0,!1,!0);break;case"yyyy":n=kt(0,4,0,!1,!0);break;case"Y":n=gh(1);break;case"YY":n=gh(2,!0);break;case"YYY":n=gh(3);break;case"YYYY":n=gh(4);break;case"M":case"L":n=kt(1,1,1);break;case"MM":case"LL":n=kt(1,2,1);break;case"MMM":n=ot(2,nt.Abbreviated);break;case"MMMM":n=ot(2,nt.Wide);break;case"MMMMM":n=ot(2,nt.Narrow);break;case"LLL":n=ot(2,nt.Abbreviated,Cn.Standalone);break;case"LLLL":n=ot(2,nt.Wide,Cn.Standalone);break;case"LLLLL":n=ot(2,nt.Narrow,Cn.Standalone);break;case"w":n=Cv(1);break;case"ww":n=Cv(2);break;case"W":n=Cv(1,!0);break;case"d":n=kt(2,1);break;case"dd":n=kt(2,2);break;case"c":case"cc":n=kt(7,1);break;case"ccc":n=ot(1,nt.Abbreviated,Cn.Standalone);break;case"cccc":n=ot(1,nt.Wide,Cn.Standalone);break;case"ccccc":n=ot(1,nt.Narrow,Cn.Standalone);break;case"cccccc":n=ot(1,nt.Short,Cn.Standalone);break;case"E":case"EE":case"EEE":n=ot(1,nt.Abbreviated);break;case"EEEE":n=ot(1,nt.Wide);break;case"EEEEE":n=ot(1,nt.Narrow);break;case"EEEEEE":n=ot(1,nt.Short);break;case"a":case"aa":case"aaa":n=ot(0,nt.Abbreviated);break;case"aaaa":n=ot(0,nt.Wide);break;case"aaaaa":n=ot(0,nt.Narrow);break;case"b":case"bb":case"bbb":n=ot(0,nt.Abbreviated,Cn.Standalone,!0);break;case"bbbb":n=ot(0,nt.Wide,Cn.Standalone,!0);break;case"bbbbb":n=ot(0,nt.Narrow,Cn.Standalone,!0);break;case"B":case"BB":case"BBB":n=ot(0,nt.Abbreviated,Cn.Format,!0);break;case"BBBB":n=ot(0,nt.Wide,Cn.Format,!0);break;case"BBBBB":n=ot(0,nt.Narrow,Cn.Format,!0);break;case"h":n=kt(3,1,-12);break;case"hh":n=kt(3,2,-12);break;case"H":n=kt(3,1);break;case"HH":n=kt(3,2);break;case"m":n=kt(4,1);break;case"mm":n=kt(4,2);break;case"s":n=kt(5,1);break;case"ss":n=kt(5,2);break;case"S":n=kt(6,1);break;case"SS":n=kt(6,2);break;case"SSS":n=kt(6,3);break;case"Z":case"ZZ":case"ZZZ":n=hh(0);break;case"ZZZZZ":n=hh(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=hh(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=hh(2);break;default:return null}return wv[e]=n,n}(f);l+=p?p(o,t,c):"''"===f?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function dh(e,n,t){const r=new Date(0);return r.setFullYear(e,n,t),r.setHours(0,0,0),r}function Xo(e,n){const t=function z3(e){return _n(e)[rt.LocaleId]}(e);if(lh[t]??={},lh[t][n])return lh[t][n];let r="";switch(n){case"shortDate":r=ah(e,Wn.Short);break;case"mediumDate":r=ah(e,Wn.Medium);break;case"longDate":r=ah(e,Wn.Long);break;case"fullDate":r=ah(e,Wn.Full);break;case"shortTime":r=ch(e,Wn.Short);break;case"mediumTime":r=ch(e,Wn.Medium);break;case"longTime":r=ch(e,Wn.Long);break;case"fullTime":r=ch(e,Wn.Full);break;case"short":const o=Xo(e,"shortTime"),i=Xo(e,"shortDate");r=fh(uh(e,Wn.Short),[o,i]);break;case"medium":const s=Xo(e,"mediumTime"),a=Xo(e,"mediumDate");r=fh(uh(e,Wn.Medium),[s,a]);break;case"long":const c=Xo(e,"longTime"),l=Xo(e,"longDate");r=fh(uh(e,Wn.Long),[c,l]);break;case"full":const f=Xo(e,"fullTime"),p=Xo(e,"fullDate");r=fh(uh(e,Wn.Full),[f,p])}return r&&(lh[t][n]=r),r}function fh(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,r){return null!=n&&r in n?n[r]:t})),e}function Or(e,n,t="-",r,o){let i="";(e<0||o&&e<=0)&&(o?e=1-e:(e=-e,i=t));let s=String(e);for(;s.length<n;)s="0"+s;return r&&(s=s.slice(s.length-n)),i+s}function kt(e,n,t=0,r=!1,o=!1){return function(i,s){let a=function c8(e,n){switch(e){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,i);if((t>0||a>-t)&&(a+=t),3===e)0===a&&-12===t&&(a=12);else if(6===e)return function a8(e,n){return Or(e,3).substring(0,n)}(a,n);const c=sr(s,5);return Or(a,n,c,r,o)}}function ot(e,n,t=Cn.Format,r=!1){return function(o,i){return function u8(e,n,t,r,o,i){switch(t){case 2:return function Y3(e,n,t){const r=_n(e),i=ar([r[rt.MonthsFormat],r[rt.MonthsStandalone]],n);return ar(i,t)}(n,o,r)[e.getMonth()];case 1:return function K3(e,n,t){const r=_n(e),i=ar([r[rt.DaysFormat],r[rt.DaysStandalone]],n);return ar(i,t)}(n,o,r)[e.getDay()];case 0:const s=e.getHours(),a=e.getMinutes();if(i){const l=function J3(e){const n=_n(e);return fT(n),(n[rt.ExtraData][2]||[]).map(r=>"string"==typeof r?bv(r):[bv(r[0]),bv(r[1])])}(n),f=function e8(e,n,t){const r=_n(e);fT(r);const i=ar([r[rt.ExtraData][0],r[rt.ExtraData][1]],n)||[];return ar(i,t)||[]}(n,o,r),p=l.findIndex(v=>{if(Array.isArray(v)){const[m,D]=v,w=s>=m.hours&&a>=m.minutes,T=s<D.hours||s===D.hours&&a<D.minutes;if(m.hours<D.hours){if(w&&T)return!0}else if(w||T)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(-1!==p)return f[p]}return function W3(e,n,t){const r=_n(e),i=ar([r[rt.DayPeriodsFormat],r[rt.DayPeriodsStandalone]],n);return ar(i,t)}(n,o,r)[s<12?0:1];case 3:return function Z3(e,n){return ar(_n(e)[rt.Eras],n)}(n,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(o,i,e,n,t,r)}}function hh(e){return function(n,t,r){const o=-1*r,i=sr(t,5),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(e){case 0:return(o>=0?"+":"")+Or(s,2,i)+Or(Math.abs(o%60),2,i);case 1:return"GMT"+(o>=0?"+":"")+Or(s,1,i);case 2:return"GMT"+(o>=0?"+":"")+Or(s,2,i)+":"+Or(Math.abs(o%60),2,i);case 3:return 0===r?"Z":(o>=0?"+":"")+Or(s,2,i)+":"+Or(Math.abs(o%60),2,i);default:throw new Error(`Unknown zone width "${e}"`)}}}const l8=0,ph=4;function hT(e){const n=e.getDay(),t=0===n?-3:ph-n;return dh(e.getFullYear(),e.getMonth(),e.getDate()+t)}function Cv(e,n=!1){return function(t,r){let o;if(n){const i=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();o=1+Math.floor((s+i)/7)}else{const i=hT(t),s=function d8(e){const n=dh(e,l8,1).getDay();return dh(e,0,1+(n<=ph?ph:ph+7)-n)}(i.getFullYear()),a=i.getTime()-s.getTime();o=1+Math.round(a/6048e5)}return Or(o,e,sr(r,5))}}function gh(e,n=!1){return function(t,r){return Or(hT(t).getFullYear(),e,sr(r,5),n)}}const wv={};function pT(e,n){e=e.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function gT(e){return e instanceof Date&&!isNaN(e.valueOf())}const y8=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Sv(e){const n=parseInt(e);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+e);return n}const Av=/\s+/,_T=[];let DT=(()=>{class e{_ngEl;_renderer;initialClasses=_T;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=null!=t?t.trim().split(Av):_T}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Av):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const o=this.stateMap.get(t);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],o=t[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Av).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(r){return new(r||e)(W($n),W(qo))};static \u0275dir=Ce({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();class A8{$implicit;ngForOf;index;count;constructor(n,t,r,o){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Nv=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new A8(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),CT(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{CT(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(W(Er),W(Go),W(Dy))};static \u0275dir=Ce({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function CT(e,n){e.context.$implicit=n.item}let yh=(()=>{class e{_viewContainer;_context=new N8;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){wT(t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){wT(t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(W(Er),W(Go))};static \u0275dir=Ce({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})();class N8{$implicit=null;ngIf=null}function wT(e,n){if(e&&!e.createEmbeddedView)throw new U(2020,!1)}function kr(e,n){return new U(2100,!1)}class O8{createSubscription(n,t){return xt(()=>n.subscribe({next:t,error:r=>{throw r}}))}dispose(n){xt(()=>n.unsubscribe())}}class k8{createSubscription(n,t){return n.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(n){n.unsubscribe()}}const P8=new k8,F8=new O8;let IT=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Vu(t))return P8;if(tE(t))return F8;throw kr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||e)(W(cc,16))};static \u0275pipe=xn({name:"async",type:e,pure:!1})}return e})();const $8=new Y(""),H8=new Y("");let Ov=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(t,r,o){this.locale=t,this.defaultTimezone=r,this.defaultOptions=o}transform(t,r,o,i){if(null==t||""===t||t!=t)return null;try{return s8(t,r??this.defaultOptions?.dateFormat??"mediumDate",i||this.locale,o??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw kr()}}static \u0275fac=function(r){return new(r||e)(W(Ei,16),W($8,24),W(H8,24))};static \u0275pipe=xn({name:"date",type:e,pure:!0})}return e})(),ST=(()=>{class e{_locale;constructor(t){this._locale=t}transform(t,r,o){if(!function kv(e){return!(null==e||""===e||e!=e)}(t))return null;o||=this._locale;try{return function w8(e,n,t){return function Iv(e,n,t,r,o,i,s=!1){let a="",c=!1;if(isFinite(e)){let l=function I8(e){let r,o,i,s,a,n=Math.abs(e)+"",t=0;for((o=n.indexOf("."))>-1&&(n=n.replace(".","")),(i=n.search(/e/i))>0?(o<0&&(o=i),o+=+n.slice(i+1),n=n.substring(0,i)):o<0&&(o=n.length),i=0;"0"===n.charAt(i);i++);if(i===(a=n.length))r=[0],o=1;else{for(a--;"0"===n.charAt(a);)a--;for(o-=i,r=[],s=0;i<=a;i++,s++)r[s]=Number(n.charAt(i))}return o>22&&(r=r.splice(0,21),t=o-1,o=1),{digits:r,exponent:t,integerLen:o}}(e);s&&(l=function E8(e){if(0===e.digits[0])return e;const n=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===n?e.digits.push(0,0):1===n&&e.digits.push(0),e.integerLen+=2),e}(l));let f=n.minInt,p=n.minFrac,v=n.maxFrac;if(i){const F=i.match(y8);if(null===F)throw new Error(`${i} is not a valid digit info`);const ee=F[1],Se=F[3],Ne=F[5];null!=ee&&(f=Sv(ee)),null!=Se&&(p=Sv(Se)),null!=Ne?v=Sv(Ne):null!=Se&&p>v&&(v=p)}!function M8(e,n,t){if(n>t)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${t}).`);let r=e.digits,o=r.length-e.integerLen;const i=Math.min(Math.max(n,o),t);let s=i+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{o=Math.max(0,o),e.integerLen=1,r.length=Math.max(1,s=i+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;o<Math.max(0,i);o++)r.push(0);let c=0!==i;const l=n+e.integerLen,f=r.reduceRight(function(p,v,m,D){return D[m]=(v+=p)<10?v:v-10,c&&(0===D[m]&&m>=l?D.pop():c=!1),v>=10?1:0},0);f&&(r.unshift(f),e.integerLen++)}(l,p,v);let m=l.digits,D=l.integerLen;const w=l.exponent;let T=[];for(c=m.every(F=>!F);D<f;D++)m.unshift(0);for(;D<0;D++)m.unshift(0);D>0?T=m.splice(D,m.length):(T=m,m=[0]);const V=[];for(m.length>=n.lgSize&&V.unshift(m.splice(-n.lgSize,m.length).join(""));m.length>n.gSize;)V.unshift(m.splice(-n.gSize,m.length).join(""));m.length&&V.unshift(m.join("")),a=V.join(sr(t,r)),T.length&&(a+=sr(t,o)+T.join("")),w&&(a+=sr(t,6)+"+"+w)}else a=sr(t,9);return a=e<0&&!c?n.negPre+a+n.negSuf:n.posPre+a+n.posSuf,a}(e,function Mv(e,n="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),o=r[0],i=r[1],s=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf("#"));for(let f=0;f<c.length;f++){const p=c.charAt(f);"0"===p?t.minFrac=t.maxFrac=f+1:"#"===p?t.maxFrac=f+1:t.posSuf+=p}const l=a.split(",");if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,i){const f=o.length-t.posPre.length-t.posSuf.length,p=i.indexOf("#");t.negPre=i.substring(0,p).replace(/'/g,""),t.negSuf=i.slice(p+f).replace(/'/g,"")}else t.negPre=n+t.posPre,t.negSuf=t.posSuf;return t}(function Dv(e,n){return _n(e)[rt.NumberFormats][n]}(n,sh.Decimal),sr(n,5)),n,1,0,t)}(function Pv(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}(t),o,r)}catch(i){throw kr()}}static \u0275fac=function(r){return new(r||e)(W(Ei,16))};static \u0275pipe=xn({name:"number",type:e,pure:!0})}return e})();let Fv=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=ku({type:e});static \u0275inj=Io({})}return e})(),TT=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||e)(W(qo),W($n))};static \u0275dir=Ce({type:e})}return e})(),ks=(()=>{class e extends TT{static \u0275fac=(()=>{let t;return function(o){return(t||(t=Kt(e)))(o||e)}})();static \u0275dir=Ce({type:e,features:[Ye]})}return e})();const ho=new Y(""),e4={provide:ho,useExisting:Qe(()=>vh),multi:!0},n4=new Y("");let vh=(()=>{class e extends TT{_compositionMode;_composing=!1;constructor(t,r,o){super(t,r),this._compositionMode=o,null==this._compositionMode&&(this._compositionMode=!function t4(){const e=Mi()?Mi().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||e)(W(qo),W($n),W(n4,8))};static \u0275dir=Ce({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&mt("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[ut([e4]),Ye]})}return e})();const sn=new Y(""),ki=new Y("");function VT(e){return null!=e}function jT(e){return Vu(e)?en(e):e}function BT(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function UT(e,n){return n.map(t=>t(e))}function $T(e){return e.map(n=>function o4(e){return!e.validate}(n)?n:t=>n.validate(t))}function jv(e){return null!=e?function HT(e){if(!e)return null;const n=e.filter(VT);return 0==n.length?null:function(t){return BT(UT(t,n))}}($T(e)):null}function Bv(e){return null!=e?function GT(e){if(!e)return null;const n=e.filter(VT);return 0==n.length?null:function(t){return function X8(...e){const n=jM(e),{args:t,keys:r}=BM(e),o=new _t(i=>{const{length:s}=t;if(!s)return void i.complete();const a=new Array(s);let c=s,l=s;for(let f=0;f<s;f++){let p=!1;ao(t[f]).subscribe(dt(i,v=>{p||(p=!0,l--),a[f]=v},()=>c--,void 0,()=>{(!c||!p)&&(l||i.next(r?$M(r,a):a),i.complete())}))}});return n?o.pipe(UM(n)):o}(UT(t,n).map(jT)).pipe(me(BT))}}($T(e)):null}function qT(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function Uv(e){return e?Array.isArray(e)?e:[e]:[]}function Dh(e,n){return Array.isArray(e)?e.includes(n):e===n}function KT(e,n){const t=Uv(n);return Uv(e).forEach(o=>{Dh(t,o)||t.push(o)}),t}function YT(e,n){return Uv(n).filter(t=>!Dh(e,t))}class ZT{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=jv(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Bv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class wn extends ZT{name;get formDirective(){return null}get path(){return null}}class Pi extends ZT{_parent=null;name=null;valueAccessor=null}class QT{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let XT=(()=>{class e extends QT{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(W(Pi,2))};static \u0275dir=Ce({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&oc("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Ye]})}return e})();const wl="VALID",Ch="INVALID",Dc="PENDING",El="DISABLED";class bc{}class eA extends bc{value;source;constructor(n,t){super(),this.value=n,this.source=t}}class Gv extends bc{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}}class qv extends bc{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}}class wh extends bc{status;source;constructor(n,t){super(),this.status=n,this.source=t}}function Eh(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Kv{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return xt(this.statusReactive)}set status(n){xt(()=>this.statusReactive.set(n))}_status=Yo(()=>this.statusReactive());statusReactive=eo(void 0);get valid(){return this.status===wl}get invalid(){return this.status===Ch}get pending(){return this.status==Dc}get disabled(){return this.status===El}get enabled(){return this.status!==El}errors;get pristine(){return xt(this.pristineReactive)}set pristine(n){xt(()=>this.pristineReactive.set(n))}_pristine=Yo(()=>this.pristineReactive());pristineReactive=eo(!0);get dirty(){return!this.pristine}get touched(){return xt(this.touchedReactive)}set touched(n){xt(()=>this.touchedReactive.set(n))}_touched=Yo(()=>this.touchedReactive());touchedReactive=eo(!1);get untouched(){return!this.touched}_events=new nn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(KT(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(KT(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(YT(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(YT(n,this._rawAsyncValidators))}hasValidator(n){return Dh(this._rawValidators,n)}hasAsyncValidator(n){return Dh(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){const t=!1===this.touched;this.touched=!0;const r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched({...n,sourceControl:r}),t&&!1!==n.emitEvent&&this._events.next(new qv(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){const t=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=n.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&!1!==n.emitEvent&&this._events.next(new qv(!1,r))}markAsDirty(n={}){const t=!0===this.pristine;this.pristine=!1;const r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty({...n,sourceControl:r}),t&&!1!==n.emitEvent&&this._events.next(new Gv(!1,r))}markAsPristine(n={}){const t=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=n.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&!1!==n.emitEvent&&this._events.next(new Gv(!0,r))}markAsPending(n={}){this.status=Dc;const t=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new wh(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending({...n,sourceControl:t})}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=El,this.errors=null,this._forEachChild(o=>{o.disable({...n,onlySelf:!0})}),this._updateValue();const r=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new eA(this.value,r)),this._events.next(new wh(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t},this),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=wl,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wl||this.status===Dc)&&this._runAsyncValidator(r,n.emitEvent)}const t=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new eA(this.value,t)),this._events.next(new wh(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity({...n,sourceControl:t})}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?El:wl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=Dc,this._hasOwnPendingAsyncValidator={emitEvent:!1!==t};const r=jT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent,this,t.shouldHaveEmitted)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new wh(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new Rt,this.statusChanges=new Rt}_calculateStatus(){return this._allControlsDisabled()?El:this.errors?Ch:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dc)?Dc:this._anyControlsHaveStatus(Ch)?Ch:wl}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){const r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),o&&this._events.next(new Gv(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new qv(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Eh(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function f4(e){return Array.isArray(e)?jv(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function h4(e){return Array.isArray(e)?Bv(e):e||null}(this._rawAsyncValidators)}}const Cc=new Y("",{providedIn:"root",factory:()=>Ih}),Ih="always";function Il(e,n,t=Ih){(function Zv(e,n){const t=function zT(e){return e._rawValidators}(e);null!==n.validator?e.setValidators(qT(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=function WT(e){return e._rawAsyncValidators}(e);null!==n.asyncValidator?e.setAsyncValidators(qT(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const o=()=>e.updateValueAndValidity();Th(n._rawValidators,o),Th(n._rawAsyncValidators,o)})(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function m4(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&iA(e,n)})}(e,n),function v4(e,n){const t=(r,o)=>{n.valueAccessor.writeValue(r),o&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function y4(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&iA(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function g4(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function Th(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function iA(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function cA(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function uA(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}Promise.resolve();const lA=class extends Kv{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,r){super(function zv(e){return(Eh(e)?e.validators:e)||null}(t),function Wv(e,n){return(Eh(n)?n.asyncValidators:e)||null}(r,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Eh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=uA(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){cA(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){cA(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){uA(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},T4={provide:Pi,useExisting:Qe(()=>e_)},dA=Promise.resolve();let e_=(()=>{class e extends Pi{_changeDetectorRef;callSetDisabledState;control=new lA;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Rt;constructor(t,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Jv(e,n){if(!n)return null;let t,r,o;return Array.isArray(n),n.forEach(i=>{i.constructor===vh?t=i:function b4(e){return Object.getPrototypeOf(e.constructor)===ks}(i)?r=i:o=i}),o||r||t||null}(0,i)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Xv(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Il(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){dA.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&function uc(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(r);dA.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Mh(e,n){return[...n.path,e]}(t,this._parent):[t]}static \u0275fac=function(r){return new(r||e)(W(wn,9),W(sn,10),W(ki,10),W(ho,10),W(cc,8),W(Cc,8))};static \u0275dir=Ce({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ut([T4]),Ye,Dr]})}return e})();const j4={provide:ho,useExisting:Qe(()=>Ph),multi:!0};function _A(e,n){return null==e?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let Ph=(()=>{class e extends ks{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;const o=_A(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function B4(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Kt(e)))(o||e)}})();static \u0275dir=Ce({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){1&r&&mt("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ut([j4]),Ye]})}return e})(),DA=(()=>{class e{_element;_renderer;_select;id;constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(_A(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(W($n),W(qo),W(Ph,9))};static \u0275dir=Ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();const U4={provide:ho,useExisting:Qe(()=>t_),multi:!0};function bA(e,n){return null==e?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let t_=(()=>{class e extends ks{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(i=>this._getOptionId(i));r=(i,s)=>{i._setSelected(o.indexOf(s.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[],i=r.selectedOptions;if(void 0!==i){const s=i;for(let a=0;a<s.length;a++){const l=this._getOptionValue(s[a].value);o.push(l)}}else{const s=r.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const l=this._getOptionValue(c.value);o.push(l)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function $4(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Kt(e)))(o||e)}})();static \u0275dir=Ce({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){1&r&&mt("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ut([U4]),Ye]})}return e})(),CA=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(bA(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(bA(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(W($n),W(qo),W(t_,9))};static \u0275dir=Ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),Q4=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=ku({type:e});static \u0275inj=Io({})}return e})(),J4=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Cc,useValue:t.callSetDisabledState??Ih}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=ku({type:e});static \u0275inj=Io({imports:[Q4]})}return e})();function Pr(e,n){const t="object"==typeof n;return new Promise((r,o)=>{const i=new fr({next:s=>{r(s),i.unsubscribe()},error:o,complete:()=>{t?r(n.defaultValue):o(new rl)}});e.subscribe(i)})}function eG(e,n){if(1&e&&(G(0,"div",12)(1,"span",13),J(2),H(),G(3,"span",14),J(4),H()()),2&e){const t=n.$implicit;Q(2),yt(t.name),Q(2),Jt("",t.kills," kills")}}function tG(e,n){if(1&e&&(G(0,"div",4)(1,"h3"),J(2,"Weapon Stats"),H(),G(3,"div",10),tt(4,eG,5,2,"div",11),H()()),2&e){const t=Le(2);Q(4),De("ngForOf",t.getWeaponStats())}}function nG(e,n){if(1&e&&(G(0,"div",20)(1,"span",21),J(2),H(),G(3,"span",22),J(4),H()()),2&e){const t=n.$implicit;Q(2),yt(t.destinyUserInfo.displayName),Q(2),sc(" ",t.stats.kills,"/",t.stats.deaths,"/",t.stats.assists," ")}}function rG(e,n){if(1&e&&(G(0,"div",17)(1,"h4"),J(2),H(),G(3,"p"),J(4),H(),G(5,"div",18),tt(6,nG,5,4,"div",19),H()()),2&e){const t=n.$implicit;Q(2),Jt("Team ",t.teamId,""),Q(2),Jt("Score: ",t.score,""),Q(2),De("ngForOf",t.players)}}function oG(e,n){if(1&e&&(G(0,"div",4)(1,"h3"),J(2,"Team Stats"),H(),G(3,"div",15),tt(4,rG,7,3,"div",16),H()()),2&e){const t=Le(2);Q(4),De("ngForOf",t.pgcr.teams)}}function iG(e,n){if(1&e&&(G(0,"div",1)(1,"div",2)(2,"h2"),J(3),H(),G(4,"p",3),J(5),ir(6,"date"),H()(),G(7,"div",4)(8,"h3"),J(9,"Basic Stats"),H(),G(10,"div",5)(11,"div",6)(12,"span",7),J(13,"K/D/A"),H(),G(14,"span",8),J(15),H()(),G(16,"div",6)(17,"span",7),J(18,"K/D Ratio"),H(),G(19,"span",8),J(20),H()(),G(21,"div",6)(22,"span",7),J(23,"Score"),H(),G(24,"span",8),J(25),H()(),G(26,"div",6)(27,"span",7),J(28,"Time Played"),H(),G(29,"span",8),J(30),H()()()(),tt(31,tG,5,1,"div",9)(32,oG,5,1,"div",9),H()),2&e){const t=Le();Q(3),yt(t.getActivityName()),Q(2),yt(Tr(6,10,t.pgcr.period,"medium")),Q(10),sc(" ",(null==t.pgcr.values||null==t.pgcr.values.kills||null==t.pgcr.values.kills.basic?null:t.pgcr.values.kills.basic.displayValue)||"0"," / ",(null==t.pgcr.values||null==t.pgcr.values.deaths||null==t.pgcr.values.deaths.basic?null:t.pgcr.values.deaths.basic.displayValue)||"0"," / ",(null==t.pgcr.values||null==t.pgcr.values.assists||null==t.pgcr.values.assists.basic?null:t.pgcr.values.assists.basic.displayValue)||"0"," "),Q(5),yt((null==t.pgcr.values||null==t.pgcr.values.killsDeathsRatio||null==t.pgcr.values.killsDeathsRatio.basic?null:t.pgcr.values.killsDeathsRatio.basic.displayValue)||"0.00"),Q(5),yt((null==t.pgcr.values||null==t.pgcr.values.score||null==t.pgcr.values.score.basic?null:t.pgcr.values.score.basic.displayValue)||"0"),Q(5),yt((null==t.pgcr.values||null==t.pgcr.values.timePlayedSeconds||null==t.pgcr.values.timePlayedSeconds.basic?null:t.pgcr.values.timePlayedSeconds.basic.displayValue)||"0:00"),Q(),De("ngIf",null==t.pgcr.values?null:t.pgcr.values.weaponKills),Q(),De("ngIf",t.pgcr.teams)}}let sG=(()=>{class e{pgcr;getActivityName(){return"Activity Name"}getWeaponStats(){return this.pgcr.values?.weaponKills?Object.entries(this.pgcr.values.weaponKills).map(([t,r])=>({name:`Weapon ${t}`,kills:r.basic.value})).sort((t,r)=>r.kills-t.kills):[]}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Ga({type:e,selectors:[["app-pgcr-details"]],inputs:{pgcr:"pgcr"},decls:1,vars:1,consts:[["class","pgcr-details",4,"ngIf"],[1,"pgcr-details"],[1,"pgcr-header"],[1,"timestamp"],[1,"stats-section"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"],["class","stats-section",4,"ngIf"],[1,"weapon-stats"],["class","weapon-stat",4,"ngFor","ngForOf"],[1,"weapon-stat"],[1,"weapon-name"],[1,"weapon-kills"],[1,"team-stats"],["class","team",4,"ngFor","ngForOf"],[1,"team"],[1,"team-players"],["class","player",4,"ngFor","ngForOf"],[1,"player"],[1,"player-name"],[1,"player-stats"]],template:function(r,o){1&r&&tt(0,iG,33,13,"div",0),2&r&&De("ngIf",o.pgcr)},dependencies:[Fv,Nv,yh,Ov],styles:[".pgcr-details[_ngcontent-%COMP%]{background:#23263a;border-radius:8px;padding:20px;color:#fff}.pgcr-header[_ngcontent-%COMP%]{margin-bottom:20px;border-bottom:1px solid #35395a;padding-bottom:10px}.timestamp[_ngcontent-%COMP%]{color:#b3b8d1;font-size:.9em}.stats-section[_ngcontent-%COMP%]{margin-bottom:20px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-top:10px}.stat-item[_ngcontent-%COMP%]{background:#2a2d42;padding:10px;border-radius:4px}.stat-label[_ngcontent-%COMP%]{display:block;color:#b3b8d1;font-size:.9em;margin-bottom:5px}.stat-value[_ngcontent-%COMP%]{font-size:1.2em;font-weight:500}.weapon-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:10px;margin-top:10px}.weapon-stat[_ngcontent-%COMP%]{background:#2a2d42;padding:10px;border-radius:4px;display:flex;justify-content:space-between;align-items:center}.team-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-top:10px}.team[_ngcontent-%COMP%]{background:#2a2d42;padding:15px;border-radius:4px}.team[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;color:#b3b8d1}.team-players[_ngcontent-%COMP%]{margin-top:10px}.player[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:5px 0;border-bottom:1px solid #35395a}.player[_ngcontent-%COMP%]:last-child{border-bottom:none}.player-name[_ngcontent-%COMP%]{color:#fff}.player-stats[_ngcontent-%COMP%]{color:#b3b8d1}"]})}return e})();const r_={2:"Story",3:"Patrol",6:"Patrol",4:"Raid",8:"Raid",9:"Raid",16:"Raid",17:"Raid",31:"Raid",32:"Raid",54:"Raid",55:"Raid",56:"Raid",57:"Raid",58:"Raid",59:"Raid",60:"Raid",61:"Raid",62:"Raid",63:"Raid",64:"Raid",82:"Dungeon",83:"Dungeon",84:"Dungeon",85:"Dungeon",86:"Dungeon",87:"Dungeon",88:"Dungeon",89:"Dungeon",7:"Nightfall",46:"Nightfall",48:"Strike",49:"Strike",5:"Crucible",10:"Crucible",12:"Crucible",15:"Crucible",19:"Crucible",24:"Crucible",25:"Crucible",28:"Crucible",37:"Crucible",38:"Crucible",39:"Crucible",40:"Crucible",41:"Crucible",42:"Crucible",43:"Crucible",44:"Crucible",65:"Crucible",66:"Crucible",50:"Crucible",51:"Crucible",52:"Crucible",53:"Crucible",45:"Gambit",47:"Gambit",67:"Gambit",1:"Public Event",68:"Public Event",79:"Lost Sector",80:"Seasonal",81:"Seasonal",90:"Exotic Mission",91:"Exotic Mission",92:"Seasonal Event",93:"Seasonal Event"},o_=[{label:"All"},{label:"Story",d1Mode:2,d2Mode:2},{label:"Patrol",d1Mode:3,d2Mode:3},{label:"Public Event",d1Mode:1,d2Mode:1},{label:"Raid",d1Mode:4,d2Mode:4},{label:"Dungeon",d2Mode:82},{label:"Strike",d1Mode:48,d2Mode:49},{label:"Nightfall",d1Mode:7,d2Mode:46},{label:"Lost Sector",d2Mode:79},{label:"Exotic Mission",d2Mode:90},{label:"Seasonal",d2Mode:80},{label:"Seasonal Event",d2Mode:92},{label:"Crucible",d1Mode:5,d2Mode:5},{label:"Gambit",d2Mode:45},{label:"Other"}];function aG(e,n){if(1&e&&(G(0,"div",1)(1,"div",2),or(2,"div",3),H(),G(3,"div",4),J(4),H()()),2&e){const t=Le();Q(2),zm("width",t.progress.progress,"%"),Q(2),yt(t.progress.message)}}let cG=(()=>{class e{progress=null;static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Ga({type:e,selectors:[["app-loading-progress"]],inputs:{progress:"progress"},decls:1,vars:1,consts:[["class","loading-progress",4,"ngIf"],[1,"loading-progress"],[1,"progress-bar"],[1,"progress"],[1,"message"]],template:function(r,o){1&r&&tt(0,aG,5,3,"div",0),2&r&&De("ngIf",o.progress)},dependencies:[Fv,yh],styles:[".loading-progress[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;background:#000c;color:#fff;padding:1rem;z-index:1000}.progress-bar[_ngcontent-%COMP%]{height:4px;background:#333;border-radius:2px;overflow:hidden;margin-bottom:.5rem}.progress[_ngcontent-%COMP%]{height:100%;background:#4caf50;transition:width .3s ease}.message[_ngcontent-%COMP%]{font-size:.9rem;text-align:center}"]})}return e})();const uG_bungie_API_KEY="e55082388d014a79b9f5da4be0063d1c";let lG=(()=>{class e{http;API_KEY=uG_bungie_API_KEY;D1_BASE_URL="https://www.bungie.net/d1/Platform";D2_BASE_URL="https://www.bungie.net/Platform";constructor(t){this.http=t}getHeaders(){return new zn({"X-API-Key":this.API_KEY,"User-Agent":"DestinyChronicle/1.0",Origin:window.location.origin})}searchD1Player(t,r){console.log(`Searching D1 player: ${t} on platform: ${r}`);const o=`${this.D1_BASE_URL}/Destiny/SearchDestinyPlayer/${r}/${encodeURIComponent(t)}/`;return this.http.get(o,{headers:this.getHeaders()}).pipe(It(i=>console.log("D1 Search Response:",i)),me(i=>1===i.ErrorCode?i.Response.map(s=>({displayName:s.displayName,membershipType:s.membershipType,membershipId:s.membershipId})):[]),kn(i=>(console.error("Error in D1 search:",i),ge([]))))}searchD2Player(t){const r=`${this.D2_BASE_URL}/Destiny2/SearchDestinyPlayer/-1/${encodeURIComponent(t)}/`;return this.http.get(r,{headers:this.getHeaders()})}getLinkedProfiles(t,r){return this.http.get(`${this.D2_BASE_URL}/Destiny2/${t}/Profile/${r}/LinkedProfiles/`,{headers:this.getHeaders()}).pipe(me(o=>o.Response),kn(o=>(console.error("Error fetching linked profiles:",o),ge({}))))}getProfile(t,r){return this.http.get(`${this.D2_BASE_URL}/Destiny2/${t}/Profile/${r}/?components=100,200`,{headers:this.getHeaders()}).pipe(me(o=>o.Response),kn(o=>(console.error("Error fetching profile:",o),Qo(()=>o))))}getD1Profile(t,r){return this.http.get(`${this.D1_BASE_URL}/Destiny/${t}/Account/${r}/Summary/`,{headers:this.getHeaders()}).pipe(It(o=>console.log("D1 Profile Response:",o)),me(o=>o.Response),kn(o=>(console.error("Error fetching D1 profile:",o),Qo(()=>o))))}getActivityHistory(t,r,o,i,s=0){const c={count:250,page:s};return void 0!==i&&(c.mode=i),this.http.get(`${this.D2_BASE_URL}/Destiny2/${t}/Account/${r}/Character/${o}/Stats/Activities/`,{headers:this.getHeaders(),params:c}).pipe(It(l=>console.log("D2 Activity History Response:",l)),me(l=>l.Response),kn(l=>(console.error("Error fetching activity history:",l),Qo(()=>l))))}getD1ActivityHistory(t,r,o,i=0,s=0){const c={count:250,page:s,mode:i},l=`${this.D1_BASE_URL}/Destiny/Stats/ActivityHistory/${t}/${r}/${o}/`;return console.log("D1 ActivityHistory Request:",{url:l,params:c}),this.http.get(l,{headers:this.getHeaders(),params:c}).pipe(It(f=>{console.log("D1 ActivityHistory Raw Response:",f),f&&"ErrorCode"in f&&console.log("D1 ActivityHistory Error Details:",{errorCode:f.ErrorCode,errorStatus:f.ErrorStatus,message:f.Message,messageData:f.MessageData})}),me(f=>{if(console.log("D1 ActivityHistory Response before mapping:",f),1!==f.ErrorCode)throw new Error(`Bungie API Error: ${f.ErrorStatus} - ${f.Message}`);return f.Response}),kn(f=>(console.error("Error fetching D1 activity history:",{error:f,errorMessage:f.message,errorStatus:f.status,errorStatusText:f.statusText,errorUrl:f.url,errorHeaders:f.headers,errorBody:f.error}),Qo(()=>f))),It(f=>{console.log("D1 ActivityHistory Final Response:",f)}))}getPGCR(t){return this.http.get(`${this.D2_BASE_URL}/Destiny2/Stats/PostGameCarnageReport/${t}/`,{headers:this.getHeaders()}).pipe(It(r=>console.log("PGCR Response:",r)),me(r=>r.Response),kn(r=>(console.error("Error fetching PGCR:",r),Qo(()=>r))))}isD1Player(t){return!(1!==t.membershipType&&2!==t.membershipType||t.bungieGlobalDisplayName||t.isCrossSavePrimary)}searchDestinyPlayerByBungieName(t,r){const o=`${this.D2_BASE_URL}/Platform/Destiny2/SearchDestinyPlayerByBungieName/-1/`,i=new zn({"X-API-Key":this.API_KEY,"User-Agent":"DestinyChronicle/1.0"});return this.http.post(o,{displayName:t,displayNameCode:r},{headers:i})}getActivityCount(t,r,o){return this.http.get(`${this.D2_BASE_URL}/Destiny2/${t}/Account/${r}/Character/${o}/Stats/Activities/?count=1`,{headers:this.getHeaders()}).pipe(me(i=>i.Response?.totalResults??0),kn(i=>(console.error("Error fetching activity count:",i),ge(0))))}static \u0275fac=function(r){return new(r||e)(fe(ih))};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dG=(()=>{class e{http;activityDefs={};manifestLoaded=new Gt(!1);D1_ACTIVITY_JSON="assets/manifest/d1-activity-definitions.json";constructor(t){this.http=t,this.loadManifest()}loadManifest(){var t=this;return we(function*(){try{const r=yield Pr(t.http.get(t.D1_ACTIVITY_JSON));t.activityDefs=r,t.manifestLoaded.next(!0),console.log("D1 manifest (JSON) loaded successfully")}catch(r){console.error("Failed to load D1 manifest JSON:",r),t.manifestLoaded.next(!1)}})()}getActivityName(t){if(!this.activityDefs||!t)return"Unknown Activity";const r=this.activityDefs[t];return r?.activityName||r?.displayProperties?.name||"Unknown Activity"}getActivityIcon(t){if(!this.activityDefs||!t)return"";const r=this.activityDefs[t];return r?r.icon?"https://www.bungie.net"+r.icon:r.displayProperties?.icon?"https://www.bungie.net"+r.displayProperties.icon:"":""}isLoaded(){return this.manifestLoaded.asObservable()}static \u0275fac=function(r){return new(r||e)(fe(ih))};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),fG=(()=>{class e{http;d1Manifest;activityDefs={};manifestLoaded=new Gt(!1);constructor(t,r){this.http=t,this.d1Manifest=r,this.loadManifest()}loadManifest(){var t=this;return we(function*(){try{const o=(yield Pr(t.http.get("https://www.bungie.net/Platform/Destiny2/Manifest/"))).Response.jsonWorldComponentContentPaths.en.DestinyActivityDefinition;t.activityDefs=yield Pr(t.http.get("https://www.bungie.net"+o)),t.manifestLoaded.next(!0)}catch(r){console.error("Error loading D2 manifest:",r),t.manifestLoaded.next(!1)}})()}getActivityName(t,r=!1){if(r)return this.d1Manifest.getActivityName(t);if(!this.activityDefs)return"";const o=this.activityDefs[t];return o?o.displayProperties?.name:""}getActivityIcon(t,r=!1){if(r)return this.d1Manifest.getActivityIcon(t);if(!this.activityDefs)return"";const o=this.activityDefs[t];return o&&o.displayProperties?.icon?"https://www.bungie.net"+o.displayProperties.icon:""}isLoaded(){return this.manifestLoaded.asObservable()}static \u0275fac=function(r){return new(r||e)(fe(ih),fe(dG))};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hG=(()=>{class e{CACHE_KEY_PREFIX="destiny_activity_cache_";CACHE_EXPIRY=864e5;constructor(){}getCacheKey(t,r,o){return`${this.CACHE_KEY_PREFIX}${t}_${r}_${o}`}getCachedActivities(t,r,o){const i=this.getCacheKey(t,r,o),s=localStorage.getItem(i);if(!s)return null;const a=JSON.parse(s);return Date.now()-a.lastUpdated>this.CACHE_EXPIRY?(localStorage.removeItem(i),null):a.activities}cacheActivities(t,r,o,i){const s=this.getCacheKey(r,o,i),a={activities:t,lastUpdated:Date.now(),characterId:i,membershipType:r,membershipId:o};localStorage.setItem(s,JSON.stringify(a))}clearCache(t,r,o){const i=this.getCacheKey(t,r,o);localStorage.removeItem(i)}clearAllCache(){Object.keys(localStorage).filter(t=>t.startsWith(this.CACHE_KEY_PREFIX)).forEach(t=>localStorage.removeItem(t))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),pG=(()=>{class e{CACHE_KEY="destiny_pgcr_cache";MAX_CACHE_SIZE=50;CACHE_EXPIRY=6048e5;constructor(){}getCache(){const t=localStorage.getItem(this.CACHE_KEY);return t?JSON.parse(t):[]}saveCache(t){localStorage.setItem(this.CACHE_KEY,JSON.stringify(t))}cleanCache(){const t=this.getCache(),r=Date.now(),o=t.filter(i=>r-i.timestamp<this.CACHE_EXPIRY);o.length>this.MAX_CACHE_SIZE&&(o.sort((i,s)=>s.timestamp-i.timestamp),o.splice(this.MAX_CACHE_SIZE)),this.saveCache(o)}getPGCR(t){const r=this.getCache(),o=r.find(i=>i.activityId===t);return o?(o.timestamp=Date.now(),this.saveCache(r),o.data):null}cachePGCR(t,r,o=!1){const i=this.getCache(),s=i.findIndex(a=>a.activityId===t);-1!==s&&i.splice(s,1),i.push({activityId:t,timestamp:Date.now(),data:r,isFullData:o}),this.cleanCache()}cacheMinimalPGCR(t,r){this.cachePGCR(t,r,!1)}cacheFullPGCR(t,r){this.cachePGCR(t,r,!0)}clearCache(){localStorage.removeItem(this.CACHE_KEY)}getCacheStats(){const t=this.getCache(),r=t.filter(i=>i.isFullData).length,o=new Blob([JSON.stringify(t)]).size;return{total:t.length,fullData:r,size:o}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var i_=ve(505);const xA=Symbol.for("Dexie"),Fh=globalThis[xA]||(globalThis[xA]=i_);if(i_.semVer!==Fh.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${i_.semVer} and ${Fh.semVer}`);const gG=Fh;let mG=(()=>{class e extends gG{activities;constructor(){super("DestinyActivityDb");try{this.version(1).stores({activities:"++id, membershipId, characterId, period, [membershipId+characterId], [membershipId+characterId+period], [membershipId+characterId+mode]"}),this.activities=this.table("activities"),console.log("[Dexie] ActivityDbService initialized successfully"),this.activities.count().then(t=>{console.log(`[Dexie] Current activity count: ${t}`)}).catch(t=>{console.error("[Dexie] Error checking activity count:",t)})}catch(t){throw console.error("[Dexie] Error initializing ActivityDbService:",t),t}}addActivities(t){var r=this;return we(function*(){try{console.log(`[Dexie] Adding ${t.length} activities to database`);const o=t.reduce((s,a)=>{if(!a.period)return s;const c=new Date(a.period).getUTCFullYear();return s[c]||(s[c]=[]),s[c].push(a),s},{});console.log(`[Dexie] Adding activities for years: ${Object.keys(o).join(", ")}`),yield r.activities.bulkPut(t);const i=yield r.activities.count();console.log(`[Dexie] Total activities in database: ${i}`)}catch(o){throw console.error("[Dexie] Error adding activities:",o),o}})()}getActivitiesByDate(t,r,o,i,s){var a=this;return we(function*(){try{console.log(`[Dexie] Getting activities for ${t}/${r} on ${o+1}/${i}${s?`/${s}`:" (all years)"}`);const c=yield a.activities.where({membershipId:t,characterId:r}).toArray();console.log(`[Dexie] Found ${c.length} total activities before date filtering`);const l=c.reduce((D,w)=>{if(!w.period)return D;const T=new Date(w.period).getUTCFullYear();return D[T]||(D[T]=[]),D[T].push(w),D},{}),f=Object.keys(l).sort();console.log(`[Dexie] Activities available for years: ${f.join(", ")}`);const p=c.filter(D=>{if(!D.period)return!1;const w=new Date(D.period),T=w.getUTCMonth(),V=w.getUTCDate(),F=w.getUTCFullYear();console.log(`[Dexie] Checking activity date: ${w.toISOString()} (UTC: ${T+1}/${V}/${F})`),console.log(`[Dexie] Target date: ${o+1}/${i}${s?`/${s}`:" (any year)"}`);const ee=T===o&&V===i&&(!s||F===s);return ee&&console.log(`[Dexie] Found matching activity on ${w.toISOString()}`),ee}),v=p.reduce((D,w)=>{const T=new Date(w.period).getUTCFullYear();return D[T]||(D[T]=[]),D[T].push(w),D},{}),m=Object.keys(v).sort();return console.log(`[Dexie] Found matches in years: ${m.join(", ")}`),m.forEach(D=>{console.log(`[Dexie] Year ${D}: ${v[D].length} activities`);const w=new Set(v[D].map(T=>T.activityDetails.mode));console.log(`[Dexie] Activity types in ${D}: ${Array.from(w).join(", ")}`)}),p}catch(c){throw console.error("[Dexie] Error getting activities by date:",c),c}})()}getActivitiesByMode(t,r,o){var i=this;return we(function*(){try{console.log(`[Dexie] Getting activities for ${t}/${r} with mode ${o}`);const s=yield i.activities.where({membershipId:t,characterId:r}).filter(a=>a.activityDetails.mode===o).toArray();return console.log(`[Dexie] Found ${s.length} activities for mode`),s}catch(s){throw console.error("[Dexie] Error getting activities by mode:",s),s}})()}clearActivitiesForCharacter(t,r){var o=this;return we(function*(){try{console.log(`[Dexie] Clearing activities for ${t}/${r}`),yield o.activities.where({membershipId:t,characterId:r}).delete(),console.log("[Dexie] Activities cleared successfully")}catch(i){throw console.error("[Dexie] Error clearing activities:",i),i}})()}getAllActivitiesForCharacter(t,r){var o=this;return we(function*(){try{console.log(`[Dexie] Getting all activities for ${t}/${r}`);const i=yield o.activities.where({membershipId:t,characterId:r}).toArray(),s=i.reduce((c,l)=>{if(!l.period)return c;const f=new Date(l.period).getUTCFullYear();return c[f]||(c[f]=[]),c[f].push(l),c},{}),a=Object.keys(s).sort();return console.log(`[Dexie] Found activities for years: ${a.join(", ")}`),a.forEach(c=>{console.log(`[Dexie] Year ${c}: ${s[c].length} activities`)}),i}catch(i){throw console.error("[Dexie] Error getting all activities:",i),i}})()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ie({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const yG=()=>["Raid","Dungeon","Strike","PvP","Gambit","Other"];function vG(e,n){if(1&e){const t=wi();G(0,"div",50)(1,"span",51),J(2),H(),G(3,"span",52),J(4),H(),G(5,"span",53),J(6),H(),G(7,"button",54),mt("click",function(){const o=gn(t).index;return mn(Le(2).removePlayer(o))}),qc(),G(8,"svg",55),or(9,"path",56),H()()()}if(2&e){const t=n.$implicit;Q(2),yt(t.displayName),Q(),De("ngClass","D1"===t.game?"bg-destiny-d1":"bg-destiny-d2"),Q(),yt(t.game),Q(2),yt(t.platform)}}function _G(e,n){if(1&e&&(G(0,"div",48),tt(1,vG,10,4,"div",49),H()),2&e){const t=Le();Q(),De("ngForOf",t.selectedPlayers)}}function DG(e,n){if(1&e&&(G(0,"div",57),qc(),G(1,"svg",58),or(2,"path",59),H(),J(3),H()),2&e){const t=Le();Q(3),Jt(" ",t.errorMessage," ")}}function bG(e,n){if(1&e&&(G(0,"option",60),J(1),H()),2&e){const t=n.$implicit;De("value",t.value),Q(),Jt(" ",t.label," ")}}function CG(e,n){1&e&&(G(0,"span",61),qc(),G(1,"svg",62),or(2,"circle",63)(3,"path",64),H(),J(4," Adding... "),H())}function wG(e,n){1&e&&(G(0,"span"),J(1,"Add Profile"),H())}function EG(e,n){if(1&e&&(G(0,"option",60),J(1),H()),2&e){const t=n.$implicit;De("value",t),Q(),yt(t)}}function IG(e,n){1&e&&(G(0,"div",65)(1,"span"),J(2,"Loading account stats..."),H(),or(3,"div",66),H())}function MG(e,n){if(1&e&&(zo(0),J(1),ir(2,"number"),Wo()),2&e){const t=n.ngIf;Q(),ry(" ",t.count||0," activities, ",Tr(2,2,t.time/3600,"1.0-0"),"h ")}}function SG(e,n){1&e&&(zo(0),J(1," 0 activities, 0h "),Wo())}function TG(e,n){if(1&e&&(G(0,"div")(1,"strong"),J(2),H(),tt(3,MG,3,5,"ng-container",22)(4,SG,2,0,"ng-container",22),H()),2&e){const t=n.$implicit,r=Le(2);Q(2),Jt("",t,":"),Q(),De("ngIf",r.accountStats.perType[t]),Q(),De("ngIf",!r.accountStats.perType[t])}}function AG(e,n){if(1&e&&(G(0,"div")(1,"div")(2,"strong"),J(3,"Total Time in Destiny:"),H(),J(4),ir(5,"number"),ir(6,"number"),ir(7,"number"),H(),G(8,"div")(9,"strong"),J(10,"Total Time in Activities:"),H(),J(11),ir(12,"number"),ir(13,"number"),ir(14,"number"),H(),G(15,"div")(16,"strong"),J(17,"Total Activity Count:"),H(),J(18),H(),tt(19,TG,5,3,"div",67),H()),2&e){const t=Le();Q(4),sc(" ",Tr(5,8,t.accountStats.totalTime/60,"1.0-0"),"h = ",Tr(6,11,t.accountStats.totalTime/60/24,"1.0-0"),"d ",Tr(7,14,t.accountStats.totalTime%60,"1.0-0"),"m "),Q(7),sc(" ",Tr(12,17,t.accountStats.totalActivityTime/3600,"1.0-0"),"h = ",Tr(13,20,t.accountStats.totalActivityTime/3600/24,"1.0-0"),"d ",Tr(14,23,t.accountStats.totalActivityTime/60%60,"1.0-0"),"m "),Q(7),Jt(" ",t.accountStats.totalActivityCount," "),Q(),De("ngForOf",function W0(e,n,t){const r=yn()+e,o=j();return o[r]===Me?oo(o,r,t?n.call(t):n()):function Pu(e,n){return e[n]}(o,r)}(26,yG))}}function NG(e,n){if(1&e){const t=wi();G(0,"div",75)(1,"img",76,2),mt("error",function(){return gn(t),mn(Es(2).src="assets/icons/activity.svg")}),H(),G(3,"h4"),J(4),H()()}if(2&e){const t=Le().$implicit,r=Le(3);Q(),De("src",r.getActivityTypeIcon(t),Eg)("alt",t),Q(3),yt(t)}}function RG(e,n){if(1&e&&(zo(0),G(1,"span",91),J(2),H(),Wo()),2&e){const t=Le().$implicit,r=Le(7);Q(2),Jt(" Kills: ",r.getKills(t)," ")}}function xG(e,n){if(1&e&&(zo(0),G(1,"span",92),J(2),H(),Wo()),2&e){const t=Le().$implicit,r=Le(7);Q(2),Jt(" Deaths: ",r.getDeaths(t)," ")}}function OG(e,n){if(1&e&&(zo(0),G(1,"span",93),J(2),H(),Wo()),2&e){const t=Le().$implicit,r=Le(7);Q(2),Jt(" K/D: ",r.getKDRatio(t)," ")}}function kG(e,n){if(1&e&&(G(0,"div",86)(1,"div",87)(2,"span",88),J(3),H(),G(4,"span",89),J(5),ir(6,"date"),H()(),G(7,"div",90),tt(8,RG,3,1,"ng-container",22)(9,xG,3,1,"ng-container",22)(10,OG,3,1,"ng-container",22),H()()),2&e){const t=n.$implicit,r=Le(2).$implicit,o=Le(5);Q(3),yt(o.getActivityName(t,"D1"===r.game)),Q(2),yt(Tr(6,5,t.period,"MMM d, y, h:mm a")),Q(3),De("ngIf",void 0!==o.getKills(t)),Q(),De("ngIf",void 0!==o.getDeaths(t)),Q(),De("ngIf",o.getKDRatio(t))}}function PG(e,n){1&e&&(G(0,"div",94),J(1," No activities found for this type "),H())}function FG(e,n){if(1&e&&(zo(0),tt(1,kG,11,8,"div",84)(2,PG,2,0,"div",85),Wo()),2&e){const t=n.ngIf;Q(),De("ngForOf",t),Q(),De("ngIf",0===t.length)}}function LG(e,n){if(1&e&&(G(0,"div",79)(1,"div",80)(2,"span",81),J(3),H(),G(4,"span",82),J(5),H()(),G(6,"div",83),tt(7,FG,3,2,"ng-container",22),ir(8,"async"),H()()),2&e){const t=n.$implicit,r=Le(5);Q(2),oc("d1","D1"===t.game)("d2","D2"===t.game),Q(),Jt(" ",t.platform," "),Q(2),yt(t.player.displayName),Q(2),De("ngIf",J0(8,7,r.getFilteredActivities(t.activities,t.game)))}}function VG(e,n){if(1&e&&(G(0,"div",77),tt(1,LG,9,9,"div",78),H()),2&e){const t=Le().$implicit,r=Le().$implicit;Q(),De("ngForOf",r.types[t])}}function jG(e,n){if(1&e&&(G(0,"div",72),tt(1,NG,5,3,"div",73)(2,VG,2,1,"div",74),H()),2&e){const t=n.$implicit,r=Le().$implicit;Q(),De("ngIf",r.types[t].length>0),Q(),De("ngIf",r.types[t].length>0)}}function BG(e,n){if(1&e&&(G(0,"div",70)(1,"h3"),J(2),H(),tt(3,jG,3,2,"div",71),H()),2&e){const t=n.$implicit,r=Le(2);Q(2),yt(t.year),Q(),De("ngForOf",r.getObjectKeys(t.types))}}function UG(e,n){if(1&e&&(G(0,"div",68)(1,"h2"),J(2,"Activity History"),H(),tt(3,BG,4,2,"div",69),H()),2&e){const t=Le();Q(3),De("ngForOf",t.getGroupedActivitiesByYearAndType())}}function $G(e,n){if(1&e){const t=wi();G(0,"div",95),mt("click",function(){return gn(t),mn(Le().closePGCRModal())}),G(1,"div",96),mt("click",function(o){return gn(t),mn(o.stopPropagation())}),G(2,"button",97),mt("click",function(){return gn(t),mn(Le().closePGCRModal())}),qc(),G(3,"svg",98),or(4,"path",56),H()(),function B_(){!function DN(){be.lFrame.currentNamespace=null}()}(),or(5,"app-pgcr-details",99),H()()}if(2&e){const t=Le();Q(5),De("pgcr",t.selectedPGCR)}}function HG(e,n){if(1&e){const t=wi();G(0,"button",107),mt("click",function(){gn(t);const o=Le(2);return mn(o.selectPlatformPlayer(o.crossSavePlayer))}),G(1,"span",108),J(2,"Cross Save"),H(),J(3),H()}if(2&e){const t=Le(2);Q(3),Jt(" (",t.crossSavePlayer.platform,") ")}}function GG(e,n){if(1&e){const t=wi();G(0,"button",109),mt("click",function(){const o=gn(t).$implicit;return mn(Le(2).selectPlatformPlayer(o))}),G(1,"span",108),J(2),H(),J(3),H()}if(2&e){const t=n.$implicit;Q(2),yt(t.platform),Q(),Jt(" - ",t.displayName," ")}}function qG(e,n){if(1&e){const t=wi();G(0,"div",100)(1,"div",101)(2,"h3",102),J(3,"Select Platform"),H(),G(4,"div",103),tt(5,HG,4,1,"button",104)(6,GG,4,2,"button",105),H(),G(7,"button",106),mt("click",function(){return gn(t),mn(Le().showPlatformPicker=!1)}),J(8,"Cancel"),H()()()}if(2&e){const t=Le();Q(5),De("ngIf",t.crossSavePlayer),Q(),De("ngForOf",t.d2SearchResults)}}function zG(e,n){if(1&e&&(G(0,"div",110)(1,"span",111),J(2),H(),G(3,"span",111),J(4),H()()),2&e){const t=n.$implicit,r=Le();Q(2),yt(t),Q(2),yt(r.getActivityCount(t))}}function WG(e,n){if(1&e&&(G(0,"div",110)(1,"span",111),J(2),H(),G(3,"span",111),J(4),ir(5,"number"),H()()),2&e){const t=n.$implicit,r=Le();Q(2),yt(t),Q(2),Jt("",Tr(5,2,r.getActivityTime(t),"1.0-0"),"h")}}const OA={raid:"assets/icons/raid.svg",strike:"assets/icons/strike.svg",crucible:"assets/icons/crucible.svg",dungeon:"assets/icons/dungeon.svg",nightfall:"assets/icons/nightfall.svg",gambit:"assets/icons/gambit.svg",other:"assets/icons/activity.svg"};let kA=(()=>{class e{bungieService;manifest;cdr;activityCacheService;pgcrCacheService;activityDb;d1XboxSearchTerm="";d1PsnSearchTerm="";d2SearchTerm="";selectedMonth=(new Date).getMonth()+1;selectedDay=(new Date).getDate();selectedDate="";currentMonth=(new Date).getMonth()+1;currentDay=(new Date).getDate();selectedPlayers=[];selectedCharacterIds={};characters={};activities={};loading={};error={};selectedPGCR=null;showPGCRModal=!1;selectedActivityType=o_[0];searchUsername="";selectedPlatform="";selectedGame="D2";errorMessage="";platforms=[{label:"Xbox",value:"Xbox"},{label:"PlayStation",value:"PlayStation"},{label:"Steam",value:"Steam"},{label:"Cross Save",value:"Cross Save"}];activityTypeOptions=o_;d2SearchResults=[];showPlatformPicker=!1;crossSavePlayer=null;loadingActivities={};groupedActivitiesByAccount=[];processedActivities=[];loadingProgress=null;BATCH_SIZE=50;MAX_RETRIES=3;RETRY_DELAY=1e3;activityCache=new Map;CACHE_DURATION=3e5;filteredActivities$=new Gt([]);loadingAccountStats=!1;accountStats={totalTime:0,totalActivityTime:0,totalActivityCount:0,perType:{}};constructor(t,r,o,i,s,a){this.bungieService=t,this.manifest=r,this.cdr=o,this.activityCacheService=i,this.pgcrCacheService=s,this.activityDb=a}ngOnInit(){const t=new Date;this.currentMonth=t.getMonth()+1,this.currentDay=t.getDate(),this.onDateSelect(String(this.currentMonth),String(this.currentDay))}get hasD1Players(){return this.selectedPlayers.some(t=>this.isD1Player(t))}get hasD2Players(){return this.selectedPlayers.some(t=>!this.isD1Player(t))}getPlatforms(t){const r=new Set;return this.selectedPlayers.forEach(o=>{("D1"===t&&this.isD1Player(o)||"D2"===t&&!this.isD1Player(o))&&r.add(this.getPlatformName(o.membershipType))}),Array.from(r)}getPlayersByGameAndPlatform(t,r){return this.selectedPlayers.filter(o=>{const i="D1"===t&&this.isD1Player(o)||"D2"===t&&!this.isD1Player(o),s=this.getPlatformName(o.membershipType)===r;return i&&s})}searchD1Player(t,r){var o=this;return we(function*(){if(console.log("searchD1Player called",{searchTerm:t,membershipType:r}),!t)return;const i=`d1-${r}-${t}`;o.loading[i]=!0,o.error[i]="";try{const s=yield Pr(o.bungieService.searchD1Player(t,r));if(s&&s.length>0)for(const a of s)yield o.selectPlayer(a);else o.error[i]="No players found"}catch(s){console.error("Error searching D1 player:",s),o.error[i]=503===s.status?"Bungie API is temporarily unavailable. Please try again in a few minutes.":"Error searching for player"}finally{o.loading[i]=!1}})()}searchD2Player(t){var r=this;return we(function*(){if(console.log("searchD2Player called",{searchTerm:t}),!t)return;const o=`d2-${t}`;r.loading[o]=!0,r.error[o]="",r.d2SearchResults=[],r.showPlatformPicker=!1,r.crossSavePlayer=null;try{const i=yield Pr(r.bungieService.searchD2Player(t));if(console.log("D2 search response:",i),!(1===i?.ErrorCode&&i?.Response?.length>0))throw r.errorMessage="No Destiny 2 player found with that username.",new Error("No player found");{const s=i.Response.find(a=>a.crossSaveOverride&&a.crossSaveOverride>0);s&&(r.crossSavePlayer={...s,game:"D2",platform:r.getPlatformName(s.membershipType)},console.log("[DEBUG] Found crossSavePlayer:",r.crossSavePlayer)),r.d2SearchResults=i.Response.map(a=>({...a,game:"D2",platform:r.getPlatformName(a.membershipType)})),console.log("[DEBUG] d2SearchResults:",r.d2SearchResults),r.d2SearchResults.length>1||r.crossSavePlayer?(r.showPlatformPicker=!0,console.log("[DEBUG] showPlatformPicker set to true")):1===r.d2SearchResults.length&&(yield r.selectPlayer(r.d2SearchResults[0]))}}catch(i){throw console.error("Error searching D2 player:",i),r.errorMessage=503===i.status?"Bungie API is temporarily unavailable. Please try again in a few minutes.":"Error searching for Destiny 2 player.",i}finally{r.loading[o]=!1}})()}selectPlatformPlayer(t){this.showPlatformPicker=!1,console.log("[DEBUG] selectPlatformPlayer:",t),this.selectPlayer(t)}selectPlayer(t){var r=this;return we(function*(){if(r.selectedPlayers.some(i=>i.membershipId===t.membershipId))return;const o={...t,game:t.game||r.selectedGame,platform:r.getPlatformName(t.membershipType)};console.log("[DEBUG] selectPlayer:",o),r.selectedPlayers.push(o),r.selectedCharacterIds[t.membershipId]=void 0;try{yield r.loadCharacterHistory(o),r.selectedDate&&(console.log("[DEBUG] Date is selected, loading activities after player selection"),yield r.loadAllFilteredActivities()),yield r.calculateAccountStats()}catch(i){throw r.selectedPlayers=r.selectedPlayers.filter(s=>s.membershipId!==t.membershipId),delete r.selectedCharacterIds[t.membershipId],i}})()}loadCharacterHistory(t){var r=this;return we(function*(){console.log("loadCharacterHistory called",{player:t});const o=`characters-${t.membershipId}`;r.loading[o]=!0,r.error[o]="";try{if(r.isD1Player(t)){const s=yield Pr(r.bungieService.getD1Profile(t.membershipType,t.membershipId));if(console.log("Profile fetch result:",s),!s)throw new Error("No profile data received");r.characters[t.membershipId]=s.data?.characters||[];for(const a of r.characters[t.membershipId])yield r.loadActivityHistoryForCharacter({characterId:a.characterBase?.characterId,membershipType:t.membershipType,membershipId:t.membershipId,game:"D1"})}else{const s=yield Pr(r.bungieService.getProfile(t.membershipType,t.membershipId));if(console.log("Profile fetch result:",s),!s)throw new Error("No profile data received");const a=Object.values(s.characters?.data||{});r.characters[t.membershipId]=a;for(const c of a)yield r.loadActivityHistoryForCharacter({characterId:c.characterId,membershipType:t.membershipType,membershipId:t.membershipId,game:"D2"})}}catch(i){throw console.error("Error loading character history:",i),r.error[o]=503===i.status?"Bungie API is temporarily unavailable. Please try again in a few minutes.":"Error loading character history",i}finally{r.loading[o]=!1}})()}fetchActivitiesWithRetry(t,r){var o=this;return we(function*(i,s,a=o.MAX_RETRIES){let c=0;for(;c<a;)try{const l=yield Pr("D1"===i.game?o.bungieService.getD1ActivityHistory(i.membershipType,i.membershipId,i.characterId,0,s):o.bungieService.getActivityHistory(i.membershipType,i.membershipId,i.characterId,s));return"D1"===i.game?l?.data?.activities||[]:l?.activities||[]}catch(l){if(c++,console.log(`[DEBUG] Retry ${c}/${a} for page ${s}`),c===a)throw l;yield new Promise(f=>setTimeout(f,o.RETRY_DELAY*c))}return[]}).apply(this,arguments)}processActivityBatch(t,r){var o=this;return we(function*(){for(let i=0;i<t.length;i+=o.BATCH_SIZE){const a=t.slice(i,i+o.BATCH_SIZE).map(c=>({...c,membershipId:r.membershipId,characterId:r.characterId}));yield o.activityDb.addActivities(a),i%200==0&&o.cdr.detectChanges()}})()}loadActivityHistoryForCharacter(t){var r=this;return we(function*(){const o=`${t.membershipId}-${t.characterId}`;r.loadingActivities[o]=!0;try{console.log(`[DEBUG] Starting activity history fetch for character ${t.characterId}`);const i=yield Pr(r.bungieService.getActivityCount(t.membershipType,t.membershipId,t.characterId));console.log(`[DEBUG] Expected activity count for character ${t.characterId}: ${i}`);const s=yield r.activityDb.getAllActivitiesForCharacter(t.membershipId,t.characterId);console.log(`[DEBUG] Found ${s.length} activities in database for character ${t.characterId}`);const a=new Set(s.map(D=>new Date(D.period).getUTCFullYear()));console.log(`[DEBUG] Found activities from years in database: ${Array.from(a).sort().join(", ")}`);const c=new Date("2017-09-06T00:00:00Z"),f="D1"===t.game?new Date("2014-09-09T00:00:00Z"):c;let p=s.length>0?new Date(Math.min(...s.map(D=>new Date(D.period).getTime()))):null,v=[];if(!p||p.getTime()>f.getTime()||s.length<i){console.log("[DEBUG] Fetching activities from API");let D=0,w=!0,T=0,V=0;const F=3;let ee=new Set,Se=new Set;const Ne=yield r.fetchActivitiesWithRetry(t,0),En=Math.ceil(i/(Ne.length||50));for(v=v.concat(Ne),T+=Ne.length,r.updateLoadingProgress(t.characterId,0,En,T);w&&T<i;){D++;const Fs=Math.min(100,D/En*100);r.updateLoadingProgress(t.characterId,Fs,En,T),console.log(`[DEBUG] Fetching page ${D+1} (${T}/${i} activities)`);const Ls=yield r.fetchActivitiesWithRetry(t,D);if(Ls&&0!==Ls.length){V=0,T+=Ls.length,v=v.concat(Ls),yield r.processActivityBatch(Ls,t);for(const Lh of Ls){if(Lh.period){const s_=new Date(Lh.period),YG=s_.getUTCFullYear();ee.add(YG),(!p||s_<p)&&(p=s_)}Lh.activityDetails?.mode&&Se.add(Lh.activityDetails.mode)}if(p&&p.getTime()<f.getTime()){console.log(`[DEBUG] Reached ${t.game} release date (${f.toISOString()}), stopping pagination`),w=!1;break}}else if(V++,console.log(`[DEBUG] Empty page received. Consecutive empty pages: ${V}`),V>=F){console.log("[DEBUG] Too many consecutive empty pages, stopping pagination"),w=!1;break}}console.log(`[DEBUG] Finished fetching new activities. Total new: ${T}`),console.log(`[DEBUG] Expected count: ${i}, Actual count: ${T}`),T<i&&console.log(`[DEBUG] WARNING: Fetched fewer activities than expected (${T}/${i})`),console.log(`[DEBUG] All years found: ${Array.from(ee).sort().join(", ")}`),console.log(`[DEBUG] All activity types found: ${Array.from(Se).sort().join(", ")}`),p&&console.log(`[DEBUG] Final oldest activity date: ${p.toISOString()}`)}else console.log("[DEBUG] Using cached activities from database"),console.log(`[DEBUG] Database count: ${s.length}, Expected count: ${i}`),s.length<i&&console.log(`[DEBUG] WARNING: Database has fewer activities than expected (${s.length}/${i})`);const m=[...s,...v];console.log(`[DEBUG] Total activities (database + new): ${m.length}`),console.log(`[DEBUG] Expected count: ${i}, Actual total: ${m.length}`),m.length<i&&console.log(`[DEBUG] WARNING: Total activities less than expected (${m.length}/${i})`),r.processActivities(m,t)}catch(i){throw console.error("Error loading activity history:",i),i}finally{r.loadingActivities[o]=!1,r.loadingProgress=null,r.cdr.detectChanges()}})()}updateLoadingProgress(t,r,o,i){this.loadingProgress={characterId:t,progress:r,message:`Loading activities: ${r.toFixed(0)}% (${i} activities found)`},this.cdr.detectChanges()}processAndGroupActivities(){console.log("[DEBUG] Starting processAndGroupActivities");const t={},r=(new Date).getFullYear();Array.from({length:r-2014+1},(a,c)=>(2014+c).toString()).forEach(a=>{t[a]={},o_.forEach(c=>{t[a][c.label]=[]})});const s={};this.selectedPlayers.forEach(a=>{const c=this.isD1Player(a)?"D1":"D2",l=this.getPlatformName(a.membershipType),f=[];Object.keys(this.activities).filter(m=>m.startsWith(`activities-${a.membershipId}-`)).forEach(m=>{f.push(...this.activities[m]||[])}),console.log(`[DEBUG] Found ${f.length} total activities for player ${a.displayName}`);const p=f.filter((m,D,w)=>D===w.findIndex(T=>T.activityDetails?.instanceId===m.activityDetails?.instanceId));console.log(`[DEBUG] After removing duplicates: ${p.length} activities for player ${a.displayName}`),console.log("[DEBUG] Sample activities before date filtering:",p.slice(0,3).map(m=>({period:m.period,local:new Date(m.period).toLocaleString(),utc:new Date(m.period).toISOString(),month:new Date(m.period).getMonth()+1,day:new Date(m.period).getDate()})));const v=this.selectedDate?p.filter(m=>{const D=this.isActivityOnDate(m,new Date(this.selectedDate));return D&&console.log("[DEBUG] Found matching activity:",{period:m.period,local:new Date(m.period).toLocaleString(),utc:new Date(m.period).toISOString(),type:this.getActivityType(m.activityDetails?.mode||0)}),D}):p;console.log(`[DEBUG] After date filtering: ${v.length} activities for player ${a.displayName} on date ${this.selectedDate}`),v.length>0&&console.log("[DEBUG] Sample activities after date filtering:",v.slice(0,3).map(m=>({period:m.period,local:new Date(m.period).toLocaleString(),utc:new Date(m.period).toISOString(),month:new Date(m.period).getMonth()+1,day:new Date(m.period).getDate()}))),v.forEach(m=>{if(!m.period)return;const w=new Date(m.period).getFullYear().toString(),T=this.getActivityType(m.activityDetails?.mode||0);t[w]||(t[w]={}),t[w][T]||(t[w][T]=[]);const V=t[w][T].find(F=>F.player.membershipId===a.membershipId&&F.platform===l&&F.game===c);if(V)V.activities.some(F=>F.activityDetails?.instanceId===m.activityDetails?.instanceId)||V.activities.push(m);else{const F={game:c,platform:l,player:a,activities:[]};t[w][T].push(F),F.activities.push(m)}s[w]||(s[w]={}),s[w][T]||(s[w][T]=0),s[w][T]++}),Object.entries(s).forEach(([m,D])=>{Object.entries(D).forEach(([w,T])=>{T>0&&console.log(`[DEBUG] Found ${T} unique activities for ${w} in ${m}`)})})}),this.processedActivities=Object.entries(t).map(([a,c])=>({year:a,types:c})).sort((a,c)=>parseInt(c.year)-parseInt(a.year)),console.log("[DEBUG] Final activity counts by year:"),this.processedActivities.forEach(a=>{const c=Object.values(a.types).reduce((l,f)=>l+f.reduce((p,v)=>p+v.activities.length,0),0);console.log(`[DEBUG] Year ${a.year}: ${c} total activities`)})}getGroupedActivitiesByYearAndType(){const o=Array.from({length:12},(a,c)=>(2014+c).toString()),i={},s=Object.values(r_);return o.forEach(a=>{i[a]={},s.forEach(c=>{i[a][c]=[]}),i[a].Other=[]}),this.selectedPlayers.forEach(a=>{const c=this.isD1Player(a)?"D1":"D2",l=this.getPlatformName(a.membershipType),f=this.getPlayerActivities(a.membershipId),p=this.selectedDate?f.filter(m=>this.isActivityOnDate(m,new Date(this.selectedDate))):f,v=new Map;p.forEach(m=>{if(!m.period||!m.activityDetails?.mode)return;const w=new Date(m.period).getUTCFullYear().toString(),T=this.getActivityType(m.activityDetails.mode);if("All"!==this.selectedActivityType.label&&T!==this.selectedActivityType.label||"D1"===c&&!this.isD1Player(a)||"D2"===c&&this.isD1Player(a))return;const V=`${w}-${T}-${a.membershipId}-${l}-${c}`;let F=v.get(V);F||(F={game:c,platform:l,player:a,activities:[]},v.set(V,F),i[w][T].push(F)),F.activities.some(ee=>ee.activityDetails?.instanceId===m.activityDetails?.instanceId)||F.activities.push(m)})}),Object.entries(i).map(([a,c])=>({year:a,types:c})).sort((a,c)=>parseInt(c.year)-parseInt(a.year))}getPlayerActivities(t){const r=`player-${t}`,o=this.activityCache.get(r);if(o&&Date.now()-o.timestamp<this.CACHE_DURATION)return console.log("[DEBUG] Using cached activities for player:",t),o.activities;console.log("[DEBUG] Getting activities from database for player:",t);const i=Object.keys(this.activities).filter(s=>s.startsWith(`activities-${t}-`)).reduce((s,a)=>{const c=this.activities[a]||[];return console.log(`[DEBUG] Found ${c.length} activities for key ${a}`),s.concat(c)},[]);return i.length>0&&console.log("[DEBUG] Sample activities from database:",i.slice(0,3).map(s=>({period:s.period,local:new Date(s.period).toLocaleString(),utc:new Date(s.period).toISOString(),month:new Date(s.period).getMonth()+1,day:new Date(s.period).getDate(),year:new Date(s.period).getFullYear()}))),this.activityCache.set(r,{activities:i,timestamp:Date.now(),type:"all",game:this.isD1Player({membershipId:t})?"D1":"D2"}),i}processActivities(t,r){this.activities[`activities-${r.membershipId}-${r.characterId}`]=t,this.processAndGroupActivities(),this.cdr.detectChanges()}onDateOrTypeChange(){var t=this;return we(function*(){console.log("[DEBUG] Date or type changed, reloading activities"),t.selectedDate?(t.clearCache(),t.validateAndSetDate(t.selectedDate),t.selectedPlayers.length>0?(console.log("[DEBUG] Loading activities for selected players"),yield t.loadAllFilteredActivities()):console.log("[DEBUG] No players selected yet, activities will load when players are added"),t.processAndGroupActivities(),t.cdr.detectChanges()):console.log("[DEBUG] No date selected, skipping load")})()}isActivityOnDate(t,r){const o=new Date(t.period),i=o.getMonth()+1,s=o.getDate(),a=r.getMonth()+1,c=r.getDate(),l=i===a&&s===c;return l&&console.log("[DEBUG] Found matching activity:",{period:t.period,local:o.toLocaleString(),type:this.getActivityType(t.activityDetails?.mode||0),instanceId:t.activityDetails?.instanceId}),l}validateAndSetDate(t){const r=new Date(t);r.setHours(0,0,0,0);const o=new Date;o.setHours(0,0,0,0);const i=r.getMonth()>o.getMonth()||r.getMonth()===o.getMonth()&&r.getDate()>o.getDate();i?(console.log("[DEBUG] Future date detected, using today instead"),this.selectedDate=o.toISOString().split("T")[0]):this.selectedDate=r.toISOString().split("T")[0],console.log("[DEBUG] Date validated and set to:",{local:r.toLocaleString(),stored:this.selectedDate,month:r.getMonth()+1,day:r.getDate(),isFutureDate:i})}onDateInput(t){const r=t.target.value;if(console.log("[DEBUG] Date input value:",r),/^\d{4}-\d{2}-\d{2}$/.test(r)){const o=new Date(r);o.setHours(0,0,0,0),console.log(`[DEBUG] Input date converted to local: ${o.toLocaleString()}, UTC: ${o.toISOString()}`),this.validateAndSetDate(o.toISOString().split("T")[0]),this.cdr.detectChanges()}}getSortedYears(t){return Object.keys(t).sort((r,o)=>parseInt(o)-parseInt(r))}getSortedTypes(t){const r=["Raid","Dungeon","Nightfall","Strike","Crucible","Other"];return Object.keys(t).filter(i=>t[i]&&t[i].length>0).sort((i,s)=>{const a=r.indexOf(i),c=r.indexOf(s);return-1===a&&-1===c?i.localeCompare(s):-1===a?1:-1===c?-1:a-c})}getActivityType(t){return r_[t]||"Other"}onDateChange(t){const r=t.target?.value;r&&(this.validateAndSetDate(r),this.cdr.detectChanges())}getActivityTypeIcon(t){return OA[t.toLowerCase()]||OA.other}formatTime(t){const r=Math.floor(t/3600),o=Math.floor(t%3600/60);return r>0?`${r}h ${o}m`:`${o}m`}onActivityTypeChange(t){this.cdr.detectChanges()}searchPlayer(){this.searchUsername?console.log("Searching for player:",this.searchUsername,"on platform:",this.selectedPlatform):this.errorMessage="Please enter a username"}addPlayer(){var t=this;return we(function*(){if(t.searchUsername&&t.selectedPlatform&&t.selectedGame)if("Cross Save"!==t.selectedPlatform||"D2"===t.selectedGame){t.errorMessage="",t.loading.search=!0;try{if("D2"===t.selectedGame)yield t.searchD2Player(t.searchUsername);else{let r=0;switch(t.selectedPlatform){case"Xbox":r=1;break;case"PlayStation":r=2;break;default:r=0}yield t.searchD1Player(t.searchUsername,r)}}catch(r){t.errorMessage="Error searching for player.",console.error(r)}finally{t.loading.search=!1,t.cdr.detectChanges()}}else t.errorMessage="Cross Save is only available for Destiny 2.";else t.errorMessage="Please enter all fields."})()}removePlayer(t){this.selectedPlayers.splice(t,1),this.calculateAccountStats(),this.cdr.detectChanges()}getFilteredActivitiesFromDb(t,r,o,i,s){var a=this;return we(function*(){try{const c=yield a.activityDb.getActivitiesByDate(t,r,o,i);return void 0!==s?c.filter(l=>l.activityDetails?.mode===s):c}catch(c){return console.error("[DEBUG] Error getting filtered activities:",c),[]}})()}loadAllFilteredActivities(){var t=this;return we(function*(){if(console.log("[DEBUG] Starting loadAllFilteredActivities"),!t.selectedDate)return void console.log("[DEBUG] No date selected, skipping load");const r=new Date(t.selectedDate);if(r.setHours(0,0,0,0),!t.selectedPlayers.length)return void console.log("[DEBUG] No players selected, skipping load");const o=new Set,i=[];for(const s of t.selectedPlayers){const a=t.characters[s.membershipId]||[];for(const c of a){const l=c.characterId||c.characterBase?.characterId;if(l)try{const p=(yield t.activityDb.getAllActivitiesForCharacter(s.membershipId,l)).filter(v=>{const m=v.activityDetails?.instanceId;return!(!m||o.has(m)||!t.isActivityOnDate(v,r)||(o.add(m),0))});i.push(...p)}catch(f){console.error(`[DEBUG] Error loading activities for character ${l}:`,f)}}}if(console.log(`[DEBUG] Found ${i.length} unique activities for date ${r.toLocaleDateString()}`),i.length>0){const s=t.groupActivitiesByYearAndType(i);t.groupedActivitiesByAccount=s,t.cdr.detectChanges()}})()}groupActivitiesByYearAndType(t){console.log("[DEBUG] Starting groupActivitiesByYearAndType with",t.length,"activities");const r={},o=Object.values(r_),i=new Set(t.map(a=>new Date(a.period).getUTCFullYear().toString()));console.log("[DEBUG] Found activities from years:",Array.from(i).sort()),i.forEach(a=>{r[a]={},o.forEach(c=>{r[a][c]=[]}),r[a].Other=[]});const s=new Map;return t.forEach(a=>{if(!a.period||!a.activityDetails?.mode)return;const l=new Date(a.period).getUTCFullYear().toString(),f=this.getActivityType(a.activityDetails.mode),p=this.selectedPlayers.find(D=>Object.keys(this.activities).filter(T=>T.startsWith(`activities-${D.membershipId}-`)).some(T=>(this.activities[T]||[]).some(F=>F.activityDetails?.instanceId===a.activityDetails?.instanceId)));if(!p)return void console.error("[DEBUG] Could not find player for activity:",{activityId:a.activityDetails?.instanceId,period:a.period,mode:a.activityDetails?.mode});const v=`${l}-${f}-${p.membershipId}`;let m=s.get(v);m?m.activities.some(D=>D.activityDetails?.instanceId===a.activityDetails?.instanceId)||m.activities.push(a):(m=this.createActivityEntry(a),s.set(v,m),r[l][f].push(m))}),Object.entries(r).map(([a,c])=>({year:a,types:c})).sort((a,c)=>parseInt(c.year)-parseInt(a.year))}updateActivityDisplay(){this.cdr.detectChanges()}viewPGCR(t){var r=this;return we(function*(){try{const o=r.pgcrCacheService.getPGCR(t);if(o)return console.log("Using cached PGCR"),void r.showPGCRDetails(o);console.log("Fetching PGCR from API");const i=yield Pr(r.bungieService.getPGCR(t));if(!i)throw new Error("No PGCR data received");r.pgcrCacheService.cachePGCR(t,i,!0),r.showPGCRDetails(i)}catch(o){console.error("Error loading PGCR:",o)}})()}showPGCRDetails(t){this.selectedPGCR=t,this.showPGCRModal=!0}closePGCRModal(){this.showPGCRModal=!1,this.selectedPGCR=null}getPlatformName(t){switch(t){case 1:return"Xbox";case 2:return"PlayStation";case 3:return"Steam";case 4:return"Battle.net";case 5:return"Stadia";case 6:return"Epic";default:return"Unknown"}}isD1Player(t){return"D1"===t.game}getClassName(t){switch(t){case 0:return"Titan";case 1:return"Hunter";case 2:return"Warlock";default:return"Unknown"}}formatDate(t){return new Date(t).toLocaleDateString()}logActivitySummary(t,r){if(0===r.length)return void console.log(`No activities found for ${t.displayName}`);const o=new Set(r.map(s=>new Date(s.period).toISOString().split("T")[0]));console.log(`Activity Summary for ${t.displayName}:`),console.log(`Total activities: ${r.length}`),console.log(`Date range: ${Array.from(o).sort().join(", ")}`);const i=Math.min(3,r.length);console.log("Sample activities:"),r.slice(0,i).forEach(s=>{console.log({date:new Date(s.period).toISOString(),type:s.activityDetails?.mode||"Unknown",referenceId:s.activityDetails?.referenceId})})}getFilteredActivities(t,r){if(!this.selectedActivityType||"All"===this.selectedActivityType.label)return ge(t);const o=`${r}-${this.selectedActivityType.label}-${this.selectedDate}`,i=this.activityCache.get(o);if(i&&Date.now()-i.timestamp<this.CACHE_DURATION)return ge(i.activities);const s=t.filter(a=>{const c=a.activityDetails?.mode;return!!c&&("Dungeon"===this.selectedActivityType.label?"D2"===r&&c===this.selectedActivityType.d2Mode:"D1"===r&&c===this.selectedActivityType.d1Mode||"D2"===r&&c===this.selectedActivityType.d2Mode)});return this.activityCache.set(o,{activities:s,timestamp:Date.now(),type:this.selectedActivityType.label,game:r}),ge(s)}getObjectKeys(t){return Object.keys(t)}clearCache(){this.activityCache.clear()}getKills(t){return t.values?.kills?.basic?.value}getDeaths(t){return t.values?.deaths?.basic?.value}getKDRatio(t){const r=this.getKills(t),o=this.getDeaths(t);if(void 0!==r&&void 0!==o&&0!==o)return(r/o).toFixed(2)}getActivityName(t,r){const o=t.activityDetails?.referenceId;return o&&this.manifest.getActivityName(o,r)||"Unknown Activity"}calculateAccountStats(){var t=this;return we(function*(){t.loadingAccountStats=!0;let r=0,o=0,i=0;const s={};for(const a of t.selectedPlayers){const c=t.characters[a.membershipId]||[];for(const l of c){r+=Number(l.minutesPlayedTotal||0),i+=(yield Pr(t.bungieService.getActivityCount(a.membershipType,a.membershipId,l.characterId)));let p=yield t.activityDb.getAllActivitiesForCharacter(a.membershipId,l.characterId);const v=new Set;p=p.filter(m=>{const D=m.activityDetails?.instanceId;return!(!D||v.has(D)||(v.add(D),0))}),console.log(`[DEBUG] Character ${l.characterId}: ${p.length} unique activities after deduplication`),p.length>0&&console.log("[DEBUG] Sample activity durations:",p.slice(0,10).map(m=>m.values?.timePlayedSeconds?.basic?.value)),p.forEach(m=>{const D=m.values?.timePlayedSeconds?.basic?.value;"number"==typeof D&&D>1e5&&console.warn("[DEBUG] Suspiciously high activity duration:",D,m)});for(const m of p){const D=t.getActivityType(m.activityDetails?.mode||0);s[D]||(s[D]={count:0,time:0}),s[D].count+=1;let w=t.getActivityDurationSeconds(m);("number"!=typeof w||isNaN(w)||w<0||w>1e5)&&(console.warn("[DEBUG] Ignoring invalid activity duration:",w,m),w=0),s[D].time+=w,o+=w}t.accountStats={totalTime:r,totalActivityTime:o,totalActivityCount:i,perType:{...s}},t.cdr.detectChanges()}}console.log("[DEBUG] Final accountStats:",t.accountStats),t.loadingAccountStats=!1,t.cdr.detectChanges()})()}getActivityDurationSeconds(t){const r=t.values;return r&&r.timePlayedSeconds?.basic?.value||0}getPerTypeStats(t){return this.accountStats.perType[t]||{count:0,time:0}}getActivityCount(t){return this.getPerTypeStats(t).count}getActivityTime(t){return this.getPerTypeStats(t).time}createActivityEntry(t){console.log("[DEBUG] Creating activity entry for:",{activityId:t.activityDetails?.instanceId,period:t.period,mode:t.activityDetails?.mode,referenceId:t.activityDetails?.referenceId});const r=this.selectedPlayers.find(o=>Object.keys(this.activities).filter(s=>s.startsWith(`activities-${o.membershipId}-`)).some(s=>(this.activities[s]||[]).some(c=>c.activityDetails?.instanceId===t.activityDetails?.instanceId)));if(!r)throw console.error("[DEBUG] Could not find player for activity:",{activityId:t.activityDetails?.instanceId,period:t.period,mode:t.activityDetails?.mode,referenceId:t.activityDetails?.referenceId,availablePlayers:this.selectedPlayers.map(o=>({membershipId:o.membershipId,displayName:o.displayName}))}),new Error("Activity has no associated player");return console.log("[DEBUG] Found player for activity:",{playerName:r.displayName,membershipId:r.membershipId,activityId:t.activityDetails?.instanceId}),{game:this.isD1Player(r)?"D1":"D2",platform:this.getPlatformName(r.membershipType),player:r,activities:[t]}}getDaysForMonth(t){const r=new Date(2024,parseInt(t),0).getDate();return Array.from({length:r},(o,i)=>i+1)}onDateSelect(t,r){console.log("[DEBUG] onDateSelect called with:",{month:t,day:r});const o=(new Date).getFullYear(),i=new Date(o,parseInt(t)-1,parseInt(r));i.setHours(0,0,0,0),this.selectedMonth=parseInt(t),this.selectedDay=parseInt(r),this.selectedDate=i.toISOString().split("T")[0],console.log("[DEBUG] Date selected:",{targetDate:i.toLocaleString(),selectedDate:this.selectedDate,month:i.getMonth()+1,day:i.getDate()}),this.onDateOrTypeChange()}static \u0275fac=function(r){return new(r||e)(W(lG),W(fG),W(cc),W(hG),W(pG),W(mG))};static \u0275cmp=Ga({type:e,selectors:[["app-player-search"]],decls:77,vars:23,consts:[["monthSelect",""],["daySelect",""],["iconImg",""],[1,"max-w-4xl","mx-auto","p-4"],[3,"progress"],[1,"bg-slate-800/95","rounded-lg","shadow-lg","p-6"],[1,"text-2xl","font-bold","text-white","mb-6"],["class","mb-6 flex flex-wrap gap-2",4,"ngIf"],[1,"space-y-4"],[1,"relative"],["for","username",1,"block","text-sm","font-medium","text-slate-300","mb-2"],["type","text","id","username","placeholder","Enter username",1,"w-full","px-4","py-2","bg-slate-700/95","text-white","rounded","border","border-slate-600","focus:border-blue-500","focus:ring-1","focus:ring-blue-500","focus:outline-none","transition-colors",3,"ngModelChange","ngModel"],["class","absolute -bottom-6 left-0 text-sm text-red-400 flex items-center",4,"ngIf"],["for","platform",1,"block","text-sm","font-medium","text-slate-300","mb-2"],["id","platform",1,"w-full","px-4","py-2","bg-slate-700/95","text-white","rounded","border","border-slate-600","focus:border-blue-500","focus:ring-1","focus:ring-blue-500","focus:outline-none","transition-colors",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","game",1,"block","text-sm","font-medium","text-slate-300","mb-2"],["id","game",1,"w-full","px-4","py-2","bg-slate-700/95","text-white","rounded","border","border-slate-600","focus:border-blue-500","focus:ring-1","focus:ring-blue-500","focus:outline-none","transition-colors",3,"ngModelChange","ngModel"],["value","D1"],["value","D2"],[1,"w-full","bg-blue-600","text-white","py-2","px-4","rounded","hover:bg-blue-700","transition-colors","disabled:bg-slate-500","disabled:cursor-not-allowed","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","focus:ring-offset-slate-800",3,"click","disabled"],["class","flex items-center justify-center",4,"ngIf"],[4,"ngIf"],[1,"mt-6","flex","items-center","gap-2"],[1,"text-slate-300","font-medium"],[1,"flex","gap-2"],[1,"bg-slate-700","text-white","rounded","px-3","py-1","border","border-slate-600","focus:border-blue-500","focus:ring-1","focus:ring-blue-500","focus:outline-none",3,"change","value"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","11"],["value","12"],["class","loading-indicator",4,"ngIf"],["class","activity-history",4,"ngIf"],["class","fixed inset-0 bg-black/75 flex items-center justify-center z-50",3,"click",4,"ngIf"],["class","fixed inset-0 bg-black/70 flex items-center justify-center z-50",4,"ngIf"],[1,"grid","grid-cols-2","gap-4"],[1,"bg-gray-800","rounded-lg","p-4"],[1,"text-lg","font-semibold","mb-2"],[1,"space-y-2"],["class","flex justify-between items-center",4,"ngFor","ngForOf"],[1,"mb-6","flex","flex-wrap","gap-2"],["class","flex items-center bg-slate-700/80 rounded px-3 py-1 text-sm text-white gap-2",4,"ngFor","ngForOf"],[1,"flex","items-center","bg-slate-700/80","rounded","px-3","py-1","text-sm","text-white","gap-2"],[1,"font-semibold"],[1,"px-2","py-0.5","rounded","text-xs","font-bold",3,"ngClass"],[1,"text-slate-300"],["title","Remove",1,"ml-1","text-red-400","hover:text-red-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"absolute","-bottom-6","left-0","text-sm","text-red-400","flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[3,"value"],[1,"flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"loading-indicator"],[1,"spinner"],[4,"ngFor","ngForOf"],[1,"activity-history"],["class","year-group",4,"ngFor","ngForOf"],[1,"year-group"],["class","activity-type",4,"ngFor","ngForOf"],[1,"activity-type"],["class","activity-type-header",4,"ngIf"],["class","activity-entries",4,"ngIf"],[1,"activity-type-header"],[1,"activity-type-icon",3,"error","src","alt"],[1,"activity-entries"],["class","activity-entry",4,"ngFor","ngForOf"],[1,"activity-entry"],[1,"player-info"],[1,"platform-badge"],[1,"player-name"],[1,"activities"],["class","activity",4,"ngFor","ngForOf"],["class","no-activities",4,"ngIf"],[1,"activity"],[1,"activity-details"],[1,"activity-name"],[1,"activity-date"],[1,"activity-stats"],[1,"kills"],[1,"deaths"],[1,"kd"],[1,"no-activities"],[1,"fixed","inset-0","bg-black/75","flex","items-center","justify-center","z-50",3,"click"],[1,"bg-slate-800","rounded-lg","p-6","max-w-4xl","w-full","max-h-[90vh]","overflow-y-auto",3,"click"],[1,"absolute","top-4","right-4","text-slate-400","hover:text-white","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],[3,"pgcr"],[1,"fixed","inset-0","bg-black/70","flex","items-center","justify-center","z-50"],[1,"bg-slate-800","rounded-lg","p-6","max-w-md","w-full"],[1,"text-lg","font-semibold","text-white","mb-4"],[1,"space-y-3"],["class","w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors",3,"click",4,"ngIf"],["class","w-full bg-slate-700 text-white py-2 px-4 rounded hover:bg-blue-600 transition-colors",3,"click",4,"ngFor","ngForOf"],[1,"mt-4","w-full","text-slate-400","hover:text-white",3,"click"],[1,"w-full","bg-blue-600","text-white","py-2","px-4","rounded","hover:bg-blue-700","transition-colors",3,"click"],[1,"font-bold"],[1,"w-full","bg-slate-700","text-white","py-2","px-4","rounded","hover:bg-blue-600","transition-colors",3,"click"],[1,"flex","justify-between","items-center"],[1,"text-gray-300"]],template:function(r,o){if(1&r){const i=wi();G(0,"div",3),or(1,"app-loading-progress",4),G(2,"div",5)(3,"h2",6),J(4,"Search Destiny Player"),H(),tt(5,_G,2,1,"div",7),G(6,"div",8)(7,"div",9)(8,"label",10),J(9,"Username"),H(),G(10,"input",11),Ku("ngModelChange",function(a){return gn(i),bf(o.searchUsername,a)||(o.searchUsername=a),mn(a)}),H(),tt(11,DG,4,1,"div",12),H(),G(12,"div",9)(13,"label",13),J(14,"Platform"),H(),G(15,"select",14),Ku("ngModelChange",function(a){return gn(i),bf(o.selectedPlatform,a)||(o.selectedPlatform=a),mn(a)}),tt(16,bG,2,2,"option",15),H()(),G(17,"div",9)(18,"label",16),J(19,"Game"),H(),G(20,"select",17),Ku("ngModelChange",function(a){return gn(i),bf(o.selectedGame,a)||(o.selectedGame=a),mn(a)}),G(21,"option",18),J(22,"Destiny 1"),H(),G(23,"option",19),J(24,"Destiny 2"),H()()(),G(25,"button",20),mt("click",function(){return gn(i),mn(o.addPlayer())}),tt(26,CG,5,0,"span",21)(27,wG,2,0,"span",22),H()()(),G(28,"div",23)(29,"label",24),J(30,"Select Date:"),H(),G(31,"div",25)(32,"select",26,0),mt("change",function(){gn(i);const a=Es(33),c=Es(59);return mn(o.onDateSelect(a.value,c.value))}),G(34,"option",27),J(35,"January"),H(),G(36,"option",28),J(37,"February"),H(),G(38,"option",29),J(39,"March"),H(),G(40,"option",30),J(41,"April"),H(),G(42,"option",31),J(43,"May"),H(),G(44,"option",32),J(45,"June"),H(),G(46,"option",33),J(47,"July"),H(),G(48,"option",34),J(49,"August"),H(),G(50,"option",35),J(51,"September"),H(),G(52,"option",36),J(53,"October"),H(),G(54,"option",37),J(55,"November"),H(),G(56,"option",38),J(57,"December"),H()(),G(58,"select",26,1),mt("change",function(){gn(i);const a=Es(33),c=Es(59);return mn(o.onDateSelect(a.value,c.value))}),tt(60,EG,2,2,"option",15),H()()(),tt(61,IG,4,0,"div",39)(62,AG,20,27,"div",22)(63,UG,4,1,"div",40)(64,$G,6,1,"div",41)(65,qG,9,2,"div",42),G(66,"div",43)(67,"div",44)(68,"h3",45),J(69,"Activities"),H(),G(70,"div",46),tt(71,zG,5,2,"div",47),H()(),G(72,"div",44)(73,"h3",45),J(74,"Time"),H(),G(75,"div",46),tt(76,WG,6,5,"div",47),H()()()()}if(2&r){const i=Es(33);Q(),De("progress",o.loadingProgress),Q(4),De("ngIf",o.selectedPlayers.length>0),Q(5),oc("border-red-500",o.errorMessage),Wu("ngModel",o.searchUsername),Ir("aria-invalid",!!o.errorMessage),Q(),De("ngIf",o.errorMessage),Q(4),Wu("ngModel",o.selectedPlatform),Q(),De("ngForOf",o.platforms),Q(4),Wu("ngModel",o.selectedGame),Q(5),De("disabled",!o.searchUsername),Q(),De("ngIf",o.loading.search),Q(),De("ngIf",!o.loading.search),Q(5),De("value",o.currentMonth),Q(26),De("value",o.currentDay),Q(2),De("ngForOf",o.getDaysForMonth(i.value)),Q(),De("ngIf",o.loadingAccountStats),Q(),De("ngIf",!o.loadingAccountStats&&o.accountStats),Q(),De("ngIf",o.selectedPlayers.length>0),Q(),De("ngIf",o.showPGCRModal),Q(),De("ngIf",o.showPlatformPicker),Q(6),De("ngForOf",o.getObjectKeys(o.accountStats.perType)),Q(5),De("ngForOf",o.getObjectKeys(o.accountStats.perType))}},dependencies:[Fv,DT,Nv,yh,IT,ST,Ov,J4,DA,CA,vh,Ph,XT,e_,sG,cG],styles:[".activity-history[_ngcontent-%COMP%]{margin-top:2rem;padding:1rem}.activity-history[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#fff;margin-bottom:1rem}.year-group[_ngcontent-%COMP%]{margin-bottom:2rem;background:#1e293bf2;border-radius:.5rem;padding:1rem}.year-group[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#fff;margin-bottom:1rem}.activity-type[_ngcontent-%COMP%]{margin-bottom:1.5rem}.activity-type-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem}.activity-type-icon[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem}.activity-type-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:500;color:#e2e8f0}.activity-entries[_ngcontent-%COMP%]{display:grid;gap:1rem}.activity-entry[_ngcontent-%COMP%]{background:#334155f2;border-radius:.375rem;padding:.75rem}.player-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem}.platform-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.75rem;font-weight:600;border-radius:.25rem}.platform-badge.d1[_ngcontent-%COMP%]{background-color:#f59e0b;color:#fff}.platform-badge.d2[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff}.player-name[_ngcontent-%COMP%]{color:#e2e8f0;font-size:.875rem}.activities[_ngcontent-%COMP%]{display:grid;gap:.5rem}.activity[_ngcontent-%COMP%]{background:#475569f2;border-radius:.25rem;padding:.5rem}.activity-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.25rem}.activity-name[_ngcontent-%COMP%]{color:#e2e8f0;font-size:.875rem}.activity-date[_ngcontent-%COMP%]{color:#94a3b8;font-size:.75rem}.activity-stats[_ngcontent-%COMP%]{display:flex;gap:1rem;font-size:.75rem;color:#94a3b8}.no-activities[_ngcontent-%COMP%]{color:#94a3b8;font-style:italic;font-size:.875rem;text-align:center;padding:.5rem}.loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin:1rem 0;color:#fff}.spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:3px solid #cbd5e1;border-top:3px solid #2563eb;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}return e})();const KG={providers:[function f3(e,...n){return q([{provide:uv,multi:!0,useValue:e},[],{provide:hc,useFactory:US,deps:[yc]},{provide:ju,multi:!0,useFactory:$S},n.map(t=>t.\u0275providers)])}([{path:"",component:kA}]),function H3(...e){const n=[ih,sT,oT,{provide:eh,useExisting:oT},{provide:th,useFactory:()=>$(tT,{optional:!0})??$(sT)},{provide:bl,useValue:$3,multi:!0},{provide:_v,useValue:!0},{provide:uT,useClass:U3}];for(const t of e)n.push(...t.\u0275providers);return q(n)}(function G3(){return function Os(e,n){return{\u0275kind:e,\u0275providers:n}}(Oi.Fetch,[yv,{provide:tT,useExisting:yv},{provide:th,useExisting:yv}])}())]};(function U2(e,n){return IB({rootComponent:e,...bM(n)})})((()=>{class e{title="destiny-chronicle";static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Ga({type:e,selectors:[["app-root"]],decls:8,vars:0,consts:[[1,"app-container"],[1,"app-header"],[1,"subtitle"],[1,"app-content"]],template:function(r,o){1&r&&(G(0,"div",0)(1,"header",1)(2,"h1"),J(3,"Destiny Chronicle"),H(),G(4,"p",2),J(5,"Track your Destiny 1 & 2 activity history"),H()(),G(6,"main",3),or(7,"app-player-search"),H()())},dependencies:[kA],styles:[".app-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#1a1b1e;color:#fff}.app-header[_ngcontent-%COMP%]{background-color:#2a2b2e;padding:2rem;text-align:center;border-bottom:1px solid #3a3b3e}.app-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:2.5rem;color:#fff}.app-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:.5rem 0 0;color:#b3b8d1;font-size:1.2rem}.app-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}"]})}return e})(),KG).catch(e=>console.error(e))}},wc=>{wc(wc.s=534)}]);