var oE=Object.create;var vf=Object.defineProperty,sE=Object.defineProperties,aE=Object.getOwnPropertyDescriptor,cE=Object.getOwnPropertyDescriptors,lE=Object.getOwnPropertyNames,xy=Object.getOwnPropertySymbols,uE=Object.getPrototypeOf,Ry=Object.prototype.hasOwnProperty,dE=Object.prototype.propertyIsEnumerable;var Oy=(e,t,n)=>t in e?vf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L=(e,t)=>{for(var n in t||={})Ry.call(t,n)&&Oy(e,n,t[n]);if(xy)for(var n of xy(t))dE.call(t,n)&&Oy(e,n,t[n]);return e},ie=(e,t)=>sE(e,cE(t));var fE=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var hE=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of lE(t))!Ry.call(e,i)&&i!==n&&vf(e,i,{get:()=>t[i],enumerable:!(r=aE(t,i))||r.enumerable});return e};var pE=(e,t,n)=>(n=e!=null?oE(uE(e)):{},hE(t||!e||!e.__esModule?vf(n,"default",{value:e,enumerable:!0}):n,e));var ce=(e,t,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(h){i(h)}},s=u=>{try{c(n.throw(u))}catch(h){i(h)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((n=n.apply(e,t)).next())});var AC=fE((Im,Sm)=>{"use strict";(function(e,t){typeof Im=="object"&&typeof Sm<"u"?Sm.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).Dexie=t()})(Im,function(){"use strict";var e=function(a,l){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(d[p]=f[p])})(a,l)},t=function(){return(t=Object.assign||function(a){for(var l,d=1,f=arguments.length;d<f;d++)for(var p in l=arguments[d])Object.prototype.hasOwnProperty.call(l,p)&&(a[p]=l[p]);return a}).apply(this,arguments)};function n(a,l,d){if(d||arguments.length===2)for(var f,p=0,m=l.length;p<m;p++)!f&&p in l||((f=f||Array.prototype.slice.call(l,0,p))[p]=l[p]);return a.concat(f||Array.prototype.slice.call(l))}var r=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,i=Object.keys,o=Array.isArray;function s(a,l){return typeof l!="object"||i(l).forEach(function(d){a[d]=l[d]}),a}typeof Promise>"u"||r.Promise||(r.Promise=Promise);var c=Object.getPrototypeOf,u={}.hasOwnProperty;function h(a,l){return u.call(a,l)}function g(a,l){typeof l=="function"&&(l=l(c(a))),(typeof Reflect>"u"?i:Reflect.ownKeys)(l).forEach(function(d){S(a,d,l[d])})}var v=Object.defineProperty;function S(a,l,d,f){v(a,l,s(d&&h(d,"get")&&typeof d.get=="function"?{get:d.get,set:d.set,configurable:!0}:{value:d,configurable:!0,writable:!0},f))}function _(a){return{from:function(l){return a.prototype=Object.create(l.prototype),S(a.prototype,"constructor",a),{extend:g.bind(null,a.prototype)}}}}var N=Object.getOwnPropertyDescriptor,V=[].slice;function G(a,l,d){return V.call(a,l,d)}function se(a,l){return l(a)}function Te(a){if(!a)throw new Error("Assertion Failed")}function Pe(a){r.setImmediate?setImmediate(a):setTimeout(a,0)}function ut(a,l){if(typeof l=="string"&&h(a,l))return a[l];if(!l)return a;if(typeof l!="string"){for(var d=[],f=0,p=l.length;f<p;++f){var m=ut(a,l[f]);d.push(m)}return d}var y=l.indexOf(".");if(y!==-1){var b=a[l.substr(0,y)];return b==null?void 0:ut(b,l.substr(y+1))}}function Qe(a,l,d){if(a&&l!==void 0&&!("isFrozen"in Object&&Object.isFrozen(a)))if(typeof l!="string"&&"length"in l){Te(typeof d!="string"&&"length"in d);for(var f=0,p=l.length;f<p;++f)Qe(a,l[f],d[f])}else{var m,y,b=l.indexOf(".");b!==-1?(m=l.substr(0,b),(y=l.substr(b+1))===""?d===void 0?o(a)&&!isNaN(parseInt(m))?a.splice(m,1):delete a[m]:a[m]=d:Qe(b=!(b=a[m])||!h(a,m)?a[m]={}:b,y,d)):d===void 0?o(a)&&!isNaN(parseInt(l))?a.splice(l,1):delete a[l]:a[l]=d}}function pr(a){var l,d={};for(l in a)h(a,l)&&(d[l]=a[l]);return d}var Ha=[].concat;function qm(a){return Ha.apply([],a)}var Zr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(qm([8,16,32,64].map(function(a){return["Int","Uint","Float"].map(function(l){return l+a+"Array"})}))).filter(function(a){return r[a]}),Km=new Set(Zr.map(function(a){return r[a]})),is=null;function qr(a){return is=new WeakMap,a=function l(d){if(!d||typeof d!="object")return d;var f=is.get(d);if(f)return f;if(o(d)){f=[],is.set(d,f);for(var p=0,m=d.length;p<m;++p)f.push(l(d[p]))}else if(Km.has(d.constructor))f=d;else{var y,b=c(d);for(y in f=b===Object.prototype?{}:Object.create(b),is.set(d,f),d)h(d,y)&&(f[y]=l(d[y]))}return f}(a),is=null,a}var I0={}.toString;function Od(a){return I0.call(a).slice(8,-1)}var Rd=typeof Symbol<"u"?Symbol.iterator:"@@iterator",S0=typeof Rd=="symbol"?function(a){var l;return a!=null&&(l=a[Rd])&&l.apply(a)}:function(){return null};function Kr(a,l){return l=a.indexOf(l),0<=l&&a.splice(l,1),0<=l}var $i={};function Gn(a){var l,d,f,p;if(arguments.length===1){if(o(a))return a.slice();if(this===$i&&typeof a=="string")return[a];if(p=S0(a)){for(d=[];!(f=p.next()).done;)d.push(f.value);return d}if(a==null)return[a];if(typeof(l=a.length)!="number")return[a];for(d=new Array(l);l--;)d[l]=a[l];return d}for(l=arguments.length,d=new Array(l);l--;)d[l]=arguments[l];return d}var Nd=typeof Symbol<"u"?function(a){return a[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},as=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],rn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(as),M0={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function zi(a,l){this.name=a,this.message=l}function Ym(a,l){return a+". Errors: "+Object.keys(l).map(function(d){return l[d].toString()}).filter(function(d,f,p){return p.indexOf(d)===f}).join(`
`)}function $a(a,l,d,f){this.failures=l,this.failedKeys=f,this.successCount=d,this.message=Ym(a,l)}function Gi(a,l){this.name="BulkError",this.failures=Object.keys(l).map(function(d){return l[d]}),this.failuresByPos=l,this.message=Ym(a,this.failures)}_(zi).from(Error).extend({toString:function(){return this.name+": "+this.message}}),_($a).from(zi),_(Gi).from(zi);var Pd=rn.reduce(function(a,l){return a[l]=l+"Error",a},{}),T0=zi,oe=rn.reduce(function(a,l){var d=l+"Error";function f(p,m){this.name=d,p?typeof p=="string"?(this.message="".concat(p).concat(m?`
 `+m:""),this.inner=m||null):typeof p=="object"&&(this.message="".concat(p.name," ").concat(p.message),this.inner=p):(this.message=M0[l]||d,this.inner=null)}return _(f).from(T0),a[l]=f,a},{});oe.Syntax=SyntaxError,oe.Type=TypeError,oe.Range=RangeError;var Zm=as.reduce(function(a,l){return a[l+"Error"]=oe[l],a},{}),za=rn.reduce(function(a,l){return["Syntax","Type","Range"].indexOf(l)===-1&&(a[l+"Error"]=oe[l]),a},{});function Le(){}function os(a){return a}function A0(a,l){return a==null||a===os?l:function(d){return l(a(d))}}function Yr(a,l){return function(){a.apply(this,arguments),l.apply(this,arguments)}}function x0(a,l){return a===Le?l:function(){var d=a.apply(this,arguments);d!==void 0&&(arguments[0]=d);var f=this.onsuccess,p=this.onerror;this.onsuccess=null,this.onerror=null;var m=l.apply(this,arguments);return f&&(this.onsuccess=this.onsuccess?Yr(f,this.onsuccess):f),p&&(this.onerror=this.onerror?Yr(p,this.onerror):p),m!==void 0?m:d}}function O0(a,l){return a===Le?l:function(){a.apply(this,arguments);var d=this.onsuccess,f=this.onerror;this.onsuccess=this.onerror=null,l.apply(this,arguments),d&&(this.onsuccess=this.onsuccess?Yr(d,this.onsuccess):d),f&&(this.onerror=this.onerror?Yr(f,this.onerror):f)}}function R0(a,l){return a===Le?l:function(d){var f=a.apply(this,arguments);s(d,f);var p=this.onsuccess,m=this.onerror;return this.onsuccess=null,this.onerror=null,d=l.apply(this,arguments),p&&(this.onsuccess=this.onsuccess?Yr(p,this.onsuccess):p),m&&(this.onerror=this.onerror?Yr(m,this.onerror):m),f===void 0?d===void 0?void 0:d:s(f,d)}}function N0(a,l){return a===Le?l:function(){return l.apply(this,arguments)!==!1&&a.apply(this,arguments)}}function kd(a,l){return a===Le?l:function(){var d=a.apply(this,arguments);if(d&&typeof d.then=="function"){for(var f=this,p=arguments.length,m=new Array(p);p--;)m[p]=arguments[p];return d.then(function(){return l.apply(f,m)})}return l.apply(this,arguments)}}za.ModifyError=$a,za.DexieError=zi,za.BulkError=Gi;var En=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Xm(a){En=a}var ss={},Qm=100,Zr=typeof Promise>"u"?[]:function(){var a=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[a,c(a),a];var l=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[l,c(l),a]}(),as=Zr[0],rn=Zr[1],Zr=Zr[2],rn=rn&&rn.then,Xr=as&&as.constructor,Fd=!!Zr,cs=function(a,l){ls.push([a,l]),Ga&&(queueMicrotask(k0),Ga=!1)},Ld=!0,Ga=!0,Qr=[],Wa=[],Vd=os,gr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Le,pgp:!1,env:{},finalize:Le},re=gr,ls=[],Jr=0,qa=[];function Z(a){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var l=this._PSD=re;if(typeof a!="function"){if(a!==ss)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Bd(this,this._value))}this._state=null,this._value=null,++l.ref,function d(f,p){try{p(function(m){if(f._state===null){if(m===f)throw new TypeError("A promise cannot be resolved with itself.");var y=f._lib&&Wi();m&&typeof m.then=="function"?d(f,function(b,C){m instanceof Z?m._then(b,C):m.then(b,C)}):(f._state=!0,f._value=m,ey(f)),y&&qi()}},Bd.bind(null,f))}catch(m){Bd(f,m)}}(this,a)}var jd={get:function(){var a=re,l=Xa;function d(f,p){var m=this,y=!a.global&&(a!==re||l!==Xa),b=y&&!yr(),C=new Z(function(I,A){Ud(m,new Jm(ny(f,a,y,b),ny(p,a,y,b),I,A,a))});return this._consoleTask&&(C._consoleTask=this._consoleTask),C}return d.prototype=ss,d},set:function(a){S(this,"then",a&&a.prototype===ss?jd:{get:function(){return a},set:jd.set})}};function Jm(a,l,d,f,p){this.onFulfilled=typeof a=="function"?a:null,this.onRejected=typeof l=="function"?l:null,this.resolve=d,this.reject=f,this.psd=p}function Bd(a,l){var d,f;Wa.push(l),a._state===null&&(d=a._lib&&Wi(),l=Vd(l),a._state=!1,a._value=l,f=a,Qr.some(function(p){return p._value===f._value})||Qr.push(f),ey(a),d&&qi())}function ey(a){var l=a._listeners;a._listeners=[];for(var d=0,f=l.length;d<f;++d)Ud(a,l[d]);var p=a._PSD;--p.ref||p.finalize(),Jr===0&&(++Jr,cs(function(){--Jr==0&&Hd()},[]))}function Ud(a,l){if(a._state!==null){var d=a._state?l.onFulfilled:l.onRejected;if(d===null)return(a._state?l.resolve:l.reject)(a._value);++l.psd.ref,++Jr,cs(P0,[d,a,l])}else a._listeners.push(l)}function P0(a,l,d){try{var f,p=l._value;!l._state&&Wa.length&&(Wa=[]),f=En&&l._consoleTask?l._consoleTask.run(function(){return a(p)}):a(p),l._state||Wa.indexOf(p)!==-1||function(m){for(var y=Qr.length;y;)if(Qr[--y]._value===m._value)return Qr.splice(y,1)}(l),d.resolve(f)}catch(m){d.reject(m)}finally{--Jr==0&&Hd(),--d.psd.ref||d.psd.finalize()}}function k0(){ei(gr,function(){Wi()&&qi()})}function Wi(){var a=Ld;return Ga=Ld=!1,a}function qi(){var a,l,d;do for(;0<ls.length;)for(a=ls,ls=[],d=a.length,l=0;l<d;++l){var f=a[l];f[0].apply(null,f[1])}while(0<ls.length);Ga=Ld=!0}function Hd(){var a=Qr;Qr=[],a.forEach(function(f){f._PSD.onunhandled.call(null,f._value,f)});for(var l=qa.slice(0),d=l.length;d;)l[--d]()}function Ka(a){return new Z(ss,!1,a)}function Je(a,l){var d=re;return function(){var f=Wi(),p=re;try{return vr(d,!0),a.apply(this,arguments)}catch(m){l&&l(m)}finally{vr(p,!1),f&&qi()}}}g(Z.prototype,{then:jd,_then:function(a,l){Ud(this,new Jm(null,null,a,l,re))},catch:function(a){if(arguments.length===1)return this.then(null,a);var l=a,d=arguments[1];return typeof l=="function"?this.then(null,function(f){return(f instanceof l?d:Ka)(f)}):this.then(null,function(f){return(f&&f.name===l?d:Ka)(f)})},finally:function(a){return this.then(function(l){return Z.resolve(a()).then(function(){return l})},function(l){return Z.resolve(a()).then(function(){return Ka(l)})})},timeout:function(a,l){var d=this;return a<1/0?new Z(function(f,p){var m=setTimeout(function(){return p(new oe.Timeout(l))},a);d.then(f,p).finally(clearTimeout.bind(null,m))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&S(Z.prototype,Symbol.toStringTag,"Dexie.Promise"),gr.env=ty(),g(Z,{all:function(){var a=Gn.apply(null,arguments).map(Qa);return new Z(function(l,d){a.length===0&&l([]);var f=a.length;a.forEach(function(p,m){return Z.resolve(p).then(function(y){a[m]=y,--f||l(a)},d)})})},resolve:function(a){return a instanceof Z?a:a&&typeof a.then=="function"?new Z(function(l,d){a.then(l,d)}):new Z(ss,!0,a)},reject:Ka,race:function(){var a=Gn.apply(null,arguments).map(Qa);return new Z(function(l,d){a.map(function(f){return Z.resolve(f).then(l,d)})})},PSD:{get:function(){return re},set:function(a){return re=a}},totalEchoes:{get:function(){return Xa}},newPSD:mr,usePSD:ei,scheduler:{get:function(){return cs},set:function(a){cs=a}},rejectionMapper:{get:function(){return Vd},set:function(a){Vd=a}},follow:function(a,l){return new Z(function(d,f){return mr(function(p,m){var y=re;y.unhandleds=[],y.onunhandled=m,y.finalize=Yr(function(){var b,C=this;b=function(){C.unhandleds.length===0?p():m(C.unhandleds[0])},qa.push(function I(){b(),qa.splice(qa.indexOf(I),1)}),++Jr,cs(function(){--Jr==0&&Hd()},[])},y.finalize),a()},l,d,f)})}}),Xr&&(Xr.allSettled&&S(Z,"allSettled",function(){var a=Gn.apply(null,arguments).map(Qa);return new Z(function(l){a.length===0&&l([]);var d=a.length,f=new Array(d);a.forEach(function(p,m){return Z.resolve(p).then(function(y){return f[m]={status:"fulfilled",value:y}},function(y){return f[m]={status:"rejected",reason:y}}).then(function(){return--d||l(f)})})})}),Xr.any&&typeof AggregateError<"u"&&S(Z,"any",function(){var a=Gn.apply(null,arguments).map(Qa);return new Z(function(l,d){a.length===0&&d(new AggregateError([]));var f=a.length,p=new Array(f);a.forEach(function(m,y){return Z.resolve(m).then(function(b){return l(b)},function(b){p[y]=b,--f||d(new AggregateError(p))})})})}),Xr.withResolvers&&(Z.withResolvers=Xr.withResolvers));var pt={awaits:0,echoes:0,id:0},F0=0,Ya=[],Za=0,Xa=0,L0=0;function mr(a,l,d,f){var p=re,m=Object.create(p);return m.parent=p,m.ref=0,m.global=!1,m.id=++L0,gr.env,m.env=Fd?{Promise:Z,PromiseProp:{value:Z,configurable:!0,writable:!0},all:Z.all,race:Z.race,allSettled:Z.allSettled,any:Z.any,resolve:Z.resolve,reject:Z.reject}:{},l&&s(m,l),++p.ref,m.finalize=function(){--this.parent.ref||this.parent.finalize()},f=ei(m,a,d,f),m.ref===0&&m.finalize(),f}function Ki(){return pt.id||(pt.id=++F0),++pt.awaits,pt.echoes+=Qm,pt.id}function yr(){return!!pt.awaits&&(--pt.awaits==0&&(pt.id=0),pt.echoes=pt.awaits*Qm,!0)}function Qa(a){return pt.echoes&&a&&a.constructor===Xr?(Ki(),a.then(function(l){return yr(),l},function(l){return yr(),it(l)})):a}function V0(){var a=Ya[Ya.length-1];Ya.pop(),vr(a,!1)}function vr(a,l){var d,f=re;(l?!pt.echoes||Za++&&a===re:!Za||--Za&&a===re)||queueMicrotask(l?function(p){++Xa,pt.echoes&&--pt.echoes!=0||(pt.echoes=pt.awaits=pt.id=0),Ya.push(re),vr(p,!0)}.bind(null,a):V0),a!==re&&(re=a,f===gr&&(gr.env=ty()),Fd&&(d=gr.env.Promise,l=a.env,(f.global||a.global)&&(Object.defineProperty(r,"Promise",l.PromiseProp),d.all=l.all,d.race=l.race,d.resolve=l.resolve,d.reject=l.reject,l.allSettled&&(d.allSettled=l.allSettled),l.any&&(d.any=l.any))))}function ty(){var a=r.Promise;return Fd?{Promise:a,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:a.all,race:a.race,allSettled:a.allSettled,any:a.any,resolve:a.resolve,reject:a.reject}:{}}function ei(a,l,d,f,p){var m=re;try{return vr(a,!0),l(d,f,p)}finally{vr(m,!1)}}function ny(a,l,d,f){return typeof a!="function"?a:function(){var p=re;d&&Ki(),vr(l,!0);try{return a.apply(this,arguments)}finally{vr(p,!1),f&&queueMicrotask(yr)}}}function $d(a){Promise===Xr&&pt.echoes===0?Za===0?a():enqueueNativeMicroTask(a):setTimeout(a,0)}(""+rn).indexOf("[native code]")===-1&&(Ki=yr=Le);var it=Z.reject,ti="\uFFFF",Wn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ry="String expected.",Yi=[],Ja="__dbnames",zd="readonly",Gd="readwrite";function ni(a,l){return a?l?function(){return a.apply(this,arguments)&&l.apply(this,arguments)}:a:l}var iy={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ec(a){return typeof a!="string"||/\./.test(a)?function(l){return l}:function(l){return l[a]===void 0&&a in l&&delete(l=qr(l))[a],l}}function oy(){throw oe.Type()}function Re(a,l){try{var d=sy(a),f=sy(l);if(d!==f)return d==="Array"?1:f==="Array"?-1:d==="binary"?1:f==="binary"?-1:d==="string"?1:f==="string"?-1:d==="Date"?1:f!=="Date"?NaN:-1;switch(d){case"number":case"Date":case"string":return l<a?1:a<l?-1:0;case"binary":return function(p,m){for(var y=p.length,b=m.length,C=y<b?y:b,I=0;I<C;++I)if(p[I]!==m[I])return p[I]<m[I]?-1:1;return y===b?0:y<b?-1:1}(ay(a),ay(l));case"Array":return function(p,m){for(var y=p.length,b=m.length,C=y<b?y:b,I=0;I<C;++I){var A=Re(p[I],m[I]);if(A!==0)return A}return y===b?0:y<b?-1:1}(a,l)}}catch{}return NaN}function sy(a){var l=typeof a;return l!="object"?l:ArrayBuffer.isView(a)?"binary":(a=Od(a),a==="ArrayBuffer"?"binary":a)}function ay(a){return a instanceof Uint8Array?a:ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a)}var cy=(Ke.prototype._trans=function(a,l,d){var f=this._tx||re.trans,p=this.name,m=En&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(a==="readonly"?"read":"write"," ").concat(this.name));function y(I,A,D){if(!D.schema[p])throw new oe.NotFound("Table "+p+" not part of transaction");return l(D.idbtrans,D)}var b=Wi();try{var C=f&&f.db._novip===this.db._novip?f===re.trans?f._promise(a,y,d):mr(function(){return f._promise(a,y,d)},{trans:f,transless:re.transless||re}):function I(A,D,O,E){if(A.idbdb&&(A._state.openComplete||re.letThrough||A._vip)){var T=A._createTransaction(D,O,A._dbSchema);try{T.create(),A._state.PR1398_maxLoop=3}catch(x){return x.name===Pd.InvalidState&&A.isOpen()&&0<--A._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),A.close({disableAutoOpen:!1}),A.open().then(function(){return I(A,D,O,E)})):it(x)}return T._promise(D,function(x,M){return mr(function(){return re.trans=T,E(x,M,T)})}).then(function(x){if(D==="readwrite")try{T.idbtrans.commit()}catch{}return D==="readonly"?x:T._completion.then(function(){return x})})}if(A._state.openComplete)return it(new oe.DatabaseClosed(A._state.dbOpenError));if(!A._state.isBeingOpened){if(!A._state.autoOpen)return it(new oe.DatabaseClosed);A.open().catch(Le)}return A._state.dbReadyPromise.then(function(){return I(A,D,O,E)})}(this.db,a,[this.name],y);return m&&(C._consoleTask=m,C=C.catch(function(I){return console.trace(I),it(I)})),C}finally{b&&qi()}},Ke.prototype.get=function(a,l){var d=this;return a&&a.constructor===Object?this.where(a).first(l):a==null?it(new oe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(f){return d.core.get({trans:f,key:a}).then(function(p){return d.hook.reading.fire(p)})}).then(l)},Ke.prototype.where=function(a){if(typeof a=="string")return new this.db.WhereClause(this,a);if(o(a))return new this.db.WhereClause(this,"[".concat(a.join("+"),"]"));var l=i(a);if(l.length===1)return this.where(l[0]).equals(a[l[0]]);var d=this.schema.indexes.concat(this.schema.primKey).filter(function(b){if(b.compound&&l.every(function(I){return 0<=b.keyPath.indexOf(I)})){for(var C=0;C<l.length;++C)if(l.indexOf(b.keyPath[C])===-1)return!1;return!0}return!1}).sort(function(b,C){return b.keyPath.length-C.keyPath.length})[0];if(d&&this.db._maxKey!==ti){var m=d.keyPath.slice(0,l.length);return this.where(m).equals(m.map(function(C){return a[C]}))}!d&&En&&console.warn("The query ".concat(JSON.stringify(a)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(l.join("+"),"]"));var f=this.schema.idxByName;function p(b,C){return Re(b,C)===0}var y=l.reduce(function(D,C){var I=D[0],A=D[1],D=f[C],O=a[C];return[I||D,I||!D?ni(A,D&&D.multi?function(E){return E=ut(E,C),o(E)&&E.some(function(T){return p(O,T)})}:function(E){return p(O,ut(E,C))}):A]},[null,null]),m=y[0],y=y[1];return m?this.where(m.name).equals(a[m.keyPath]).filter(y):d?this.filter(y):this.where(l).equals("")},Ke.prototype.filter=function(a){return this.toCollection().and(a)},Ke.prototype.count=function(a){return this.toCollection().count(a)},Ke.prototype.offset=function(a){return this.toCollection().offset(a)},Ke.prototype.limit=function(a){return this.toCollection().limit(a)},Ke.prototype.each=function(a){return this.toCollection().each(a)},Ke.prototype.toArray=function(a){return this.toCollection().toArray(a)},Ke.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ke.prototype.orderBy=function(a){return new this.db.Collection(new this.db.WhereClause(this,o(a)?"[".concat(a.join("+"),"]"):a))},Ke.prototype.reverse=function(){return this.toCollection().reverse()},Ke.prototype.mapToClass=function(a){var l,d=this.db,f=this.name;function p(){return l!==null&&l.apply(this,arguments)||this}(this.schema.mappedClass=a).prototype instanceof oy&&(function(C,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");function A(){this.constructor=C}e(C,I),C.prototype=I===null?Object.create(I):(A.prototype=I.prototype,new A)}(p,l=a),Object.defineProperty(p.prototype,"db",{get:function(){return d},enumerable:!1,configurable:!0}),p.prototype.table=function(){return f},a=p);for(var m=new Set,y=a.prototype;y;y=c(y))Object.getOwnPropertyNames(y).forEach(function(C){return m.add(C)});function b(C){if(!C)return C;var I,A=Object.create(a.prototype);for(I in C)if(!m.has(I))try{A[I]=C[I]}catch{}return A}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=b,this.hook("reading",b),a},Ke.prototype.defineClass=function(){return this.mapToClass(function(a){s(this,a)})},Ke.prototype.add=function(a,l){var d=this,f=this.schema.primKey,p=f.auto,m=f.keyPath,y=a;return m&&p&&(y=ec(m)(a)),this._trans("readwrite",function(b){return d.core.mutate({trans:b,type:"add",keys:l!=null?[l]:null,values:[y]})}).then(function(b){return b.numFailures?Z.reject(b.failures[0]):b.lastResult}).then(function(b){if(m)try{Qe(a,m,b)}catch{}return b})},Ke.prototype.update=function(a,l){return typeof a!="object"||o(a)?this.where(":id").equals(a).modify(l):(a=ut(a,this.schema.primKey.keyPath),a===void 0?it(new oe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(a).modify(l))},Ke.prototype.put=function(a,l){var d=this,f=this.schema.primKey,p=f.auto,m=f.keyPath,y=a;return m&&p&&(y=ec(m)(a)),this._trans("readwrite",function(b){return d.core.mutate({trans:b,type:"put",values:[y],keys:l!=null?[l]:null})}).then(function(b){return b.numFailures?Z.reject(b.failures[0]):b.lastResult}).then(function(b){if(m)try{Qe(a,m,b)}catch{}return b})},Ke.prototype.delete=function(a){var l=this;return this._trans("readwrite",function(d){return l.core.mutate({trans:d,type:"delete",keys:[a]})}).then(function(d){return d.numFailures?Z.reject(d.failures[0]):void 0})},Ke.prototype.clear=function(){var a=this;return this._trans("readwrite",function(l){return a.core.mutate({trans:l,type:"deleteRange",range:iy})}).then(function(l){return l.numFailures?Z.reject(l.failures[0]):void 0})},Ke.prototype.bulkGet=function(a){var l=this;return this._trans("readonly",function(d){return l.core.getMany({keys:a,trans:d}).then(function(f){return f.map(function(p){return l.hook.reading.fire(p)})})})},Ke.prototype.bulkAdd=function(a,l,d){var f=this,p=Array.isArray(l)?l:void 0,m=(d=d||(p?void 0:l))?d.allKeys:void 0;return this._trans("readwrite",function(y){var I=f.schema.primKey,b=I.auto,I=I.keyPath;if(I&&p)throw new oe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(p&&p.length!==a.length)throw new oe.InvalidArgument("Arguments objects and keys must have the same length");var C=a.length,I=I&&b?a.map(ec(I)):a;return f.core.mutate({trans:y,type:"add",keys:p,values:I,wantResults:m}).then(function(T){var D=T.numFailures,O=T.results,E=T.lastResult,T=T.failures;if(D===0)return m?O:E;throw new Gi("".concat(f.name,".bulkAdd(): ").concat(D," of ").concat(C," operations failed"),T)})})},Ke.prototype.bulkPut=function(a,l,d){var f=this,p=Array.isArray(l)?l:void 0,m=(d=d||(p?void 0:l))?d.allKeys:void 0;return this._trans("readwrite",function(y){var I=f.schema.primKey,b=I.auto,I=I.keyPath;if(I&&p)throw new oe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(p&&p.length!==a.length)throw new oe.InvalidArgument("Arguments objects and keys must have the same length");var C=a.length,I=I&&b?a.map(ec(I)):a;return f.core.mutate({trans:y,type:"put",keys:p,values:I,wantResults:m}).then(function(T){var D=T.numFailures,O=T.results,E=T.lastResult,T=T.failures;if(D===0)return m?O:E;throw new Gi("".concat(f.name,".bulkPut(): ").concat(D," of ").concat(C," operations failed"),T)})})},Ke.prototype.bulkUpdate=function(a){var l=this,d=this.core,f=a.map(function(y){return y.key}),p=a.map(function(y){return y.changes}),m=[];return this._trans("readwrite",function(y){return d.getMany({trans:y,keys:f,cache:"clone"}).then(function(b){var C=[],I=[];a.forEach(function(D,O){var E=D.key,T=D.changes,x=b[O];if(x){for(var M=0,R=Object.keys(T);M<R.length;M++){var P=R[M],k=T[P];if(P===l.schema.primKey.keyPath){if(Re(k,E)!==0)throw new oe.Constraint("Cannot update primary key in bulkUpdate()")}else Qe(x,P,k)}m.push(O),C.push(E),I.push(x)}});var A=C.length;return d.mutate({trans:y,type:"put",keys:C,values:I,updates:{keys:f,changeSpecs:p}}).then(function(D){var O=D.numFailures,E=D.failures;if(O===0)return A;for(var T=0,x=Object.keys(E);T<x.length;T++){var M,R=x[T],P=m[Number(R)];P!=null&&(M=E[R],delete E[R],E[P]=M)}throw new Gi("".concat(l.name,".bulkUpdate(): ").concat(O," of ").concat(A," operations failed"),E)})})})},Ke.prototype.bulkDelete=function(a){var l=this,d=a.length;return this._trans("readwrite",function(f){return l.core.mutate({trans:f,type:"delete",keys:a})}).then(function(y){var p=y.numFailures,m=y.lastResult,y=y.failures;if(p===0)return m;throw new Gi("".concat(l.name,".bulkDelete(): ").concat(p," of ").concat(d," operations failed"),y)})},Ke);function Ke(){}function us(a){function l(y,b){if(b){for(var C=arguments.length,I=new Array(C-1);--C;)I[C-1]=arguments[C];return d[y].subscribe.apply(null,I),a}if(typeof y=="string")return d[y]}var d={};l.addEventType=m;for(var f=1,p=arguments.length;f<p;++f)m(arguments[f]);return l;function m(y,b,C){if(typeof y!="object"){var I;b=b||N0;var A={subscribers:[],fire:C=C||Le,subscribe:function(D){A.subscribers.indexOf(D)===-1&&(A.subscribers.push(D),A.fire=b(A.fire,D))},unsubscribe:function(D){A.subscribers=A.subscribers.filter(function(O){return O!==D}),A.fire=A.subscribers.reduce(b,C)}};return d[y]=l[y]=A}i(I=y).forEach(function(D){var O=I[D];if(o(O))m(D,I[D][0],I[D][1]);else{if(O!=="asap")throw new oe.InvalidArgument("Invalid event config");var E=m(D,os,function(){for(var T=arguments.length,x=new Array(T);T--;)x[T]=arguments[T];E.subscribers.forEach(function(M){Pe(function(){M.apply(null,x)})})})}})}}function ds(a,l){return _(l).from({prototype:a}),l}function Zi(a,l){return!(a.filter||a.algorithm||a.or)&&(l?a.justLimit:!a.replayFilter)}function Wd(a,l){a.filter=ni(a.filter,l)}function qd(a,l,d){var f=a.replayFilter;a.replayFilter=f?function(){return ni(f(),l())}:l,a.justLimit=d&&!f}function tc(a,l){if(a.isPrimKey)return l.primaryKey;var d=l.getIndexByKeyPath(a.index);if(!d)throw new oe.Schema("KeyPath "+a.index+" on object store "+l.name+" is not indexed");return d}function ly(a,l,d){var f=tc(a,l.schema);return l.openCursor({trans:d,values:!a.keysOnly,reverse:a.dir==="prev",unique:!!a.unique,query:{index:f,range:a.range}})}function nc(a,l,d,f){var p=a.replayFilter?ni(a.filter,a.replayFilter()):a.filter;if(a.or){var m={},y=function(b,C,I){var A,D;p&&!p(C,I,function(O){return C.stop(O)},function(O){return C.fail(O)})||((D=""+(A=C.primaryKey))=="[object ArrayBuffer]"&&(D=""+new Uint8Array(A)),h(m,D)||(m[D]=!0,l(b,C,I)))};return Promise.all([a.or._iterate(y,d),uy(ly(a,f,d),a.algorithm,y,!a.keysOnly&&a.valueMapper)])}return uy(ly(a,f,d),ni(a.algorithm,p),l,!a.keysOnly&&a.valueMapper)}function uy(a,l,d,f){var p=Je(f?function(m,y,b){return d(f(m),y,b)}:d);return a.then(function(m){if(m)return m.start(function(){var y=function(){return m.continue()};l&&!l(m,function(b){return y=b},function(b){m.stop(b),y=Le},function(b){m.fail(b),y=Le})||p(m.value,m,function(b){return y=b}),y()})})}var fs=(dy.prototype.execute=function(a){var l=this["@@propmod"];if(l.add!==void 0){var d=l.add;if(o(d))return n(n([],o(a)?a:[],!0),d,!0).sort();if(typeof d=="number")return(Number(a)||0)+d;if(typeof d=="bigint")try{return BigInt(a)+d}catch{return BigInt(0)+d}throw new TypeError("Invalid term ".concat(d))}if(l.remove!==void 0){var f=l.remove;if(o(f))return o(a)?a.filter(function(p){return!f.includes(p)}).sort():[];if(typeof f=="number")return Number(a)-f;if(typeof f=="bigint")try{return BigInt(a)-f}catch{return BigInt(0)-f}throw new TypeError("Invalid subtrahend ".concat(f))}return d=(d=l.replacePrefix)===null||d===void 0?void 0:d[0],d&&typeof a=="string"&&a.startsWith(d)?l.replacePrefix[1]+a.substring(d.length):a},dy);function dy(a){this["@@propmod"]=a}var j0=(Ne.prototype._read=function(a,l){var d=this._ctx;return d.error?d.table._trans(null,it.bind(null,d.error)):d.table._trans("readonly",a).then(l)},Ne.prototype._write=function(a){var l=this._ctx;return l.error?l.table._trans(null,it.bind(null,l.error)):l.table._trans("readwrite",a,"locked")},Ne.prototype._addAlgorithm=function(a){var l=this._ctx;l.algorithm=ni(l.algorithm,a)},Ne.prototype._iterate=function(a,l){return nc(this._ctx,a,l,this._ctx.table.core)},Ne.prototype.clone=function(a){var l=Object.create(this.constructor.prototype),d=Object.create(this._ctx);return a&&s(d,a),l._ctx=d,l},Ne.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ne.prototype.each=function(a){var l=this._ctx;return this._read(function(d){return nc(l,a,d,l.table.core)})},Ne.prototype.count=function(a){var l=this;return this._read(function(d){var f=l._ctx,p=f.table.core;if(Zi(f,!0))return p.count({trans:d,query:{index:tc(f,p.schema),range:f.range}}).then(function(y){return Math.min(y,f.limit)});var m=0;return nc(f,function(){return++m,!1},d,p).then(function(){return m})}).then(a)},Ne.prototype.sortBy=function(a,l){var d=a.split(".").reverse(),f=d[0],p=d.length-1;function m(C,I){return I?m(C[d[I]],I-1):C[f]}var y=this._ctx.dir==="next"?1:-1;function b(C,I){return Re(m(C,p),m(I,p))*y}return this.toArray(function(C){return C.sort(b)}).then(l)},Ne.prototype.toArray=function(a){var l=this;return this._read(function(d){var f=l._ctx;if(f.dir==="next"&&Zi(f,!0)&&0<f.limit){var p=f.valueMapper,m=tc(f,f.table.core.schema);return f.table.core.query({trans:d,limit:f.limit,values:!0,query:{index:m,range:f.range}}).then(function(b){return b=b.result,p?b.map(p):b})}var y=[];return nc(f,function(b){return y.push(b)},d,f.table.core).then(function(){return y})},a)},Ne.prototype.offset=function(a){var l=this._ctx;return a<=0||(l.offset+=a,Zi(l)?qd(l,function(){var d=a;return function(f,p){return d===0||(d===1?--d:p(function(){f.advance(d),d=0}),!1)}}):qd(l,function(){var d=a;return function(){return--d<0}})),this},Ne.prototype.limit=function(a){return this._ctx.limit=Math.min(this._ctx.limit,a),qd(this._ctx,function(){var l=a;return function(d,f,p){return--l<=0&&f(p),0<=l}},!0),this},Ne.prototype.until=function(a,l){return Wd(this._ctx,function(d,f,p){return!a(d.value)||(f(p),l)}),this},Ne.prototype.first=function(a){return this.limit(1).toArray(function(l){return l[0]}).then(a)},Ne.prototype.last=function(a){return this.reverse().first(a)},Ne.prototype.filter=function(a){var l;return Wd(this._ctx,function(d){return a(d.value)}),(l=this._ctx).isMatch=ni(l.isMatch,a),this},Ne.prototype.and=function(a){return this.filter(a)},Ne.prototype.or=function(a){return new this.db.WhereClause(this._ctx.table,a,this)},Ne.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ne.prototype.desc=function(){return this.reverse()},Ne.prototype.eachKey=function(a){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(d,f){a(f.key,f)})},Ne.prototype.eachUniqueKey=function(a){return this._ctx.unique="unique",this.eachKey(a)},Ne.prototype.eachPrimaryKey=function(a){var l=this._ctx;return l.keysOnly=!l.isMatch,this.each(function(d,f){a(f.primaryKey,f)})},Ne.prototype.keys=function(a){var l=this._ctx;l.keysOnly=!l.isMatch;var d=[];return this.each(function(f,p){d.push(p.key)}).then(function(){return d}).then(a)},Ne.prototype.primaryKeys=function(a){var l=this._ctx;if(l.dir==="next"&&Zi(l,!0)&&0<l.limit)return this._read(function(f){var p=tc(l,l.table.core.schema);return l.table.core.query({trans:f,values:!1,limit:l.limit,query:{index:p,range:l.range}})}).then(function(f){return f.result}).then(a);l.keysOnly=!l.isMatch;var d=[];return this.each(function(f,p){d.push(p.primaryKey)}).then(function(){return d}).then(a)},Ne.prototype.uniqueKeys=function(a){return this._ctx.unique="unique",this.keys(a)},Ne.prototype.firstKey=function(a){return this.limit(1).keys(function(l){return l[0]}).then(a)},Ne.prototype.lastKey=function(a){return this.reverse().firstKey(a)},Ne.prototype.distinct=function(){var a=this._ctx,a=a.index&&a.table.schema.idxByName[a.index];if(!a||!a.multi)return this;var l={};return Wd(this._ctx,function(p){var f=p.primaryKey.toString(),p=h(l,f);return l[f]=!0,!p}),this},Ne.prototype.modify=function(a){var l=this,d=this._ctx;return this._write(function(f){var p,m,y;y=typeof a=="function"?a:(p=i(a),m=p.length,function(M){for(var R=!1,P=0;P<m;++P){var k=p[P],F=a[k],H=ut(M,k);F instanceof fs?(Qe(M,k,F.execute(H)),R=!0):H!==F&&(Qe(M,k,F),R=!0)}return R});var b=d.table.core,D=b.schema.primaryKey,C=D.outbound,I=D.extractKey,A=200,D=l.db._options.modifyChunkSize;D&&(A=typeof D=="object"?D[b.name]||D["*"]||200:D);function O(M,k){var P=k.failures,k=k.numFailures;T+=M-k;for(var F=0,H=i(P);F<H.length;F++){var q=H[F];E.push(P[q])}}var E=[],T=0,x=[];return l.clone().primaryKeys().then(function(M){function R(k){var F=Math.min(A,M.length-k);return b.getMany({trans:f,keys:M.slice(k,k+F),cache:"immutable"}).then(function(H){for(var q=[],$=[],z=C?[]:null,Y=[],W=0;W<F;++W){var Q=H[W],me={value:qr(Q),primKey:M[k+W]};y.call(me,me.value,me)!==!1&&(me.value==null?Y.push(M[k+W]):C||Re(I(Q),I(me.value))===0?($.push(me.value),C&&z.push(M[k+W])):(Y.push(M[k+W]),q.push(me.value)))}return Promise.resolve(0<q.length&&b.mutate({trans:f,type:"add",values:q}).then(function(Ee){for(var Ie in Ee.failures)Y.splice(parseInt(Ie),1);O(q.length,Ee)})).then(function(){return(0<$.length||P&&typeof a=="object")&&b.mutate({trans:f,type:"put",keys:z,values:$,criteria:P,changeSpec:typeof a!="function"&&a,isAdditionalChunk:0<k}).then(function(Ee){return O($.length,Ee)})}).then(function(){return(0<Y.length||P&&a===Kd)&&b.mutate({trans:f,type:"delete",keys:Y,criteria:P,isAdditionalChunk:0<k}).then(function(Ee){return O(Y.length,Ee)})}).then(function(){return M.length>k+F&&R(k+A)})})}var P=Zi(d)&&d.limit===1/0&&(typeof a!="function"||a===Kd)&&{index:d.index,range:d.range};return R(0).then(function(){if(0<E.length)throw new $a("Error modifying one or more objects",E,T,x);return M.length})})})},Ne.prototype.delete=function(){var a=this._ctx,l=a.range;return Zi(a)&&(a.isPrimKey||l.type===3)?this._write(function(d){var f=a.table.core.schema.primaryKey,p=l;return a.table.core.count({trans:d,query:{index:f,range:p}}).then(function(m){return a.table.core.mutate({trans:d,type:"deleteRange",range:p}).then(function(y){var b=y.failures;if(y.lastResult,y.results,y=y.numFailures,y)throw new $a("Could not delete some values",Object.keys(b).map(function(C){return b[C]}),m-y);return m-y})})}):this.modify(Kd)},Ne);function Ne(){}var Kd=function(a,l){return l.value=null};function B0(a,l){return a<l?-1:a===l?0:1}function U0(a,l){return l<a?-1:a===l?0:1}function qt(a,l,d){return a=a instanceof hy?new a.Collection(a):a,a._ctx.error=new(d||TypeError)(l),a}function Xi(a){return new a.Collection(a,function(){return fy("")}).limit(0)}function rc(a,l,d,f){var p,m,y,b,C,I,A,D=d.length;if(!d.every(function(T){return typeof T=="string"}))return qt(a,ry);function O(T){p=T==="next"?function(M){return M.toUpperCase()}:function(M){return M.toLowerCase()},m=T==="next"?function(M){return M.toLowerCase()}:function(M){return M.toUpperCase()},y=T==="next"?B0:U0;var x=d.map(function(M){return{lower:m(M),upper:p(M)}}).sort(function(M,R){return y(M.lower,R.lower)});b=x.map(function(M){return M.upper}),C=x.map(function(M){return M.lower}),A=(I=T)==="next"?"":f}O("next"),a=new a.Collection(a,function(){return _r(b[0],C[D-1]+f)}),a._ondirectionchange=function(T){O(T)};var E=0;return a._addAlgorithm(function(T,x,M){var R=T.key;if(typeof R!="string")return!1;var P=m(R);if(l(P,C,E))return!0;for(var k=null,F=E;F<D;++F){var H=function(q,$,z,Y,W,Q){for(var me=Math.min(q.length,Y.length),Ee=-1,Ie=0;Ie<me;++Ie){var Kt=$[Ie];if(Kt!==Y[Ie])return W(q[Ie],z[Ie])<0?q.substr(0,Ie)+z[Ie]+z.substr(Ie+1):W(q[Ie],Y[Ie])<0?q.substr(0,Ie)+Y[Ie]+z.substr(Ie+1):0<=Ee?q.substr(0,Ee)+$[Ee]+z.substr(Ee+1):null;W(q[Ie],Kt)<0&&(Ee=Ie)}return me<Y.length&&Q==="next"?q+z.substr(q.length):me<q.length&&Q==="prev"?q.substr(0,z.length):Ee<0?null:q.substr(0,Ee)+Y[Ee]+z.substr(Ee+1)}(R,P,b[F],C[F],y,I);H===null&&k===null?E=F+1:(k===null||0<y(k,H))&&(k=H)}return x(k!==null?function(){T.continue(k+A)}:M),!1}),a}function _r(a,l,d,f){return{type:2,lower:a,upper:l,lowerOpen:d,upperOpen:f}}function fy(a){return{type:1,lower:a,upper:a}}var hy=(Object.defineProperty(gt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),gt.prototype.between=function(a,l,d,f){d=d!==!1,f=f===!0;try{return 0<this._cmp(a,l)||this._cmp(a,l)===0&&(d||f)&&(!d||!f)?Xi(this):new this.Collection(this,function(){return _r(a,l,!d,!f)})}catch{return qt(this,Wn)}},gt.prototype.equals=function(a){return a==null?qt(this,Wn):new this.Collection(this,function(){return fy(a)})},gt.prototype.above=function(a){return a==null?qt(this,Wn):new this.Collection(this,function(){return _r(a,void 0,!0)})},gt.prototype.aboveOrEqual=function(a){return a==null?qt(this,Wn):new this.Collection(this,function(){return _r(a,void 0,!1)})},gt.prototype.below=function(a){return a==null?qt(this,Wn):new this.Collection(this,function(){return _r(void 0,a,!1,!0)})},gt.prototype.belowOrEqual=function(a){return a==null?qt(this,Wn):new this.Collection(this,function(){return _r(void 0,a)})},gt.prototype.startsWith=function(a){return typeof a!="string"?qt(this,ry):this.between(a,a+ti,!0,!0)},gt.prototype.startsWithIgnoreCase=function(a){return a===""?this.startsWith(a):rc(this,function(l,d){return l.indexOf(d[0])===0},[a],ti)},gt.prototype.equalsIgnoreCase=function(a){return rc(this,function(l,d){return l===d[0]},[a],"")},gt.prototype.anyOfIgnoreCase=function(){var a=Gn.apply($i,arguments);return a.length===0?Xi(this):rc(this,function(l,d){return d.indexOf(l)!==-1},a,"")},gt.prototype.startsWithAnyOfIgnoreCase=function(){var a=Gn.apply($i,arguments);return a.length===0?Xi(this):rc(this,function(l,d){return d.some(function(f){return l.indexOf(f)===0})},a,ti)},gt.prototype.anyOf=function(){var a=this,l=Gn.apply($i,arguments),d=this._cmp;try{l.sort(d)}catch{return qt(this,Wn)}if(l.length===0)return Xi(this);var f=new this.Collection(this,function(){return _r(l[0],l[l.length-1])});f._ondirectionchange=function(m){d=m==="next"?a._ascending:a._descending,l.sort(d)};var p=0;return f._addAlgorithm(function(m,y,b){for(var C=m.key;0<d(C,l[p]);)if(++p===l.length)return y(b),!1;return d(C,l[p])===0||(y(function(){m.continue(l[p])}),!1)}),f},gt.prototype.notEqual=function(a){return this.inAnyRange([[-1/0,a],[a,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},gt.prototype.noneOf=function(){var a=Gn.apply($i,arguments);if(a.length===0)return new this.Collection(this);try{a.sort(this._ascending)}catch{return qt(this,Wn)}var l=a.reduce(function(d,f){return d?d.concat([[d[d.length-1][1],f]]):[[-1/0,f]]},null);return l.push([a[a.length-1],this.db._maxKey]),this.inAnyRange(l,{includeLowers:!1,includeUppers:!1})},gt.prototype.inAnyRange=function(R,l){var d=this,f=this._cmp,p=this._ascending,m=this._descending,y=this._min,b=this._max;if(R.length===0)return Xi(this);if(!R.every(function(P){return P[0]!==void 0&&P[1]!==void 0&&p(P[0],P[1])<=0}))return qt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",oe.InvalidArgument);var C=!l||l.includeLowers!==!1,I=l&&l.includeUppers===!0,A,D=p;function O(P,k){return D(P[0],k[0])}try{(A=R.reduce(function(P,k){for(var F=0,H=P.length;F<H;++F){var q=P[F];if(f(k[0],q[1])<0&&0<f(k[1],q[0])){q[0]=y(q[0],k[0]),q[1]=b(q[1],k[1]);break}}return F===H&&P.push(k),P},[])).sort(O)}catch{return qt(this,Wn)}var E=0,T=I?function(P){return 0<p(P,A[E][1])}:function(P){return 0<=p(P,A[E][1])},x=C?function(P){return 0<m(P,A[E][0])}:function(P){return 0<=m(P,A[E][0])},M=T,R=new this.Collection(this,function(){return _r(A[0][0],A[A.length-1][1],!C,!I)});return R._ondirectionchange=function(P){D=P==="next"?(M=T,p):(M=x,m),A.sort(O)},R._addAlgorithm(function(P,k,F){for(var H,q=P.key;M(q);)if(++E===A.length)return k(F),!1;return!T(H=q)&&!x(H)||(d._cmp(q,A[E][1])===0||d._cmp(q,A[E][0])===0||k(function(){D===p?P.continue(A[E][0]):P.continue(A[E][1])}),!1)}),R},gt.prototype.startsWithAnyOf=function(){var a=Gn.apply($i,arguments);return a.every(function(l){return typeof l=="string"})?a.length===0?Xi(this):this.inAnyRange(a.map(function(l){return[l,l+ti]})):qt(this,"startsWithAnyOf() only works with strings")},gt);function gt(){}function In(a){return Je(function(l){return hs(l),a(l.target.error),!1})}function hs(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()}var ps="storagemutated",Yd="x-storagemutated-1",br=us(null,ps),H0=(Sn.prototype._lock=function(){return Te(!re.global),++this._reculock,this._reculock!==1||re.global||(re.lockOwnerFor=this),this},Sn.prototype._unlock=function(){if(Te(!re.global),--this._reculock==0)for(re.global||(re.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var a=this._blockedFuncs.shift();try{ei(a[1],a[0])}catch{}}return this},Sn.prototype._locked=function(){return this._reculock&&re.lockOwnerFor!==this},Sn.prototype.create=function(a){var l=this;if(!this.mode)return this;var d=this.db.idbdb,f=this.db._state.dbOpenError;if(Te(!this.idbtrans),!a&&!d)switch(f&&f.name){case"DatabaseClosedError":throw new oe.DatabaseClosed(f);case"MissingAPIError":throw new oe.MissingAPI(f.message,f);default:throw new oe.OpenFailed(f)}if(!this.active)throw new oe.TransactionInactive;return Te(this._completion._state===null),(a=this.idbtrans=a||(this.db.core||d).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Je(function(p){hs(p),l._reject(a.error)}),a.onabort=Je(function(p){hs(p),l.active&&l._reject(new oe.Abort(a.error)),l.active=!1,l.on("abort").fire(p)}),a.oncomplete=Je(function(){l.active=!1,l._resolve(),"mutatedParts"in a&&br.storagemutated.fire(a.mutatedParts)}),this},Sn.prototype._promise=function(a,l,d){var f=this;if(a==="readwrite"&&this.mode!=="readwrite")return it(new oe.ReadOnly("Transaction is readonly"));if(!this.active)return it(new oe.TransactionInactive);if(this._locked())return new Z(function(m,y){f._blockedFuncs.push([function(){f._promise(a,l,d).then(m,y)},re])});if(d)return mr(function(){var m=new Z(function(y,b){f._lock();var C=l(y,b,f);C&&C.then&&C.then(y,b)});return m.finally(function(){return f._unlock()}),m._lib=!0,m});var p=new Z(function(m,y){var b=l(m,y,f);b&&b.then&&b.then(m,y)});return p._lib=!0,p},Sn.prototype._root=function(){return this.parent?this.parent._root():this},Sn.prototype.waitFor=function(a){var l,d=this._root(),f=Z.resolve(a);d._waitingFor?d._waitingFor=d._waitingFor.then(function(){return f}):(d._waitingFor=f,d._waitingQueue=[],l=d.idbtrans.objectStore(d.storeNames[0]),function m(){for(++d._spinCount;d._waitingQueue.length;)d._waitingQueue.shift()();d._waitingFor&&(l.get(-1/0).onsuccess=m)}());var p=d._waitingFor;return new Z(function(m,y){f.then(function(b){return d._waitingQueue.push(Je(m.bind(null,b)))},function(b){return d._waitingQueue.push(Je(y.bind(null,b)))}).finally(function(){d._waitingFor===p&&(d._waitingFor=null)})})},Sn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new oe.Abort))},Sn.prototype.table=function(a){var l=this._memoizedTables||(this._memoizedTables={});if(h(l,a))return l[a];var d=this.schema[a];if(!d)throw new oe.NotFound("Table "+a+" not part of transaction");return d=new this.db.Table(a,d,this),d.core=this.db.core.table(a),l[a]=d},Sn);function Sn(){}function Zd(a,l,d,f,p,m,y){return{name:a,keyPath:l,unique:d,multi:f,auto:p,compound:m,src:(d&&!y?"&":"")+(f?"*":"")+(p?"++":"")+py(l)}}function py(a){return typeof a=="string"?a:a?"["+[].join.call(a,"+")+"]":""}function Xd(a,l,d){return{name:a,primKey:l,indexes:d,mappedClass:null,idxByName:(f=function(p){return[p.name,p]},d.reduce(function(p,m,y){return y=f(m,y),y&&(p[y[0]]=y[1]),p},{}))};var f}var gs=function(a){try{return a.only([[]]),gs=function(){return[[]]},[[]]}catch{return gs=function(){return ti},ti}};function Qd(a){return a==null?function(){}:typeof a=="string"?(l=a).split(".").length===1?function(d){return d[l]}:function(d){return ut(d,l)}:function(d){return ut(d,a)};var l}function gy(a){return[].slice.call(a)}var $0=0;function ms(a){return a==null?":id":typeof a=="string"?a:"[".concat(a.join("+"),"]")}function z0(a,l,C){function f(M){if(M.type===3)return null;if(M.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var E=M.lower,T=M.upper,x=M.lowerOpen,M=M.upperOpen;return E===void 0?T===void 0?null:l.upperBound(T,!!M):T===void 0?l.lowerBound(E,!!x):l.bound(E,T,!!x,!!M)}function p(O){var E,T=O.name;return{name:T,schema:O,mutate:function(x){var M=x.trans,R=x.type,P=x.keys,k=x.values,F=x.range;return new Promise(function(H,q){H=Je(H);var $=M.objectStore(T),z=$.keyPath==null,Y=R==="put"||R==="add";if(!Y&&R!=="delete"&&R!=="deleteRange")throw new Error("Invalid operation type: "+R);var W,Q=(P||k||{length:1}).length;if(P&&k&&P.length!==k.length)throw new Error("Given keys array must have same length as given values array.");if(Q===0)return H({numFailures:0,failures:{},results:[],lastResult:void 0});function me(Rt){++Kt,hs(Rt)}var Ee=[],Ie=[],Kt=0;if(R==="deleteRange"){if(F.type===4)return H({numFailures:Kt,failures:Ie,results:[],lastResult:void 0});F.type===3?Ee.push(W=$.clear()):Ee.push(W=$.delete(f(F)))}else{var z=Y?z?[k,P]:[k,null]:[P,null],he=z[0],It=z[1];if(Y)for(var St=0;St<Q;++St)Ee.push(W=It&&It[St]!==void 0?$[R](he[St],It[St]):$[R](he[St])),W.onerror=me;else for(St=0;St<Q;++St)Ee.push(W=$[R](he[St])),W.onerror=me}function mc(Rt){Rt=Rt.target.result,Ee.forEach(function(oi,yf){return oi.error!=null&&(Ie[yf]=oi.error)}),H({numFailures:Kt,failures:Ie,results:R==="delete"?P:Ee.map(function(oi){return oi.result}),lastResult:Rt})}W.onerror=function(Rt){me(Rt),mc(Rt)},W.onsuccess=mc})},getMany:function(x){var M=x.trans,R=x.keys;return new Promise(function(P,k){P=Je(P);for(var F,H=M.objectStore(T),q=R.length,$=new Array(q),z=0,Y=0,W=function(Ee){Ee=Ee.target,$[Ee._pos]=Ee.result,++Y===z&&P($)},Q=In(k),me=0;me<q;++me)R[me]!=null&&((F=H.get(R[me]))._pos=me,F.onsuccess=W,F.onerror=Q,++z);z===0&&P($)})},get:function(x){var M=x.trans,R=x.key;return new Promise(function(P,k){P=Je(P);var F=M.objectStore(T).get(R);F.onsuccess=function(H){return P(H.target.result)},F.onerror=In(k)})},query:(E=I,function(x){return new Promise(function(M,R){M=Je(M);var P,k,F,z=x.trans,H=x.values,q=x.limit,W=x.query,$=q===1/0?void 0:q,Y=W.index,W=W.range,z=z.objectStore(T),Y=Y.isPrimaryKey?z:z.index(Y.name),W=f(W);if(q===0)return M({result:[]});E?(($=H?Y.getAll(W,$):Y.getAllKeys(W,$)).onsuccess=function(Q){return M({result:Q.target.result})},$.onerror=In(R)):(P=0,k=!H&&"openKeyCursor"in Y?Y.openKeyCursor(W):Y.openCursor(W),F=[],k.onsuccess=function(Q){var me=k.result;return me?(F.push(H?me.value:me.primaryKey),++P===q?M({result:F}):void me.continue()):M({result:F})},k.onerror=In(R))})}),openCursor:function(x){var M=x.trans,R=x.values,P=x.query,k=x.reverse,F=x.unique;return new Promise(function(H,q){H=Je(H);var Y=P.index,$=P.range,z=M.objectStore(T),z=Y.isPrimaryKey?z:z.index(Y.name),Y=k?F?"prevunique":"prev":F?"nextunique":"next",W=!R&&"openKeyCursor"in z?z.openKeyCursor(f($),Y):z.openCursor(f($),Y);W.onerror=In(q),W.onsuccess=Je(function(Q){var me,Ee,Ie,Kt,he=W.result;he?(he.___id=++$0,he.done=!1,me=he.continue.bind(he),Ee=(Ee=he.continuePrimaryKey)&&Ee.bind(he),Ie=he.advance.bind(he),Kt=function(){throw new Error("Cursor not stopped")},he.trans=M,he.stop=he.continue=he.continuePrimaryKey=he.advance=function(){throw new Error("Cursor not started")},he.fail=Je(q),he.next=function(){var It=this,St=1;return this.start(function(){return St--?It.continue():It.stop()}).then(function(){return It})},he.start=function(It){function St(){if(W.result)try{It()}catch(Rt){he.fail(Rt)}else he.done=!0,he.start=function(){throw new Error("Cursor behind last entry")},he.stop()}var mc=new Promise(function(Rt,oi){Rt=Je(Rt),W.onerror=In(oi),he.fail=oi,he.stop=function(yf){he.stop=he.continue=he.continuePrimaryKey=he.advance=Kt,Rt(yf)}});return W.onsuccess=Je(function(Rt){W.onsuccess=St,St()}),he.continue=me,he.continuePrimaryKey=Ee,he.advance=Ie,St(),mc},H(he)):H(null)},q)})},count:function(x){var M=x.query,R=x.trans,P=M.index,k=M.range;return new Promise(function(F,H){var q=R.objectStore(T),$=P.isPrimaryKey?q:q.index(P.name),q=f(k),$=q?$.count(q):$.count();$.onsuccess=Je(function(z){return F(z.target.result)}),$.onerror=In(H)})}}}var m,y,b,A=(y=C,b=gy((m=a).objectStoreNames),{schema:{name:m.name,tables:b.map(function(O){return y.objectStore(O)}).map(function(O){var E=O.keyPath,M=O.autoIncrement,T=o(E),x={},M={name:O.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:E==null,compound:T,keyPath:E,autoIncrement:M,unique:!0,extractKey:Qd(E)},indexes:gy(O.indexNames).map(function(R){return O.index(R)}).map(function(F){var P=F.name,k=F.unique,H=F.multiEntry,F=F.keyPath,H={name:P,compound:o(F),keyPath:F,unique:k,multiEntry:H,extractKey:Qd(F)};return x[ms(F)]=H}),getIndexByKeyPath:function(R){return x[ms(R)]}};return x[":id"]=M.primaryKey,E!=null&&(x[ms(E)]=M.primaryKey),M})},hasGetAll:0<b.length&&"getAll"in y.objectStore(b[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),C=A.schema,I=A.hasGetAll,A=C.tables.map(p),D={};return A.forEach(function(O){return D[O.name]=O}),{stack:"dbcore",transaction:a.transaction.bind(a),table:function(O){if(!D[O])throw new Error("Table '".concat(O,"' not found"));return D[O]},MIN_KEY:-1/0,MAX_KEY:gs(l),schema:C}}function G0(a,l,d,f){var p=d.IDBKeyRange;return d.indexedDB,{dbcore:(f=z0(l,p,f),a.dbcore.reduce(function(m,y){return y=y.create,t(t({},m),y(m))},f))}}function ic(a,f){var d=f.db,f=G0(a._middlewares,d,a._deps,f);a.core=f.dbcore,a.tables.forEach(function(p){var m=p.name;a.core.schema.tables.some(function(y){return y.name===m})&&(p.core=a.core.table(m),a[m]instanceof a.Table&&(a[m].core=p.core))})}function oc(a,l,d,f){d.forEach(function(p){var m=f[p];l.forEach(function(y){var b=function C(I,A){return N(I,A)||(I=c(I))&&C(I,A)}(y,p);(!b||"value"in b&&b.value===void 0)&&(y===a.Transaction.prototype||y instanceof a.Transaction?S(y,p,{get:function(){return this.table(p)},set:function(C){v(this,p,{value:C,writable:!0,configurable:!0,enumerable:!0})}}):y[p]=new a.Table(p,m))})})}function Jd(a,l){l.forEach(function(d){for(var f in d)d[f]instanceof a.Table&&delete d[f]})}function W0(a,l){return a._cfg.version-l._cfg.version}function q0(a,l,d,f){var p=a._dbSchema;d.objectStoreNames.contains("$meta")&&!p.$meta&&(p.$meta=Xd("$meta",yy("")[0],[]),a._storeNames.push("$meta"));var m=a._createTransaction("readwrite",a._storeNames,p);m.create(d),m._completion.catch(f);var y=m._reject.bind(m),b=re.transless||re;mr(function(){return re.trans=m,re.transless=b,l!==0?(ic(a,d),I=l,((C=m).storeNames.includes("$meta")?C.table("$meta").get("version").then(function(A){return A??I}):Z.resolve(I)).then(function(A){return O=A,E=m,T=d,x=[],A=(D=a)._versions,M=D._dbSchema=ac(0,D.idbdb,T),(A=A.filter(function(R){return R._cfg.version>=O})).length!==0?(A.forEach(function(R){x.push(function(){var P=M,k=R._cfg.dbschema;cc(D,P,T),cc(D,k,T),M=D._dbSchema=k;var F=ef(P,k);F.add.forEach(function(Y){tf(T,Y[0],Y[1].primKey,Y[1].indexes)}),F.change.forEach(function(Y){if(Y.recreate)throw new oe.Upgrade("Not yet support for changing primary key");var W=T.objectStore(Y.name);Y.add.forEach(function(Q){return sc(W,Q)}),Y.change.forEach(function(Q){W.deleteIndex(Q.name),sc(W,Q)}),Y.del.forEach(function(Q){return W.deleteIndex(Q)})});var H=R._cfg.contentUpgrade;if(H&&R._cfg.version>O){ic(D,T),E._memoizedTables={};var q=pr(k);F.del.forEach(function(Y){q[Y]=P[Y]}),Jd(D,[D.Transaction.prototype]),oc(D,[D.Transaction.prototype],i(q),q),E.schema=q;var $,z=Nd(H);return z&&Ki(),F=Z.follow(function(){var Y;($=H(E))&&z&&(Y=yr.bind(null,null),$.then(Y,Y))}),$&&typeof $.then=="function"?Z.resolve($):F.then(function(){return $})}}),x.push(function(P){var k,F,H=R._cfg.dbschema;k=H,F=P,[].slice.call(F.db.objectStoreNames).forEach(function(q){return k[q]==null&&F.db.deleteObjectStore(q)}),Jd(D,[D.Transaction.prototype]),oc(D,[D.Transaction.prototype],D._storeNames,D._dbSchema),E.schema=D._dbSchema}),x.push(function(P){D.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(D.idbdb.version/10)===R._cfg.version?(D.idbdb.deleteObjectStore("$meta"),delete D._dbSchema.$meta,D._storeNames=D._storeNames.filter(function(k){return k!=="$meta"})):P.objectStore("$meta").put(R._cfg.version,"version"))})}),function R(){return x.length?Z.resolve(x.shift()(E.idbtrans)).then(R):Z.resolve()}().then(function(){my(M,T)})):Z.resolve();var D,O,E,T,x,M}).catch(y)):(i(p).forEach(function(A){tf(d,A,p[A].primKey,p[A].indexes)}),ic(a,d),void Z.follow(function(){return a.on.populate.fire(m)}).catch(y));var C,I})}function K0(a,l){my(a._dbSchema,l),l.db.version%10!=0||l.objectStoreNames.contains("$meta")||l.db.createObjectStore("$meta").add(Math.ceil(l.db.version/10-1),"version");var d=ac(0,a.idbdb,l);cc(a,a._dbSchema,l);for(var f=0,p=ef(d,a._dbSchema).change;f<p.length;f++){var m=function(y){if(y.change.length||y.recreate)return console.warn("Unable to patch indexes of table ".concat(y.name," because it has changes on the type of index or primary key.")),{value:void 0};var b=l.objectStore(y.name);y.add.forEach(function(C){En&&console.debug("Dexie upgrade patch: Creating missing index ".concat(y.name,".").concat(C.src)),sc(b,C)})}(p[f]);if(typeof m=="object")return m.value}}function ef(a,l){var d,f={del:[],add:[],change:[]};for(d in a)l[d]||f.del.push(d);for(d in l){var p=a[d],m=l[d];if(p){var y={name:d,def:m,recreate:!1,del:[],add:[],change:[]};if(""+(p.primKey.keyPath||"")!=""+(m.primKey.keyPath||"")||p.primKey.auto!==m.primKey.auto)y.recreate=!0,f.change.push(y);else{var b=p.idxByName,C=m.idxByName,I=void 0;for(I in b)C[I]||y.del.push(I);for(I in C){var A=b[I],D=C[I];A?A.src!==D.src&&y.change.push(D):y.add.push(D)}(0<y.del.length||0<y.add.length||0<y.change.length)&&f.change.push(y)}}else f.add.push([d,m])}return f}function tf(a,l,d,f){var p=a.db.createObjectStore(l,d.keyPath?{keyPath:d.keyPath,autoIncrement:d.auto}:{autoIncrement:d.auto});return f.forEach(function(m){return sc(p,m)}),p}function my(a,l){i(a).forEach(function(d){l.db.objectStoreNames.contains(d)||(En&&console.debug("Dexie: Creating missing table",d),tf(l,d,a[d].primKey,a[d].indexes))})}function sc(a,l){a.createIndex(l.name,l.keyPath,{unique:l.unique,multiEntry:l.multi})}function ac(a,l,d){var f={};return G(l.objectStoreNames,0).forEach(function(p){for(var m=d.objectStore(p),y=Zd(py(I=m.keyPath),I||"",!0,!1,!!m.autoIncrement,I&&typeof I!="string",!0),b=[],C=0;C<m.indexNames.length;++C){var A=m.index(m.indexNames[C]),I=A.keyPath,A=Zd(A.name,I,!!A.unique,!!A.multiEntry,!1,I&&typeof I!="string",!1);b.push(A)}f[p]=Xd(p,y,b)}),f}function cc(a,l,d){for(var f=d.db.objectStoreNames,p=0;p<f.length;++p){var m=f[p],y=d.objectStore(m);a._hasGetAll="getAll"in y;for(var b=0;b<y.indexNames.length;++b){var C=y.indexNames[b],I=y.index(C).keyPath,A=typeof I=="string"?I:"["+G(I).join("+")+"]";!l[m]||(I=l[m].idxByName[A])&&(I.name=C,delete l[m].idxByName[A],l[m].idxByName[C]=I)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(a._hasGetAll=!1)}function yy(a){return a.split(",").map(function(l,d){var f=(l=l.trim()).replace(/([&*]|\+\+)/g,""),p=/^\[/.test(f)?f.match(/^\[(.*)\]$/)[1].split("+"):f;return Zd(f,p||null,/\&/.test(l),/\*/.test(l),/\+\+/.test(l),o(p),d===0)})}var Y0=(lc.prototype._parseStoresSpec=function(a,l){i(a).forEach(function(d){if(a[d]!==null){var f=yy(a[d]),p=f.shift();if(p.unique=!0,p.multi)throw new oe.Schema("Primary key cannot be multi-valued");f.forEach(function(m){if(m.auto)throw new oe.Schema("Only primary key can be marked as autoIncrement (++)");if(!m.keyPath)throw new oe.Schema("Index must have a name and cannot be an empty string")}),l[d]=Xd(d,p,f)}})},lc.prototype.stores=function(d){var l=this.db;this._cfg.storesSource=this._cfg.storesSource?s(this._cfg.storesSource,d):d;var d=l._versions,f={},p={};return d.forEach(function(m){s(f,m._cfg.storesSource),p=m._cfg.dbschema={},m._parseStoresSpec(f,p)}),l._dbSchema=p,Jd(l,[l._allTables,l,l.Transaction.prototype]),oc(l,[l._allTables,l,l.Transaction.prototype,this._cfg.tables],i(p),p),l._storeNames=i(p),this},lc.prototype.upgrade=function(a){return this._cfg.contentUpgrade=kd(this._cfg.contentUpgrade||Le,a),this},lc);function lc(){}function nf(a,l){var d=a._dbNamesDB;return d||(d=a._dbNamesDB=new qn(Ja,{addons:[],indexedDB:a,IDBKeyRange:l})).version(1).stores({dbnames:"name"}),d.table("dbnames")}function rf(a){return a&&typeof a.databases=="function"}function of(a){return mr(function(){return re.letThrough=!0,a()})}function sf(a){return!("from"in a)}var Et=function(a,l){if(!this){var d=new Et;return a&&"d"in a&&s(d,a),d}s(this,arguments.length?{d:1,from:a,to:1<arguments.length?l:a}:{d:0})};function ys(a,l,d){var f=Re(l,d);if(!isNaN(f)){if(0<f)throw RangeError();if(sf(a))return s(a,{from:l,to:d,d:1});var p=a.l,f=a.r;if(Re(d,a.from)<0)return p?ys(p,l,d):a.l={from:l,to:d,d:1,l:null,r:null},_y(a);if(0<Re(l,a.to))return f?ys(f,l,d):a.r={from:l,to:d,d:1,l:null,r:null},_y(a);Re(l,a.from)<0&&(a.from=l,a.l=null,a.d=f?f.d+1:1),0<Re(d,a.to)&&(a.to=d,a.r=null,a.d=a.l?a.l.d+1:1),d=!a.r,p&&!a.l&&vs(a,p),f&&d&&vs(a,f)}}function vs(a,l){sf(l)||function d(f,C){var m=C.from,y=C.to,b=C.l,C=C.r;ys(f,m,y),b&&d(f,b),C&&d(f,C)}(a,l)}function vy(a,l){var d=uc(l),f=d.next();if(f.done)return!1;for(var p=f.value,m=uc(a),y=m.next(p.from),b=y.value;!f.done&&!y.done;){if(Re(b.from,p.to)<=0&&0<=Re(b.to,p.from))return!0;Re(p.from,b.from)<0?p=(f=d.next(b.from)).value:b=(y=m.next(p.from)).value}return!1}function uc(a){var l=sf(a)?null:{s:0,n:a};return{next:function(d){for(var f=0<arguments.length;l;)switch(l.s){case 0:if(l.s=1,f)for(;l.n.l&&Re(d,l.n.from)<0;)l={up:l,n:l.n.l,s:1};else for(;l.n.l;)l={up:l,n:l.n.l,s:1};case 1:if(l.s=2,!f||Re(d,l.n.to)<=0)return{value:l.n,done:!1};case 2:if(l.n.r){l.s=3,l={up:l,n:l.n.r,s:0};continue}case 3:l=l.up}return{done:!0}}}}function _y(a){var l,d,f=(((l=a.r)===null||l===void 0?void 0:l.d)||0)-(((d=a.l)===null||d===void 0?void 0:d.d)||0),p=1<f?"r":f<-1?"l":"";p&&(l=p=="r"?"l":"r",d=t({},a),f=a[p],a.from=f.from,a.to=f.to,a[p]=f[p],d[p]=f[l],(a[l]=d).d=by(d)),a.d=by(a)}function by(d){var l=d.r,d=d.l;return(l?d?Math.max(l.d,d.d):l.d:d?d.d:0)+1}function dc(a,l){return i(l).forEach(function(d){a[d]?vs(a[d],l[d]):a[d]=function f(p){var m,y,b={};for(m in p)h(p,m)&&(y=p[m],b[m]=!y||typeof y!="object"||Km.has(y.constructor)?y:f(y));return b}(l[d])}),a}function af(a,l){return a.all||l.all||Object.keys(a).some(function(d){return l[d]&&vy(l[d],a[d])})}g(Et.prototype,((rn={add:function(a){return vs(this,a),this},addKey:function(a){return ys(this,a,a),this},addKeys:function(a){var l=this;return a.forEach(function(d){return ys(l,d,d)}),this},hasKey:function(a){var l=uc(this).next(a).value;return l&&Re(l.from,a)<=0&&0<=Re(l.to,a)}})[Rd]=function(){return uc(this)},rn));var ri={},cf={},lf=!1;function fc(a){dc(cf,a),lf||(lf=!0,setTimeout(function(){lf=!1,uf(cf,!(cf={}))},0))}function uf(a,l){l===void 0&&(l=!1);var d=new Set;if(a.all)for(var f=0,p=Object.values(ri);f<p.length;f++)Dy(y=p[f],a,d,l);else for(var m in a){var y,b=/^idb\:\/\/(.*)\/(.*)\//.exec(m);b&&(m=b[1],b=b[2],(y=ri["idb://".concat(m,"/").concat(b)])&&Dy(y,a,d,l))}d.forEach(function(C){return C()})}function Dy(a,l,d,f){for(var p=[],m=0,y=Object.entries(a.queries.query);m<y.length;m++){for(var b=y[m],C=b[0],I=[],A=0,D=b[1];A<D.length;A++){var O=D[A];af(l,O.obsSet)?O.subscribers.forEach(function(M){return d.add(M)}):f&&I.push(O)}f&&p.push([C,I])}if(f)for(var E=0,T=p;E<T.length;E++){var x=T[E],C=x[0],I=x[1];a.queries.query[C]=I}}function Z0(a){var l=a._state,d=a._deps.indexedDB;if(l.isBeingOpened||a.idbdb)return l.dbReadyPromise.then(function(){return l.dbOpenError?it(l.dbOpenError):a});l.isBeingOpened=!0,l.dbOpenError=null,l.openComplete=!1;var f=l.openCanceller,p=Math.round(10*a.verno),m=!1;function y(){if(l.openCanceller!==f)throw new oe.DatabaseClosed("db.open() was cancelled")}function b(){return new Z(function(O,E){if(y(),!d)throw new oe.MissingAPI;var T=a.name,x=l.autoSchema||!p?d.open(T):d.open(T,p);if(!x)throw new oe.MissingAPI;x.onerror=In(E),x.onblocked=Je(a._fireOnBlocked),x.onupgradeneeded=Je(function(M){var R;A=x.transaction,l.autoSchema&&!a._options.allowEmptyDB?(x.onerror=hs,A.abort(),x.result.close(),(R=d.deleteDatabase(T)).onsuccess=R.onerror=Je(function(){E(new oe.NoSuchDatabase("Database ".concat(T," doesnt exist")))})):(A.onerror=In(E),M=M.oldVersion>Math.pow(2,62)?0:M.oldVersion,D=M<1,a.idbdb=x.result,m&&K0(a,A),q0(a,M/10,A,E))},E),x.onsuccess=Je(function(){A=null;var M,R,P,k,F,H=a.idbdb=x.result,q=G(H.objectStoreNames);if(0<q.length)try{var $=H.transaction((k=q).length===1?k[0]:k,"readonly");if(l.autoSchema)R=H,P=$,(M=a).verno=R.version/10,P=M._dbSchema=ac(0,R,P),M._storeNames=G(R.objectStoreNames,0),oc(M,[M._allTables],i(P),P);else if(cc(a,a._dbSchema,$),((F=ef(ac(0,(F=a).idbdb,$),F._dbSchema)).add.length||F.change.some(function(z){return z.add.length||z.change.length}))&&!m)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),H.close(),p=H.version+1,m=!0,O(b());ic(a,$)}catch{}Yi.push(a),H.onversionchange=Je(function(z){l.vcFired=!0,a.on("versionchange").fire(z)}),H.onclose=Je(function(z){a.on("close").fire(z)}),D&&(F=a._deps,$=T,H=F.indexedDB,F=F.IDBKeyRange,rf(H)||$===Ja||nf(H,F).put({name:$}).catch(Le)),O()},E)}).catch(function(O){switch(O?.name){case"UnknownError":if(0<l.PR1398_maxLoop)return l.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),b();break;case"VersionError":if(0<p)return p=0,b()}return Z.reject(O)})}var C,I=l.dbReadyResolve,A=null,D=!1;return Z.race([f,(typeof navigator>"u"?Z.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(O){function E(){return indexedDB.databases().finally(O)}C=setInterval(E,100),E()}).finally(function(){return clearInterval(C)}):Promise.resolve()).then(b)]).then(function(){return y(),l.onReadyBeingFired=[],Z.resolve(of(function(){return a.on.ready.fire(a.vip)})).then(function O(){if(0<l.onReadyBeingFired.length){var E=l.onReadyBeingFired.reduce(kd,Le);return l.onReadyBeingFired=[],Z.resolve(of(function(){return E(a.vip)})).then(O)}})}).finally(function(){l.openCanceller===f&&(l.onReadyBeingFired=null,l.isBeingOpened=!1)}).catch(function(O){l.dbOpenError=O;try{A&&A.abort()}catch{}return f===l.openCanceller&&a._close(),it(O)}).finally(function(){l.openComplete=!0,I()}).then(function(){var O;return D&&(O={},a.tables.forEach(function(E){E.schema.indexes.forEach(function(T){T.name&&(O["idb://".concat(a.name,"/").concat(E.name,"/").concat(T.name)]=new Et(-1/0,[[[]]]))}),O["idb://".concat(a.name,"/").concat(E.name,"/")]=O["idb://".concat(a.name,"/").concat(E.name,"/:dels")]=new Et(-1/0,[[[]]])}),br(ps).fire(O),uf(O,!0)),a})}function df(a){function l(m){return a.next(m)}var d=p(l),f=p(function(m){return a.throw(m)});function p(m){return function(C){var b=m(C),C=b.value;return b.done?C:C&&typeof C.then=="function"?C.then(d,f):o(C)?Promise.all(C).then(d,f):d(C)}}return p(l)()}function hc(a,l,d){for(var f=o(a)?a.slice():[a],p=0;p<d;++p)f.push(l);return f}var X0={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(a){return t(t({},a),{table:function(l){var d=a.table(l),f=d.schema,p={},m=[];function y(D,O,E){var T=ms(D),x=p[T]=p[T]||[],M=D==null?0:typeof D=="string"?1:D.length,R=0<O,R=t(t({},E),{name:R?"".concat(T,"(virtual-from:").concat(E.name,")"):E.name,lowLevelIndex:E,isVirtual:R,keyTail:O,keyLength:M,extractKey:Qd(D),unique:!R&&E.unique});return x.push(R),R.isPrimaryKey||m.push(R),1<M&&y(M===2?D[0]:D.slice(0,M-1),O+1,E),x.sort(function(P,k){return P.keyTail-k.keyTail}),R}l=y(f.primaryKey.keyPath,0,f.primaryKey),p[":id"]=[l];for(var b=0,C=f.indexes;b<C.length;b++){var I=C[b];y(I.keyPath,0,I)}function A(D){var O,E=D.query.index;return E.isVirtual?t(t({},D),{query:{index:E.lowLevelIndex,range:(O=D.query.range,E=E.keyTail,{type:O.type===1?2:O.type,lower:hc(O.lower,O.lowerOpen?a.MAX_KEY:a.MIN_KEY,E),lowerOpen:!0,upper:hc(O.upper,O.upperOpen?a.MIN_KEY:a.MAX_KEY,E),upperOpen:!0})}}):D}return t(t({},d),{schema:t(t({},f),{primaryKey:l,indexes:m,getIndexByKeyPath:function(D){return(D=p[ms(D)])&&D[0]}}),count:function(D){return d.count(A(D))},query:function(D){return d.query(A(D))},openCursor:function(D){var O=D.query.index,E=O.keyTail,T=O.isVirtual,x=O.keyLength;return T?d.openCursor(A(D)).then(function(R){return R&&M(R)}):d.openCursor(D);function M(R){return Object.create(R,{continue:{value:function(P){P!=null?R.continue(hc(P,D.reverse?a.MAX_KEY:a.MIN_KEY,E)):D.unique?R.continue(R.key.slice(0,x).concat(D.reverse?a.MIN_KEY:a.MAX_KEY,E)):R.continue()}},continuePrimaryKey:{value:function(P,k){R.continuePrimaryKey(hc(P,a.MAX_KEY,E),k)}},primaryKey:{get:function(){return R.primaryKey}},key:{get:function(){var P=R.key;return x===1?P[0]:P.slice(0,x)}},value:{get:function(){return R.value}}})}}})}})}};function ff(a,l,d,f){return d=d||{},f=f||"",i(a).forEach(function(p){var m,y,b;h(l,p)?(m=a[p],y=l[p],typeof m=="object"&&typeof y=="object"&&m&&y?(b=Od(m))!==Od(y)?d[f+p]=l[p]:b==="Object"?ff(m,y,d,f+p+"."):m!==y&&(d[f+p]=l[p]):m!==y&&(d[f+p]=l[p])):d[f+p]=void 0}),i(l).forEach(function(p){h(a,p)||(d[f+p]=l[p])}),d}function hf(a,l){return l.type==="delete"?l.keys:l.keys||l.values.map(a.extractKey)}var Q0={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(a){return t(t({},a),{table:function(l){var d=a.table(l),f=d.schema.primaryKey;return t(t({},d),{mutate:function(p){var m=re.trans,y=m.table(l).hook,b=y.deleting,C=y.creating,I=y.updating;switch(p.type){case"add":if(C.fire===Le)break;return m._promise("readwrite",function(){return A(p)},!0);case"put":if(C.fire===Le&&I.fire===Le)break;return m._promise("readwrite",function(){return A(p)},!0);case"delete":if(b.fire===Le)break;return m._promise("readwrite",function(){return A(p)},!0);case"deleteRange":if(b.fire===Le)break;return m._promise("readwrite",function(){return function D(O,E,T){return d.query({trans:O,values:!1,query:{index:f,range:E},limit:T}).then(function(x){var M=x.result;return A({type:"delete",keys:M,trans:O}).then(function(R){return 0<R.numFailures?Promise.reject(R.failures[0]):M.length<T?{failures:[],numFailures:0,lastResult:void 0}:D(O,t(t({},E),{lower:M[M.length-1],lowerOpen:!0}),T)})})}(p.trans,p.range,1e4)},!0)}return d.mutate(p);function A(D){var O,E,T,x=re.trans,M=D.keys||hf(f,D);if(!M)throw new Error("Keys missing");return(D=D.type==="add"||D.type==="put"?t(t({},D),{keys:M}):t({},D)).type!=="delete"&&(D.values=n([],D.values,!0)),D.keys&&(D.keys=n([],D.keys,!0)),O=d,T=M,((E=D).type==="add"?Promise.resolve([]):O.getMany({trans:E.trans,keys:T,cache:"immutable"})).then(function(R){var P=M.map(function(k,F){var H,q,$,z=R[F],Y={onerror:null,onsuccess:null};return D.type==="delete"?b.fire.call(Y,k,z,x):D.type==="add"||z===void 0?(H=C.fire.call(Y,k,D.values[F],x),k==null&&H!=null&&(D.keys[F]=k=H,f.outbound||Qe(D.values[F],f.keyPath,k))):(H=ff(z,D.values[F]),(q=I.fire.call(Y,H,k,z,x))&&($=D.values[F],Object.keys(q).forEach(function(W){h($,W)?$[W]=q[W]:Qe($,W,q[W])}))),Y});return d.mutate(D).then(function(k){for(var F=k.failures,H=k.results,q=k.numFailures,k=k.lastResult,$=0;$<M.length;++$){var z=(H||M)[$],Y=P[$];z==null?Y.onerror&&Y.onerror(F[$]):Y.onsuccess&&Y.onsuccess(D.type==="put"&&R[$]?D.values[$]:z)}return{failures:F,results:H,numFailures:q,lastResult:k}}).catch(function(k){return P.forEach(function(F){return F.onerror&&F.onerror(k)}),Promise.reject(k)})})}}})}})}};function wy(a,l,d){try{if(!l||l.keys.length<a.length)return null;for(var f=[],p=0,m=0;p<l.keys.length&&m<a.length;++p)Re(l.keys[p],a[m])===0&&(f.push(d?qr(l.values[p]):l.values[p]),++m);return f.length===a.length?f:null}catch{return null}}var J0={stack:"dbcore",level:-1,create:function(a){return{table:function(l){var d=a.table(l);return t(t({},d),{getMany:function(f){if(!f.cache)return d.getMany(f);var p=wy(f.keys,f.trans._cache,f.cache==="clone");return p?Z.resolve(p):d.getMany(f).then(function(m){return f.trans._cache={keys:f.keys,values:f.cache==="clone"?qr(m):m},m})},mutate:function(f){return f.type!=="add"&&(f.trans._cache=null),d.mutate(f)}})}}}};function Cy(a,l){return a.trans.mode==="readonly"&&!!a.subscr&&!a.trans.explicit&&a.trans.db._options.cache!=="disabled"&&!l.schema.primaryKey.outbound}function Ey(a,l){switch(a){case"query":return l.values&&!l.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var eE={stack:"dbcore",level:0,name:"Observability",create:function(a){var l=a.schema.name,d=new Et(a.MIN_KEY,a.MAX_KEY);return t(t({},a),{transaction:function(f,p,m){if(re.subscr&&p!=="readonly")throw new oe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(re.querier));return a.transaction(f,p,m)},table:function(f){var p=a.table(f),m=p.schema,y=m.primaryKey,D=m.indexes,b=y.extractKey,C=y.outbound,I=y.autoIncrement&&D.filter(function(E){return E.compound&&E.keyPath.includes(y.keyPath)}),A=t(t({},p),{mutate:function(E){function T(W){return W="idb://".concat(l,"/").concat(f,"/").concat(W),k[W]||(k[W]=new Et)}var x,M,R,P=E.trans,k=E.mutatedParts||(E.mutatedParts={}),F=T(""),H=T(":dels"),q=E.type,Y=E.type==="deleteRange"?[E.range]:E.type==="delete"?[E.keys]:E.values.length<50?[hf(y,E).filter(function(W){return W}),E.values]:[],$=Y[0],z=Y[1],Y=E.trans._cache;return o($)?(F.addKeys($),(Y=q==="delete"||$.length===z.length?wy($,Y):null)||H.addKeys($),(Y||z)&&(x=T,M=Y,R=z,m.indexes.forEach(function(W){var Q=x(W.name||"");function me(Ie){return Ie!=null?W.extractKey(Ie):null}function Ee(Ie){return W.multiEntry&&o(Ie)?Ie.forEach(function(Kt){return Q.addKey(Kt)}):Q.addKey(Ie)}(M||R).forEach(function(Ie,It){var he=M&&me(M[It]),It=R&&me(R[It]);Re(he,It)!==0&&(he!=null&&Ee(he),It!=null&&Ee(It))})}))):$?(z={from:(z=$.lower)!==null&&z!==void 0?z:a.MIN_KEY,to:(z=$.upper)!==null&&z!==void 0?z:a.MAX_KEY},H.add(z),F.add(z)):(F.add(d),H.add(d),m.indexes.forEach(function(W){return T(W.name).add(d)})),p.mutate(E).then(function(W){return!$||E.type!=="add"&&E.type!=="put"||(F.addKeys(W.results),I&&I.forEach(function(Q){for(var me=E.values.map(function(he){return Q.extractKey(he)}),Ee=Q.keyPath.findIndex(function(he){return he===y.keyPath}),Ie=0,Kt=W.results.length;Ie<Kt;++Ie)me[Ie][Ee]=W.results[Ie];T(Q.name).addKeys(me)})),P.mutatedParts=dc(P.mutatedParts||{},k),W})}}),D=function(T){var x=T.query,T=x.index,x=x.range;return[T,new Et((T=x.lower)!==null&&T!==void 0?T:a.MIN_KEY,(x=x.upper)!==null&&x!==void 0?x:a.MAX_KEY)]},O={get:function(E){return[y,new Et(E.key)]},getMany:function(E){return[y,new Et().addKeys(E.keys)]},count:D,query:D,openCursor:D};return i(O).forEach(function(E){A[E]=function(T){var x=re.subscr,M=!!x,R=Cy(re,p)&&Ey(E,T)?T.obsSet={}:x;if(M){var P=function(z){return z="idb://".concat(l,"/").concat(f,"/").concat(z),R[z]||(R[z]=new Et)},k=P(""),F=P(":dels"),x=O[E](T),M=x[0],x=x[1];if((E==="query"&&M.isPrimaryKey&&!T.values?F:P(M.name||"")).add(x),!M.isPrimaryKey){if(E!=="count"){var H=E==="query"&&C&&T.values&&p.query(t(t({},T),{values:!1}));return p[E].apply(this,arguments).then(function(z){if(E==="query"){if(C&&T.values)return H.then(function(me){return me=me.result,k.addKeys(me),z});var Y=T.values?z.result.map(b):z.result;(T.values?k:F).addKeys(Y)}else if(E==="openCursor"){var W=z,Q=T.values;return W&&Object.create(W,{key:{get:function(){return F.addKey(W.primaryKey),W.key}},primaryKey:{get:function(){var me=W.primaryKey;return F.addKey(me),me}},value:{get:function(){return Q&&k.addKey(W.primaryKey),W.value}}})}return z})}F.add(d)}}return p[E].apply(this,arguments)}}),A}})}};function Iy(a,l,d){if(d.numFailures===0)return l;if(l.type==="deleteRange")return null;var f=l.keys?l.keys.length:"values"in l&&l.values?l.values.length:1;return d.numFailures===f?null:(l=t({},l),o(l.keys)&&(l.keys=l.keys.filter(function(p,m){return!(m in d.failures)})),"values"in l&&o(l.values)&&(l.values=l.values.filter(function(p,m){return!(m in d.failures)})),l)}function pf(a,l){return d=a,((f=l).lower===void 0||(f.lowerOpen?0<Re(d,f.lower):0<=Re(d,f.lower)))&&(a=a,(l=l).upper===void 0||(l.upperOpen?Re(a,l.upper)<0:Re(a,l.upper)<=0));var d,f}function Sy(a,l,O,f,p,m){if(!O||O.length===0)return a;var y=l.query.index,b=y.multiEntry,C=l.query.range,I=f.schema.primaryKey.extractKey,A=y.extractKey,D=(y.lowLevelIndex||y).extractKey,O=O.reduce(function(E,T){var x=E,M=[];if(T.type==="add"||T.type==="put")for(var R=new Et,P=T.values.length-1;0<=P;--P){var k,F=T.values[P],H=I(F);R.hasKey(H)||(k=A(F),(b&&o(k)?k.some(function(W){return pf(W,C)}):pf(k,C))&&(R.addKey(H),M.push(F)))}switch(T.type){case"add":var q=new Et().addKeys(l.values?E.map(function(Q){return I(Q)}):E),x=E.concat(l.values?M.filter(function(Q){return Q=I(Q),!q.hasKey(Q)&&(q.addKey(Q),!0)}):M.map(function(Q){return I(Q)}).filter(function(Q){return!q.hasKey(Q)&&(q.addKey(Q),!0)}));break;case"put":var $=new Et().addKeys(T.values.map(function(Q){return I(Q)}));x=E.filter(function(Q){return!$.hasKey(l.values?I(Q):Q)}).concat(l.values?M:M.map(function(Q){return I(Q)}));break;case"delete":var z=new Et().addKeys(T.keys);x=E.filter(function(Q){return!z.hasKey(l.values?I(Q):Q)});break;case"deleteRange":var Y=T.range;x=E.filter(function(Q){return!pf(I(Q),Y)})}return x},a);return O===a?a:(O.sort(function(E,T){return Re(D(E),D(T))||Re(I(E),I(T))}),l.limit&&l.limit<1/0&&(O.length>l.limit?O.length=l.limit:a.length===l.limit&&O.length<l.limit&&(p.dirty=!0)),m?Object.freeze(O):O)}function My(a,l){return Re(a.lower,l.lower)===0&&Re(a.upper,l.upper)===0&&!!a.lowerOpen==!!l.lowerOpen&&!!a.upperOpen==!!l.upperOpen}function tE(a,l){return function(d,f,p,m){if(d===void 0)return f!==void 0?-1:0;if(f===void 0)return 1;if((f=Re(d,f))===0){if(p&&m)return 0;if(p)return 1;if(m)return-1}return f}(a.lower,l.lower,a.lowerOpen,l.lowerOpen)<=0&&0<=function(d,f,p,m){if(d===void 0)return f!==void 0?1:0;if(f===void 0)return-1;if((f=Re(d,f))===0){if(p&&m)return 0;if(p)return-1;if(m)return 1}return f}(a.upper,l.upper,a.upperOpen,l.upperOpen)}function nE(a,l,d,f){a.subscribers.add(d),f.addEventListener("abort",function(){var p,m;a.subscribers.delete(d),a.subscribers.size===0&&(p=a,m=l,setTimeout(function(){p.subscribers.size===0&&Kr(m,p)},3e3))})}var rE={stack:"dbcore",level:0,name:"Cache",create:function(a){var l=a.schema.name;return t(t({},a),{transaction:function(d,f,p){var m,y,b=a.transaction(d,f,p);return f==="readwrite"&&(y=(m=new AbortController).signal,p=function(C){return function(){if(m.abort(),f==="readwrite"){for(var I=new Set,A=0,D=d;A<D.length;A++){var O=D[A],E=ri["idb://".concat(l,"/").concat(O)];if(E){var T=a.table(O),x=E.optimisticOps.filter(function(Q){return Q.trans===b});if(b._explicit&&C&&b.mutatedParts)for(var M=0,R=Object.values(E.queries.query);M<R.length;M++)for(var P=0,k=(q=R[M]).slice();P<k.length;P++)af(($=k[P]).obsSet,b.mutatedParts)&&(Kr(q,$),$.subscribers.forEach(function(Q){return I.add(Q)}));else if(0<x.length){E.optimisticOps=E.optimisticOps.filter(function(Q){return Q.trans!==b});for(var F=0,H=Object.values(E.queries.query);F<H.length;F++)for(var q,$,z,Y=0,W=(q=H[F]).slice();Y<W.length;Y++)($=W[Y]).res!=null&&b.mutatedParts&&(C&&!$.dirty?(z=Object.isFrozen($.res),z=Sy($.res,$.req,x,T,$,z),$.dirty?(Kr(q,$),$.subscribers.forEach(function(Q){return I.add(Q)})):z!==$.res&&($.res=z,$.promise=Z.resolve({result:z}))):($.dirty&&Kr(q,$),$.subscribers.forEach(function(Q){return I.add(Q)})))}}}I.forEach(function(Q){return Q()})}}},b.addEventListener("abort",p(!1),{signal:y}),b.addEventListener("error",p(!1),{signal:y}),b.addEventListener("complete",p(!0),{signal:y})),b},table:function(d){var f=a.table(d),p=f.schema.primaryKey;return t(t({},f),{mutate:function(m){var y=re.trans;if(p.outbound||y.db._options.cache==="disabled"||y.explicit||y.idbtrans.mode!=="readwrite")return f.mutate(m);var b=ri["idb://".concat(l,"/").concat(d)];return b?(y=f.mutate(m),m.type!=="add"&&m.type!=="put"||!(50<=m.values.length||hf(p,m).some(function(C){return C==null}))?(b.optimisticOps.push(m),m.mutatedParts&&fc(m.mutatedParts),y.then(function(C){0<C.numFailures&&(Kr(b.optimisticOps,m),(C=Iy(0,m,C))&&b.optimisticOps.push(C),m.mutatedParts&&fc(m.mutatedParts))}),y.catch(function(){Kr(b.optimisticOps,m),m.mutatedParts&&fc(m.mutatedParts)})):y.then(function(C){var I=Iy(0,t(t({},m),{values:m.values.map(function(A,D){var O;return C.failures[D]?A:(A=(O=p.keyPath)!==null&&O!==void 0&&O.includes(".")?qr(A):t({},A),Qe(A,p.keyPath,C.results[D]),A)})}),C);b.optimisticOps.push(I),queueMicrotask(function(){return m.mutatedParts&&fc(m.mutatedParts)})}),y):f.mutate(m)},query:function(m){if(!Cy(re,f)||!Ey("query",m))return f.query(m);var y=((I=re.trans)===null||I===void 0?void 0:I.db._options.cache)==="immutable",D=re,b=D.requery,C=D.signal,I=function(T,x,M,R){var P=ri["idb://".concat(T,"/").concat(x)];if(!P)return[];if(!(x=P.queries[M]))return[null,!1,P,null];var k=x[(R.query?R.query.index.name:null)||""];if(!k)return[null,!1,P,null];switch(M){case"query":var F=k.find(function(H){return H.req.limit===R.limit&&H.req.values===R.values&&My(H.req.query.range,R.query.range)});return F?[F,!0,P,k]:[k.find(function(H){return("limit"in H.req?H.req.limit:1/0)>=R.limit&&(!R.values||H.req.values)&&tE(H.req.query.range,R.query.range)}),!1,P,k];case"count":return F=k.find(function(H){return My(H.req.query.range,R.query.range)}),[F,!!F,P,k]}}(l,d,"query",m),A=I[0],D=I[1],O=I[2],E=I[3];return A&&D?A.obsSet=m.obsSet:(D=f.query(m).then(function(T){var x=T.result;if(A&&(A.res=x),y){for(var M=0,R=x.length;M<R;++M)Object.freeze(x[M]);Object.freeze(x)}else T.result=qr(x);return T}).catch(function(T){return E&&A&&Kr(E,A),Promise.reject(T)}),A={obsSet:m.obsSet,promise:D,subscribers:new Set,type:"query",req:m,dirty:!1},E?E.push(A):(E=[A],(O=O||(ri["idb://".concat(l,"/").concat(d)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[m.query.index.name||""]=E)),nE(A,E,b,C),A.promise.then(function(T){return{result:Sy(T.result,m,O?.optimisticOps,f,A,y)}})}})}})}};function pc(a,l){return new Proxy(a,{get:function(d,f,p){return f==="db"?l:Reflect.get(d,f,p)}})}var qn=(ot.prototype.version=function(a){if(isNaN(a)||a<.1)throw new oe.Type("Given version is not a positive number");if(a=Math.round(10*a)/10,this.idbdb||this._state.isBeingOpened)throw new oe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var l=this._versions,d=l.filter(function(f){return f._cfg.version===a})[0];return d||(d=new this.Version(a),l.push(d),l.sort(W0),d.stores({}),this._state.autoSchema=!1,d)},ot.prototype._whenReady=function(a){var l=this;return this.idbdb&&(this._state.openComplete||re.letThrough||this._vip)?a():new Z(function(d,f){if(l._state.openComplete)return f(new oe.DatabaseClosed(l._state.dbOpenError));if(!l._state.isBeingOpened){if(!l._state.autoOpen)return void f(new oe.DatabaseClosed);l.open().catch(Le)}l._state.dbReadyPromise.then(d,f)}).then(a)},ot.prototype.use=function(a){var l=a.stack,d=a.create,f=a.level,p=a.name;return p&&this.unuse({stack:l,name:p}),a=this._middlewares[l]||(this._middlewares[l]=[]),a.push({stack:l,create:d,level:f??10,name:p}),a.sort(function(m,y){return m.level-y.level}),this},ot.prototype.unuse=function(a){var l=a.stack,d=a.name,f=a.create;return l&&this._middlewares[l]&&(this._middlewares[l]=this._middlewares[l].filter(function(p){return f?p.create!==f:!!d&&p.name!==d})),this},ot.prototype.open=function(){var a=this;return ei(gr,function(){return Z0(a)})},ot.prototype._close=function(){var a=this._state,l=Yi.indexOf(this);if(0<=l&&Yi.splice(l,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}a.isBeingOpened||(a.dbReadyPromise=new Z(function(d){a.dbReadyResolve=d}),a.openCanceller=new Z(function(d,f){a.cancelOpen=f}))},ot.prototype.close=function(d){var l=(d===void 0?{disableAutoOpen:!0}:d).disableAutoOpen,d=this._state;l?(d.isBeingOpened&&d.cancelOpen(new oe.DatabaseClosed),this._close(),d.autoOpen=!1,d.dbOpenError=new oe.DatabaseClosed):(this._close(),d.autoOpen=this._options.autoOpen||d.isBeingOpened,d.openComplete=!1,d.dbOpenError=null)},ot.prototype.delete=function(a){var l=this;a===void 0&&(a={disableAutoOpen:!0});var d=0<arguments.length&&typeof arguments[0]!="object",f=this._state;return new Z(function(p,m){function y(){l.close(a);var b=l._deps.indexedDB.deleteDatabase(l.name);b.onsuccess=Je(function(){var C,I,A;C=l._deps,I=l.name,A=C.indexedDB,C=C.IDBKeyRange,rf(A)||I===Ja||nf(A,C).delete(I).catch(Le),p()}),b.onerror=In(m),b.onblocked=l._fireOnBlocked}if(d)throw new oe.InvalidArgument("Invalid closeOptions argument to db.delete()");f.isBeingOpened?f.dbReadyPromise.then(y):y()})},ot.prototype.backendDB=function(){return this.idbdb},ot.prototype.isOpen=function(){return this.idbdb!==null},ot.prototype.hasBeenClosed=function(){var a=this._state.dbOpenError;return a&&a.name==="DatabaseClosed"},ot.prototype.hasFailed=function(){return this._state.dbOpenError!==null},ot.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(ot.prototype,"tables",{get:function(){var a=this;return i(this._allTables).map(function(l){return a._allTables[l]})},enumerable:!1,configurable:!0}),ot.prototype.transaction=function(){var a=function(l,d,f){var p=arguments.length;if(p<2)throw new oe.InvalidArgument("Too few arguments");for(var m=new Array(p-1);--p;)m[p-1]=arguments[p];return f=m.pop(),[l,qm(m),f]}.apply(this,arguments);return this._transaction.apply(this,a)},ot.prototype._transaction=function(a,l,d){var f=this,p=re.trans;p&&p.db===this&&a.indexOf("!")===-1||(p=null);var m,y,b=a.indexOf("?")!==-1;a=a.replace("!","").replace("?","");try{if(y=l.map(function(I){if(I=I instanceof f.Table?I.name:I,typeof I!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return I}),a=="r"||a===zd)m=zd;else{if(a!="rw"&&a!=Gd)throw new oe.InvalidArgument("Invalid transaction mode: "+a);m=Gd}if(p){if(p.mode===zd&&m===Gd){if(!b)throw new oe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");p=null}p&&y.forEach(function(I){if(p&&p.storeNames.indexOf(I)===-1){if(!b)throw new oe.SubTransaction("Table "+I+" not included in parent transaction.");p=null}}),b&&p&&!p.active&&(p=null)}}catch(I){return p?p._promise(null,function(A,D){D(I)}):it(I)}var C=function I(A,D,O,E,T){return Z.resolve().then(function(){var x=re.transless||re,M=A._createTransaction(D,O,A._dbSchema,E);if(M.explicit=!0,x={trans:M,transless:x},E)M.idbtrans=E.idbtrans;else try{M.create(),M.idbtrans._explicit=!0,A._state.PR1398_maxLoop=3}catch(k){return k.name===Pd.InvalidState&&A.isOpen()&&0<--A._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),A.close({disableAutoOpen:!1}),A.open().then(function(){return I(A,D,O,null,T)})):it(k)}var R,P=Nd(T);return P&&Ki(),x=Z.follow(function(){var k;(R=T.call(M,M))&&(P?(k=yr.bind(null,null),R.then(k,k)):typeof R.next=="function"&&typeof R.throw=="function"&&(R=df(R)))},x),(R&&typeof R.then=="function"?Z.resolve(R).then(function(k){return M.active?k:it(new oe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):x.then(function(){return R})).then(function(k){return E&&M._resolve(),M._completion.then(function(){return k})}).catch(function(k){return M._reject(k),it(k)})})}.bind(null,this,m,y,p,d);return p?p._promise(m,C,"lock"):re.trans?ei(re.transless,function(){return f._whenReady(C)}):this._whenReady(C)},ot.prototype.table=function(a){if(!h(this._allTables,a))throw new oe.InvalidTable("Table ".concat(a," does not exist"));return this._allTables[a]},ot);function ot(a,l){var d=this;this._middlewares={},this.verno=0;var f=ot.dependencies;this._options=l=t({addons:ot.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange,cache:"cloned"},l),this._deps={indexedDB:l.indexedDB,IDBKeyRange:l.IDBKeyRange},f=l.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var p,m,y,b,C,I={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Le,dbReadyPromise:null,cancelOpen:Le,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:l.autoOpen};I.dbReadyPromise=new Z(function(D){I.dbReadyResolve=D}),I.openCanceller=new Z(function(D,O){I.cancelOpen=O}),this._state=I,this.name=a,this.on=us(this,"populate","blocked","versionchange","close",{ready:[kd,Le]}),this.on.ready.subscribe=se(this.on.ready.subscribe,function(D){return function(O,E){ot.vip(function(){var T,x=d._state;x.openComplete?(x.dbOpenError||Z.resolve().then(O),E&&D(O)):x.onReadyBeingFired?(x.onReadyBeingFired.push(O),E&&D(O)):(D(O),T=d,E||D(function M(){T.on.ready.unsubscribe(O),T.on.ready.unsubscribe(M)}))})}}),this.Collection=(p=this,ds(j0.prototype,function(R,M){this.db=p;var E=iy,T=null;if(M)try{E=M()}catch(P){T=P}var x=R._ctx,M=x.table,R=M.hook.reading.fire;this._ctx={table:M,index:x.index,isPrimKey:!x.index||M.schema.primKey.keyPath&&x.index===M.schema.primKey.name,range:E,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:T,or:x.or,valueMapper:R!==os?R:null}})),this.Table=(m=this,ds(cy.prototype,function(D,O,E){this.db=m,this._tx=E,this.name=D,this.schema=O,this.hook=m._allTables[D]?m._allTables[D].hook:us(null,{creating:[x0,Le],reading:[A0,os],updating:[R0,Le],deleting:[O0,Le]})})),this.Transaction=(y=this,ds(H0.prototype,function(D,O,E,T,x){var M=this;this.db=y,this.mode=D,this.storeNames=O,this.schema=E,this.chromeTransactionDurability=T,this.idbtrans=null,this.on=us(this,"complete","error","abort"),this.parent=x||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Z(function(R,P){M._resolve=R,M._reject=P}),this._completion.then(function(){M.active=!1,M.on.complete.fire()},function(R){var P=M.active;return M.active=!1,M.on.error.fire(R),M.parent?M.parent._reject(R):P&&M.idbtrans&&M.idbtrans.abort(),it(R)})})),this.Version=(b=this,ds(Y0.prototype,function(D){this.db=b,this._cfg={version:D,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(C=this,ds(hy.prototype,function(D,O,E){if(this.db=C,this._ctx={table:D,index:O===":id"?null:O,or:E},this._cmp=this._ascending=Re,this._descending=function(T,x){return Re(x,T)},this._max=function(T,x){return 0<Re(T,x)?T:x},this._min=function(T,x){return Re(T,x)<0?T:x},this._IDBKeyRange=C._deps.IDBKeyRange,!this._IDBKeyRange)throw new oe.MissingAPI})),this.on("versionchange",function(D){0<D.newVersion?console.warn("Another connection wants to upgrade database '".concat(d.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(d.name,"'. Closing db now to resume the delete request.")),d.close({disableAutoOpen:!1})}),this.on("blocked",function(D){!D.newVersion||D.newVersion<D.oldVersion?console.warn("Dexie.delete('".concat(d.name,"') was blocked")):console.warn("Upgrade '".concat(d.name,"' blocked by other connection holding version ").concat(D.oldVersion/10))}),this._maxKey=gs(l.IDBKeyRange),this._createTransaction=function(D,O,E,T){return new d.Transaction(D,O,E,d._options.chromeTransactionDurability,T)},this._fireOnBlocked=function(D){d.on("blocked").fire(D),Yi.filter(function(O){return O.name===d.name&&O!==d&&!O._state.vcFired}).map(function(O){return O.on("versionchange").fire(D)})},this.use(J0),this.use(rE),this.use(eE),this.use(X0),this.use(Q0);var A=new Proxy(this,{get:function(D,O,E){if(O==="_vip")return!0;if(O==="table")return function(x){return pc(d.table(x),A)};var T=Reflect.get(D,O,E);return T instanceof cy?pc(T,A):O==="tables"?T.map(function(x){return pc(x,A)}):O==="_createTransaction"?function(){return pc(T.apply(this,arguments),A)}:T}});this.vip=A,f.forEach(function(D){return D(d)})}var gc,rn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",iE=(gf.prototype.subscribe=function(a,l,d){return this._subscribe(a&&typeof a!="function"?a:{next:a,error:l,complete:d})},gf.prototype[rn]=function(){return this},gf);function gf(a){this._subscribe=a}try{gc={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch{gc={indexedDB:null,IDBKeyRange:null}}function Ty(a){var l,d=!1,f=new iE(function(p){var m=Nd(a),y,b=!1,C={},I={},A={get closed(){return b},unsubscribe:function(){b||(b=!0,y&&y.abort(),D&&br.storagemutated.unsubscribe(E))}};p.start&&p.start(A);var D=!1,O=function(){return $d(T)},E=function(x){dc(C,x),af(I,C)&&O()},T=function(){var x,M,R;!b&&gc.indexedDB&&(C={},x={},y&&y.abort(),y=new AbortController,R=function(P){var k=Wi();try{m&&Ki();var F=mr(a,P);return F=m?F.finally(yr):F}finally{k&&qi()}}(M={subscr:x,signal:y.signal,requery:O,querier:a,trans:null}),Promise.resolve(R).then(function(P){d=!0,l=P,b||M.signal.aborted||(C={},function(k){for(var F in k)if(h(k,F))return;return 1}(I=x)||D||(br(ps,E),D=!0),$d(function(){return!b&&p.next&&p.next(P)}))},function(P){d=!1,["DatabaseClosedError","AbortError"].includes(P?.name)||b||$d(function(){b||p.error&&p.error(P)})}))};return setTimeout(O,0),A});return f.hasValue=function(){return d},f.getValue=function(){return l},f}var ii=qn;function mf(a){var l=Dr;try{Dr=!0,br.storagemutated.fire(a),uf(a,!0)}finally{Dr=l}}g(ii,t(t({},za),{delete:function(a){return new ii(a,{addons:[]}).delete()},exists:function(a){return new ii(a,{addons:[]}).open().then(function(l){return l.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(a){try{return l=ii.dependencies,d=l.indexedDB,l=l.IDBKeyRange,(rf(d)?Promise.resolve(d.databases()).then(function(f){return f.map(function(p){return p.name}).filter(function(p){return p!==Ja})}):nf(d,l).toCollection().primaryKeys()).then(a)}catch{return it(new oe.MissingAPI)}var l,d},defineClass:function(){return function(a){s(this,a)}},ignoreTransaction:function(a){return re.trans?ei(re.transless,a):a()},vip:of,async:function(a){return function(){try{var l=df(a.apply(this,arguments));return l&&typeof l.then=="function"?l:Z.resolve(l)}catch(d){return it(d)}}},spawn:function(a,l,d){try{var f=df(a.apply(d,l||[]));return f&&typeof f.then=="function"?f:Z.resolve(f)}catch(p){return it(p)}},currentTransaction:{get:function(){return re.trans||null}},waitFor:function(a,l){return l=Z.resolve(typeof a=="function"?ii.ignoreTransaction(a):a).timeout(l||6e4),re.trans?re.trans.waitFor(l):l},Promise:Z,debug:{get:function(){return En},set:function(a){Xm(a)}},derive:_,extend:s,props:g,override:se,Events:us,on:br,liveQuery:Ty,extendObservabilitySet:dc,getByKeyPath:ut,setByKeyPath:Qe,delByKeyPath:function(a,l){typeof l=="string"?Qe(a,l,void 0):"length"in l&&[].map.call(l,function(d){Qe(a,d,void 0)})},shallowClone:pr,deepClone:qr,getObjectDiff:ff,cmp:Re,asap:Pe,minKey:-1/0,addons:[],connections:Yi,errnames:Pd,dependencies:gc,cache:ri,semVer:"4.0.11",version:"4.0.11".split(".").map(function(a){return parseInt(a)}).reduce(function(a,l,d){return a+l/Math.pow(10,2*d)})})),ii.maxKey=gs(ii.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(br(ps,function(a){Dr||(a=new CustomEvent(Yd,{detail:a}),Dr=!0,dispatchEvent(a),Dr=!1)}),addEventListener(Yd,function(a){a=a.detail,Dr||mf(a)}));var Qi,Dr=!1,Ay=function(){};return typeof BroadcastChannel<"u"&&((Ay=function(){(Qi=new BroadcastChannel(Yd)).onmessage=function(a){return a.data&&mf(a.data)}})(),typeof Qi.unref=="function"&&Qi.unref(),br(ps,function(a){Dr||Qi.postMessage(a)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(a){if(!qn.disableBfCache&&a.persisted){En&&console.debug("Dexie: handling persisted pagehide"),Qi?.close();for(var l=0,d=Yi;l<d.length;l++)d[l].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(a){!qn.disableBfCache&&a.persisted&&(En&&console.debug("Dexie: handling persisted pageshow"),Ay(),mf({all:new Et(-1/0,[[]])}))})),Z.rejectionMapper=function(a,l){return!a||a instanceof zi||a instanceof TypeError||a instanceof SyntaxError||!a.name||!Zm[a.name]?a:(l=new Zm[a.name](l||a.message,a),"stack"in a&&S(l,"stack",{get:function(){return this.inner.stack}}),l)},Xm(En),t(qn,Object.freeze({__proto__:null,Dexie:qn,liveQuery:Ty,Entity:oy,cmp:Re,PropModification:fs,replacePrefix:function(a,l){return new fs({replacePrefix:[a,l]})},add:function(a){return new fs({add:a})},remove:function(a){return new fs({remove:a})},default:qn,RangeSet:Et,mergeRanges:vs,rangesOverlap:vy}),{default:qn}),qn})});function wf(e,t){return Object.is(e,t)}var dt=null,yc=!1,Cf=1,on=Symbol("SIGNAL");function Ae(e){let t=dt;return dt=e,t}function Ef(){return dt}var bs={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ds(e){if(yc)throw new Error("");if(dt===null)return;dt.consumerOnSignalRead(e);let t=dt.nextProducerIndex++;if(Dc(dt),t<dt.producerNode.length&&dt.producerNode[t]!==e&&_s(dt)){let n=dt.producerNode[t];bc(n,dt.producerIndexOfThis[t])}dt.producerNode[t]!==e&&(dt.producerNode[t]=e,dt.producerIndexOfThis[t]=_s(dt)?Py(e,dt,t):0),dt.producerLastReadVersion[t]=e.version}function Ny(){Cf++}function If(e){if(!(_s(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Cf)){if(!e.producerMustRecompute(e)&&!Af(e)){Df(e);return}e.producerRecomputeValue(e),Df(e)}}function Sf(e){if(e.liveConsumerNode===void 0)return;let t=yc;yc=!0;try{for(let n of e.liveConsumerNode)n.dirty||gE(n)}finally{yc=t}}function Mf(){return dt?.consumerAllowSignalWrites!==!1}function gE(e){e.dirty=!0,Sf(e),e.consumerMarkedDirty?.(e)}function Df(e){e.dirty=!1,e.lastCleanEpoch=Cf}function _c(e){return e&&(e.nextProducerIndex=0),Ae(e)}function Tf(e,t){if(Ae(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(_s(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)bc(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Af(e){Dc(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(If(n),r!==n.version))return!0}return!1}function xf(e){if(Dc(e),_s(e))for(let t=0;t<e.producerNode.length;t++)bc(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Py(e,t,n){if(ky(e),e.liveConsumerNode.length===0&&Fy(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Py(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function bc(e,t){if(ky(e),e.liveConsumerNode.length===1&&Fy(e))for(let r=0;r<e.producerNode.length;r++)bc(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Dc(i),i.producerIndexOfThis[r]=t}}function _s(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Dc(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function ky(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Fy(e){return e.producerNode!==void 0}function Of(e,t){let n=Object.create(mE);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(If(n),Ds(n),n.value===vc)throw n.error;return n.value};return r[on]=n,r}var _f=Symbol("UNSET"),bf=Symbol("COMPUTING"),vc=Symbol("ERRORED"),mE=ie(L({},bs),{value:_f,dirty:!0,error:null,equal:wf,kind:"computed",producerMustRecompute(e){return e.value===_f||e.value===bf},producerRecomputeValue(e){if(e.value===bf)throw new Error("Detected cycle in computations.");let t=e.value;e.value=bf;let n=_c(e),r,i=!1;try{r=e.computation(),Ae(null),i=t!==_f&&t!==vc&&r!==vc&&e.equal(t,r)}catch(o){r=vc,e.error=o}finally{Tf(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function yE(){throw new Error}var Ly=yE;function Vy(e){Ly(e)}function Rf(e){Ly=e}var vE=null;function Nf(e,t){let n=Object.create(wc);n.value=e,t!==void 0&&(n.equal=t);let r=()=>(Ds(n),n.value);return r[on]=n,r}function ws(e,t){Mf()||Vy(e),e.equal(e.value,t)||(e.value=t,_E(e))}function Pf(e,t){Mf()||Vy(e),ws(e,t(e.value))}var wc=ie(L({},bs),{equal:wf,value:void 0,kind:"signal"});function _E(e){e.version++,Ny(),Sf(e),vE?.()}function kf(e){let t=Ae(null);try{return e()}finally{Ae(t)}}var Ff;function Cs(){return Ff}function Kn(e){let t=Ff;return Ff=e,t}var Cc=Symbol("NotFound");function pe(e){return typeof e=="function"}function Ji(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ec=Ji(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function si(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var $e=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(pe(r))try{r()}catch(o){t=o instanceof Ec?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{jy(o)}catch(s){t=t??[],s instanceof Ec?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ec(t)}}add(t){var n;if(t&&t!==this)if(this.closed)jy(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&si(n,t)}remove(t){let{_finalizers:n}=this;n&&si(n,t),t instanceof e&&t._removeParent(this)}};$e.EMPTY=(()=>{let e=new $e;return e.closed=!0,e})();var Lf=$e.EMPTY;function Ic(e){return e instanceof $e||e&&"closed"in e&&pe(e.remove)&&pe(e.add)&&pe(e.unsubscribe)}function jy(e){pe(e)?e():e.unsubscribe()}var gn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var eo={setTimeout(e,t,...n){let{delegate:r}=eo;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=eo;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Sc(e){eo.setTimeout(()=>{let{onUnhandledError:t}=gn;if(t)t(e);else throw e})}function Es(){}var By=Vf("C",void 0,void 0);function Uy(e){return Vf("E",void 0,e)}function Hy(e){return Vf("N",e,void 0)}function Vf(e,t,n){return{kind:e,value:t,error:n}}var ai=null;function to(e){if(gn.useDeprecatedSynchronousErrorHandling){let t=!ai;if(t&&(ai={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=ai;if(ai=null,n)throw r}}else e()}function $y(e){gn.useDeprecatedSynchronousErrorHandling&&ai&&(ai.errorThrown=!0,ai.error=e)}var ci=class extends $e{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ic(t)&&t.add(this)):this.destination=IE}static create(t,n,r){return new wr(t,n,r)}next(t){this.isStopped?Bf(Hy(t),this):this._next(t)}error(t){this.isStopped?Bf(Uy(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Bf(By,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},CE=Function.prototype.bind;function jf(e,t){return CE.call(e,t)}var Uf=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Mc(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Mc(r)}else Mc(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Mc(n)}}},wr=class extends ci{constructor(t,n,r){super();let i;if(pe(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&gn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&jf(t.next,o),error:t.error&&jf(t.error,o),complete:t.complete&&jf(t.complete,o)}):i=t}this.destination=new Uf(i)}};function Mc(e){gn.useDeprecatedSynchronousErrorHandling?$y(e):Sc(e)}function EE(e){throw e}function Bf(e,t){let{onStoppedNotification:n}=gn;n&&eo.setTimeout(()=>n(e,t))}var IE={closed:!0,next:Es,error:EE,complete:Es};var no=typeof Symbol=="function"&&Symbol.observable||"@@observable";function vt(e){return e}function Hf(...e){return $f(e)}function $f(e){return e.length===0?vt:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var De=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=ME(n)?n:new wr(n,r,i);return to(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=zy(r),new r((i,o)=>{let s=new wr({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[no](){return this}pipe(...n){return $f(n)(this)}toPromise(n){return n=zy(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function zy(e){var t;return(t=e??gn.Promise)!==null&&t!==void 0?t:Promise}function SE(e){return e&&pe(e.next)&&pe(e.error)&&pe(e.complete)}function ME(e){return e&&e instanceof ci||SE(e)&&Ic(e)}function zf(e){return pe(e?.lift)}function ye(e){return t=>{if(zf(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function le(e,t,n,r,i){return new Gf(e,t,n,r,i)}var Gf=class extends ci{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){t.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function ro(){return ye((e,t)=>{let n=null;e._refCount++;let r=le(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var io=class extends De{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,zf(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new $e;let n=this.getSubject();t.add(this.source.subscribe(le(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=$e.EMPTY)}return t}refCount(){return ro()(this)}};var Gy=Ji(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=(()=>{class e extends De{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Tc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Gy}next(n){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Lf:(this.currentObservers=null,o.push(n),new $e(()=>{this.currentObservers=null,si(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new De;return n.source=this,n}}return e.create=(t,n)=>new Tc(t,n),e})(),Tc=class extends ue{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Lf}};var Ye=class extends ue{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Wf={now(){return(Wf.delegate||Date).now()},delegate:void 0};var Ac=class extends $e{constructor(t,n){super()}schedule(t,n=0){return this}};var Is={setInterval(e,t,...n){let{delegate:r}=Is;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Is;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var xc=class extends Ac{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return Is.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Is.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,si(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var oo=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};oo.now=Wf.now;var Oc=class extends oo{constructor(t,n=oo.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var Ss=new Oc(xc),Wy=Ss;var Mt=new De(e=>e.complete());function Rc(e){return e&&pe(e.schedule)}function qf(e){return e[e.length-1]}function Nc(e){return pe(qf(e))?e.pop():void 0}function Mn(e){return Rc(qf(e))?e.pop():void 0}function qy(e,t){return typeof qf(e)=="number"?e.pop():t}function Yy(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(g){try{h(r.next(g))}catch(v){s(v)}}function u(g){try{h(r.throw(g))}catch(v){s(v)}}function h(g){g.done?o(g.value):i(g.value).then(c,u)}h((r=r.apply(e,t||[])).next())})}function Ky(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function li(e){return this instanceof li?(this.v=e,this):new li(e)}function Zy(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(_){return function(N){return Promise.resolve(N).then(_,v)}}function c(_,N){r[_]&&(i[_]=function(V){return new Promise(function(G,se){o.push([_,V,G,se])>1||u(_,V)})},N&&(i[_]=N(i[_])))}function u(_,N){try{h(r[_](N))}catch(V){S(o[0][3],V)}}function h(_){_.value instanceof li?Promise.resolve(_.value.v).then(g,v):S(o[0][2],_)}function g(_){u("next",_)}function v(_){u("throw",_)}function S(_,N){_(N),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Xy(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ky=="function"?Ky(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(c,u){s=e[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(h){o({value:h,done:c})},s)}}var Pc=e=>e&&typeof e.length=="number"&&typeof e!="function";function kc(e){return pe(e?.then)}function Fc(e){return pe(e[no])}function Lc(e){return Symbol.asyncIterator&&pe(e?.[Symbol.asyncIterator])}function Vc(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function TE(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var jc=TE();function Bc(e){return pe(e?.[jc])}function Uc(e){return Zy(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield li(n.read());if(i)return yield li(void 0);yield yield li(r)}}finally{n.releaseLock()}})}function Hc(e){return pe(e?.getReader)}function ze(e){if(e instanceof De)return e;if(e!=null){if(Fc(e))return AE(e);if(Pc(e))return xE(e);if(kc(e))return OE(e);if(Lc(e))return Qy(e);if(Bc(e))return RE(e);if(Hc(e))return NE(e)}throw Vc(e)}function AE(e){return new De(t=>{let n=e[no]();if(pe(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xE(e){return new De(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function OE(e){return new De(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Sc)})}function RE(e){return new De(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Qy(e){return new De(t=>{PE(e,t).catch(n=>t.error(n))})}function NE(e){return Qy(Uc(e))}function PE(e,t){var n,r,i,o;return Yy(this,void 0,void 0,function*(){try{for(n=Xy(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function Lt(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function $c(e,t=0){return ye((n,r)=>{n.subscribe(le(r,i=>Lt(r,e,()=>r.next(i),t),()=>Lt(r,e,()=>r.complete(),t),i=>Lt(r,e,()=>r.error(i),t)))})}function zc(e,t=0){return ye((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Jy(e,t){return ze(e).pipe(zc(t),$c(t))}function ev(e,t){return ze(e).pipe(zc(t),$c(t))}function tv(e,t){return new De(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function nv(e,t){return new De(n=>{let r;return Lt(n,t,()=>{r=e[jc](),Lt(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>pe(r?.return)&&r.return()})}function Gc(e,t){if(!e)throw new Error("Iterable cannot be null");return new De(n=>{Lt(n,t,()=>{let r=e[Symbol.asyncIterator]();Lt(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function rv(e,t){return Gc(Uc(e),t)}function iv(e,t){if(e!=null){if(Fc(e))return Jy(e,t);if(Pc(e))return tv(e,t);if(kc(e))return ev(e,t);if(Lc(e))return Gc(e,t);if(Bc(e))return nv(e,t);if(Hc(e))return rv(e,t)}throw Vc(e)}function Ge(e,t){return t?iv(e,t):ze(e)}function te(...e){let t=Mn(e);return Ge(e,t)}function Yt(e,t){let n=pe(e)?e:()=>e,r=i=>i.error(n());return new De(t?i=>t.schedule(r,0,i):r)}function Wc(e){return!!e&&(e instanceof De||pe(e.lift)&&pe(e.subscribe))}var mn=Ji(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function mt(e,t){let n=typeof t=="object";return new Promise((r,i)=>{let o=new wr({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(t.defaultValue):i(new mn)}});e.subscribe(o)})}function ov(e){return e instanceof Date&&!isNaN(e)}function ae(e,t){return ye((n,r)=>{let i=0;n.subscribe(le(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:kE}=Array;function FE(e,t){return kE(t)?e(...t):e(t)}function qc(e){return ae(t=>FE(e,t))}var{isArray:LE}=Array,{getPrototypeOf:VE,prototype:jE,keys:BE}=Object;function Kc(e){if(e.length===1){let t=e[0];if(LE(t))return{args:t,keys:null};if(UE(t)){let n=BE(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function UE(e){return e&&typeof e=="object"&&VE(e)===jE}function Yc(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function so(...e){let t=Mn(e),n=Nc(e),{args:r,keys:i}=Kc(e);if(r.length===0)return Ge([],t);let o=new De(HE(r,t,i?s=>Yc(i,s):vt));return n?o.pipe(qc(n)):o}function HE(e,t,n=vt){return r=>{sv(t,()=>{let{length:i}=e,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)sv(t,()=>{let h=Ge(e[u],t),g=!1;h.subscribe(le(r,v=>{o[u]=v,g||(g=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function sv(e,t,n){e?Lt(n,e,t):t()}function av(e,t,n,r,i,o,s,c){let u=[],h=0,g=0,v=!1,S=()=>{v&&!u.length&&!h&&t.complete()},_=V=>h<r?N(V):u.push(V),N=V=>{o&&t.next(V),h++;let G=!1;ze(n(V,g++)).subscribe(le(t,se=>{i?.(se),o?_(se):t.next(se)},()=>{G=!0},void 0,()=>{if(G)try{for(h--;u.length&&h<r;){let se=u.shift();s?Lt(t,s,()=>N(se)):N(se)}S()}catch(se){t.error(se)}}))};return e.subscribe(le(t,_,()=>{v=!0,S()})),()=>{c?.()}}function ft(e,t,n=1/0){return pe(t)?ft((r,i)=>ae((o,s)=>t(r,o,i,s))(ze(e(r,i))),n):(typeof t=="number"&&(n=t),ye((r,i)=>av(r,i,e,n)))}function Zc(e=1/0){return ft(vt,e)}function cv(){return Zc(1)}function Cr(...e){return cv()(Ge(e,Mn(e)))}function Er(e){return new De(t=>{ze(e()).subscribe(t)})}function Ms(...e){let t=Nc(e),{args:n,keys:r}=Kc(e),i=new De(o=>{let{length:s}=n;if(!s){o.complete();return}let c=new Array(s),u=s,h=s;for(let g=0;g<s;g++){let v=!1;ze(n[g]).subscribe(le(o,S=>{v||(v=!0,h--),c[g]=S},()=>u--,void 0,()=>{(!u||!v)&&(h||o.next(r?Yc(r,c):c),o.complete())}))}});return t?i.pipe(qc(t)):i}function ui(e=0,t,n=Wy){let r=-1;return t!=null&&(Rc(t)?n=t:r=t),new De(i=>{let o=ov(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Ts(...e){let t=Mn(e),n=qy(e,1/0),r=e;return r.length?r.length===1?ze(r[0]):Zc(n)(Ge(r,t)):Mt}function et(e,t){return ye((n,r)=>{let i=0;n.subscribe(le(r,o=>e.call(t,o,i++)&&r.next(o)))})}function lv(e){return ye((t,n)=>{let r=!1,i=null,o=null,s=!1,c=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let h=i;i=null,n.next(h)}s&&n.complete()},u=()=>{o=null,s&&n.complete()};t.subscribe(le(n,h=>{r=!0,i=h,o||ze(e(h)).subscribe(o=le(n,c,u))},()=>{s=!0,(!r||!o||o.closed)&&n.complete()}))})}function Xc(e,t=Ss){return lv(()=>ui(e,t))}function yt(e){return ye((t,n)=>{let r=null,i=!1,o;r=t.subscribe(le(n,void 0,void 0,s=>{o=ze(e(s,yt(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function uv(e,t,n,r,i){return(o,s)=>{let c=n,u=t,h=0;o.subscribe(le(s,g=>{let v=h++;u=c?e(u,g,v):(c=!0,g),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function Ir(e,t){return pe(t)?ft(e,t,1):ft(e,1)}function Kf(e,t=Ss){return ye((n,r)=>{let i=null,o=null,s=null,c=()=>{if(i){i.unsubscribe(),i=null;let h=o;o=null,r.next(h)}};function u(){let h=s+e,g=t.now();if(g<h){i=this.schedule(void 0,h-g),r.add(i);return}c()}n.subscribe(le(r,h=>{o=h,s=t.now(),i||(i=t.schedule(u,e),r.add(i))},()=>{c(),r.complete()},void 0,()=>{o=i=null}))})}function Sr(e){return ye((t,n)=>{let r=!1;t.subscribe(le(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function _t(e){return e<=0?()=>Mt:ye((t,n)=>{let r=0;t.subscribe(le(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Qc(e,t=vt){return e=e??$E,ye((n,r)=>{let i,o=!0;n.subscribe(le(r,s=>{let c=t(s);(o||!e(i,c))&&(o=!1,i=c,r.next(s))}))})}function $E(e,t){return e===t}function Jc(e=zE){return ye((t,n)=>{let r=!1;t.subscribe(le(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function zE(){return new mn}function di(e){return ye((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Yn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?et((i,o)=>e(i,o,r)):vt,_t(1),n?Sr(t):Jc(()=>new mn))}function ao(e){return e<=0?()=>Mt:ye((t,n)=>{let r=[];t.subscribe(le(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Yf(e,t){let n=arguments.length>=2;return r=>r.pipe(e?et((i,o)=>e(i,o,r)):vt,ao(1),n?Sr(t):Jc(()=>new mn))}function Zf(e=1/0){let t;e&&typeof e=="object"?t=e:t={count:e};let{count:n=1/0,delay:r,resetOnSuccess:i=!1}=t;return n<=0?vt:ye((o,s)=>{let c=0,u,h=()=>{let g=!1;u=o.subscribe(le(s,v=>{i&&(c=0),s.next(v)},void 0,v=>{if(c++<n){let S=()=>{u?(u.unsubscribe(),u=null,h()):g=!0};if(r!=null){let _=typeof r=="number"?ui(r):ze(r(v,c)),N=le(s,()=>{N.unsubscribe(),S()},()=>{s.complete()});_.subscribe(N)}else S()}else s.error(v)})),g&&(u.unsubscribe(),u=null,h())};h()})}function Xf(e,t){return ye(uv(e,t,arguments.length>=2,!0))}function As(e){return et((t,n)=>e<=n)}function Tn(...e){let t=Mn(e);return ye((n,r)=>{(t?Cr(e,n,t):Cr(e,n)).subscribe(r)})}function Vt(e,t){return ye((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(le(r,u=>{i?.unsubscribe();let h=0,g=o++;ze(e(u,g)).subscribe(i=le(r,v=>r.next(t?t(u,v,g,h++):v),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function An(e){return ye((t,n)=>{ze(e).subscribe(le(n,()=>n.complete(),Es)),!n.closed&&t.subscribe(n)})}function bt(e,t,n){let r=pe(e)||t||n?{next:e,error:t,complete:n}:e;return r?ye((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(le(o,u=>{var h;(h=r.next)===null||h===void 0||h.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var h;c=!1,(h=r.error)===null||h===void 0||h.call(r,u),o.error(u)},()=>{var u,h;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(h=r.finalize)===null||h===void 0||h.call(r)}))}):vt}var Qv="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",ee=class extends Error{code;constructor(t,n){super(WE(t,n)),this.code=t}};function GE(e){return`NG0${Math.abs(e)}`}function WE(e,t){return`${GE(e)}${t?": "+t:""}`}var Jv=Symbol("InputSignalNode#UNSET"),qE=ie(L({},wc),{transformFn:void 0,applyValueToInputSignal(e,t){ws(e,t)}});function e_(e,t){let n=Object.create(qE);n.value=e,n.transformFn=t?.transform;function r(){if(Ds(n),n.value===Jv){let i=null;throw new ee(-950,i)}return n.value}return r[on]=n,r}function Us(e){return{toString:e}.toString()}var el="__parameters__";function KE(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function t_(e,t,n){return Us(()=>{let r=KE(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,h,g){let v=u.hasOwnProperty(el)?u[el]:Object.defineProperty(u,el,{value:[]})[el];for(;v.length<=g;)v.push(null);return(v[g]=v[g]||[]).push(s),u}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Os=globalThis;function Be(e){for(let t in e)if(e[t]===Be)return t;throw Error("Could not find renamed property on target object.")}function YE(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Bt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Bt).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function dv(e,t){return e?t?`${e} ${t}`:e:t||""}var ZE=Be({__forward_ref__:Be});function Ar(e){return e.__forward_ref__=Ar,e.toString=function(){return Bt(this())},e}function Nt(e){return n_(e)?e():e}function n_(e){return typeof e=="function"&&e.hasOwnProperty(ZE)&&e.__forward_ref__===Ar}function j(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ue(e){return{providers:e.providers||[],imports:e.imports||[]}}function Nl(e){return fv(e,i_)||fv(e,o_)}function r_(e){return Nl(e)!==null}function fv(e,t){return e.hasOwnProperty(t)?e[t]:null}function XE(e){let t=e&&(e[i_]||e[o_]);return t||null}function hv(e){return e&&(e.hasOwnProperty(pv)||e.hasOwnProperty(QE))?e[pv]:null}var i_=Be({\u0275prov:Be}),pv=Be({\u0275inj:Be}),o_=Be({ngInjectableDef:Be}),QE=Be({ngInjectorDef:Be}),K=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function s_(e){return e&&!!e.\u0275providers}var JE=Be({\u0275cmp:Be}),eI=Be({\u0275dir:Be}),tI=Be({\u0275pipe:Be}),nI=Be({\u0275mod:Be}),cl=Be({\u0275fac:Be}),Ps=Be({__NG_ELEMENT_ID__:Be}),gv=Be({__NG_ENV_ID__:Be});function Zn(e){return typeof e=="string"?e:e==null?"":String(e)}function rI(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Zn(e)}function a_(e,t){throw new ee(-200,e)}function ap(e,t){throw new ee(-201,!1)}var _e=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(_e||{}),fh;function c_(){return fh}function jt(e){let t=fh;return fh=e,t}function l_(e,t,n){let r=Nl(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&_e.Optional)return null;if(t!==void 0)return t;ap(e,"Injector")}var iI={},hi=iI,hh="__NG_DI_FLAG__",ll=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=n;return this.injector.get(t,r.optional?Cc:hi,r)}},ul="ngTempTokenPath",oI="ngTokenPath",sI=/\n/gm,aI="\u0275",mv="__source";function cI(e,t=_e.Default){if(Cs()===void 0)throw new ee(-203,!1);if(Cs()===null)return l_(e,void 0,t);{let n=Cs(),r;return n instanceof ll?r=n.injector:r=n,r.get(e,t&_e.Optional?null:void 0,t)}}function ne(e,t=_e.Default){return(c_()||cI)(Nt(e),t)}function w(e,t=_e.Default){return ne(e,Pl(t))}function Pl(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ph(e){let t=[];for(let n=0;n<e.length;n++){let r=Nt(e[n]);if(Array.isArray(r)){if(r.length===0)throw new ee(900,!1);let i,o=_e.Default;for(let s=0;s<r.length;s++){let c=r[s],u=lI(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}t.push(ne(i,o))}else t.push(ne(r))}return t}function u_(e,t){return e[hh]=t,e.prototype[hh]=t,e}function lI(e){return e[hh]}function uI(e,t,n,r){let i=e[ul];throw t[mv]&&i.unshift(t[mv]),e.message=dI(`
`+e.message,i,n,r),e[oI]=i,e[ul]=null,e}function dI(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==aI?e.slice(2):e;let i=Bt(t);if(Array.isArray(t))i=t.map(Bt).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let c=t[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):Bt(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(sI,`
  `)}`}var d_=u_(t_("Optional"),8);var fI=u_(t_("SkipSelf"),4);function gi(e,t){let n=e.hasOwnProperty(cl);return n?e[cl]:null}function hI(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function pI(e){return e.flat(Number.POSITIVE_INFINITY)}function cp(e,t){e.forEach(n=>Array.isArray(n)?cp(n,t):t(n))}function f_(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function dl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function gI(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function mI(e,t,n){let r=Hs(e,t);return r>=0?e[r|1]=n:(r=~r,gI(e,r,t,n)),r}function Qf(e,t){let n=Hs(e,t);if(n>=0)return e[n|1]}function Hs(e,t){return yI(e,t,1)}function yI(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var mi={},sn=[],ks=new K(""),h_=new K("",-1),p_=new K(""),fl=class{get(t,n=hi){if(n===hi){let r=new Error(`NullInjectorError: No provider for ${Bt(t)}!`);throw r.name="NullInjectorError",r}return n}};function g_(e,t){let n=e[nI]||null;if(!n&&t===!0)throw new Error(`Type ${Bt(e)} does not have '\u0275mod' property.`);return n}function yi(e){return e[JE]||null}function vI(e){return e[eI]||null}function _I(e){return e[tI]||null}function kl(e){return{\u0275providers:e}}function bI(...e){return{\u0275providers:m_(!0,e),\u0275fromNgModule:!0}}function m_(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return cp(t,s=>{let c=s;gh(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&y_(i,o),n}function y_(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];lp(i,o=>{t(o,r)})}}function gh(e,t,n,r){if(e=Nt(e),!e)return!1;let i=null,o=hv(e),s=!o&&yi(e);if(!o&&!s){let u=e.ngModule;if(o=hv(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=e}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let h of u)gh(h,t,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let h;try{cp(o.imports,g=>{gh(g,t,n,r)&&(h||=[],h.push(g))})}finally{}h!==void 0&&y_(h,t)}if(!c){let h=gi(i)||(()=>new i);t({provide:i,useFactory:h,deps:sn},i),t({provide:p_,useValue:i,multi:!0},i),t({provide:ks,useValue:()=>ne(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let h=e;lp(u,g=>{t(g,h)})}}else return!1;return i!==e&&e.providers!==void 0}function lp(e,t){for(let n of e)s_(n)&&(n=n.\u0275providers),Array.isArray(n)?lp(n,t):t(n)}var DI=Be({provide:String,useValue:Be});function v_(e){return e!==null&&typeof e=="object"&&DI in e}function wI(e){return!!(e&&e.useExisting)}function CI(e){return!!(e&&e.useFactory)}function go(e){return typeof e=="function"}function EI(e){return!!e.useClass}var Fl=new K(""),nl={},yv={},Jf;function Ll(){return Jf===void 0&&(Jf=new fl),Jf}var ct=class{},Fs=class extends ct{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,yh(t,s=>this.processProvider(s)),this.records.set(h_,co(void 0,this)),i.has("environment")&&this.records.set(ct,co(void 0,this));let o=this.records.get(Fl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(p_,sn,_e.Self))}retrieve(t,n){let r=n;return this.get(t,r.optional?Cc:hi,r)}destroy(){Rs(this),this._destroyed=!0;let t=Ae(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ae(t)}}onDestroy(t){return Rs(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Rs(this);let n=Kn(this),r=jt(void 0),i;try{return t()}finally{Kn(n),jt(r)}}get(t,n=hi,r=_e.Default){if(Rs(this),t.hasOwnProperty(gv))return t[gv](this);r=Pl(r);let i,o=Kn(this),s=jt(void 0);try{if(!(r&_e.SkipSelf)){let u=this.records.get(t);if(u===void 0){let h=AI(t)&&Nl(t);h&&this.injectableDefInScope(h)?u=co(mh(t),nl):u=null,this.records.set(t,u)}if(u!=null)return this.hydrate(t,u,r)}let c=r&_e.Self?Ll():this.parent;return n=r&_e.Optional&&n===hi?null:n,c.get(t,n)}catch(c){if(c.name==="NullInjectorError"){if((c[ul]=c[ul]||[]).unshift(Bt(t)),o)throw c;return uI(c,t,"R3InjectorError",this.source)}else throw c}finally{jt(s),Kn(o)}}resolveInjectorInitializers(){let t=Ae(null),n=Kn(this),r=jt(void 0),i;try{let o=this.get(ks,sn,_e.Self);for(let s of o)s()}finally{Kn(n),jt(r),Ae(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Bt(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Nt(t);let n=go(t)?t:Nt(t&&t.provide),r=SI(t);if(!go(t)&&t.multi===!0){let i=this.records.get(n);i||(i=co(void 0,nl,!0),i.factory=()=>ph(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=Ae(null);try{return n.value===yv?a_(Bt(t)):n.value===nl&&(n.value=yv,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&TI(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ae(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Nt(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function mh(e){let t=Nl(e),n=t!==null?t.factory:gi(e);if(n!==null)return n;if(e instanceof K)throw new ee(204,!1);if(e instanceof Function)return II(e);throw new ee(204,!1)}function II(e){if(e.length>0)throw new ee(204,!1);let n=XE(e);return n!==null?()=>n.factory(e):()=>new e}function SI(e){if(v_(e))return co(void 0,e.useValue);{let t=__(e);return co(t,nl)}}function __(e,t,n){let r;if(go(e)){let i=Nt(e);return gi(i)||mh(i)}else if(v_(e))r=()=>Nt(e.useValue);else if(CI(e))r=()=>e.useFactory(...ph(e.deps||[]));else if(wI(e))r=(i,o)=>ne(Nt(e.useExisting),o!==void 0&&o&_e.Optional?_e.Optional:void 0);else{let i=Nt(e&&(e.useClass||e.provide));if(MI(e))r=()=>new i(...ph(e.deps));else return gi(i)||mh(i)}return r}function Rs(e){if(e.destroyed)throw new ee(205,!1)}function co(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function MI(e){return!!e.deps}function TI(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function AI(e){return typeof e=="function"||typeof e=="object"&&e instanceof K}function yh(e,t){for(let n of e)Array.isArray(n)?yh(n,t):n&&s_(n)?yh(n.\u0275providers,t):t(n)}function Xt(e,t){let n;e instanceof Fs?(Rs(e),n=e):n=new ll(e);let r,i=Kn(n),o=jt(void 0);try{return t()}finally{Kn(i),jt(o)}}function b_(){return c_()!==void 0||Cs()!=null}function D_(e){if(!b_())throw new ee(-203,!1)}function xI(e){return typeof e=="function"}var tr=0,Ce=1,de=2,Tt=3,vn=4,bn=5,hl=6,pl=7,Ut=8,vi=9,Xn=10,st=11,Ls=12,vv=13,wo=14,On=15,_i=16,lo=17,Qn=18,Vl=19,w_=20,Mr=21,eh=22,gl=23,an=24,ho=25,Ht=26,C_=1;var bi=7,ml=8,mo=9,Zt=10;function Tr(e){return Array.isArray(e)&&typeof e[C_]=="object"}function nr(e){return Array.isArray(e)&&e[C_]===!0}function up(e){return(e.flags&4)!==0}function Co(e){return e.componentOffset>-1}function jl(e){return(e.flags&1)===1}function Rn(e){return!!e.template}function yl(e){return(e[de]&512)!==0}function Eo(e){return(e[de]&256)===256}var vh=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function E_(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var rr=(()=>{let e=()=>I_;return e.ngInherit=!0,e})();function I_(e){return e.type.prototype.ngOnChanges&&(e.setInput=RI),OI}function OI(){let e=M_(this),t=e?.current;if(t){let n=e.previous;if(n===mi)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function RI(e,t,n,r,i){let o=this.declaredInputs[r],s=M_(e)||NI(e,{previous:mi,current:null}),c=s.current||(s.current={}),u=s.previous,h=u[o];c[o]=new vh(h&&h.currentValue,n,u===mi),E_(e,t,i,n)}var S_="__ngSimpleChanges__";function M_(e){return e[S_]||null}function NI(e,t){return e[S_]=t}var _v=null;var Ve=function(e,t=null,n){_v?.(e,t,n)},PI="svg",kI="math";function Nn(e){for(;Array.isArray(e);)e=e[tr];return e}function T_(e,t){return Nn(t[e])}function Vn(e,t){return Nn(t[e.index])}function A_(e,t){return e.data[t]}function dp(e,t){return e[t]}function Pn(e,t){let n=t[e];return Tr(n)?n:n[tr]}function FI(e){return(e[de]&4)===4}function fp(e){return(e[de]&128)===128}function LI(e){return nr(e[Tt])}function yo(e,t){return t==null?null:e[t]}function x_(e){e[lo]=0}function O_(e){e[de]&1024||(e[de]|=1024,fp(e)&&$s(e))}function VI(e,t){for(;e>0;)t=t[wo],e--;return t}function Bl(e){return!!(e[de]&9216||e[an]?.dirty)}function _h(e){e[Xn].changeDetectionScheduler?.notify(8),e[de]&64&&(e[de]|=1024),Bl(e)&&$s(e)}function $s(e){e[Xn].changeDetectionScheduler?.notify(0);let t=Di(e);for(;t!==null&&!(t[de]&8192||(t[de]|=8192,!fp(t)));)t=Di(t)}function R_(e,t){if(Eo(e))throw new ee(911,!1);e[Mr]===null&&(e[Mr]=[]),e[Mr].push(t)}function jI(e,t){if(e[Mr]===null)return;let n=e[Mr].indexOf(t);n!==-1&&e[Mr].splice(n,1)}function Di(e){let t=e[Tt];return nr(t)?t[Tt]:t}function hp(e){return e[pl]??=[]}function pp(e){return e.cleanup??=[]}function BI(e,t,n,r){let i=hp(t);i.push(n),e.firstCreatePass&&pp(e).push(r,i.length-1)}var we={lFrame:B_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var bh=!1;function UI(){return we.lFrame.elementDepthCount}function HI(){we.lFrame.elementDepthCount++}function $I(){we.lFrame.elementDepthCount--}function gp(){return we.bindingsEnabled}function zI(){return we.skipHydrationRootTNode!==null}function GI(e){return we.skipHydrationRootTNode===e}function WI(){we.skipHydrationRootTNode=null}function xe(){return we.lFrame.lView}function ht(){return we.lFrame.tView}function At(e){return we.lFrame.contextLView=e,e[Ut]}function xt(e){return we.lFrame.contextLView=null,e}function $t(){let e=N_();for(;e!==null&&e.type===64;)e=e.parent;return e}function N_(){return we.lFrame.currentTNode}function qI(){let e=we.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Ii(e,t){let n=we.lFrame;n.currentTNode=e,n.isParent=t}function mp(){return we.lFrame.isParent}function P_(){we.lFrame.isParent=!1}function KI(){return we.lFrame.contextLView}function k_(){return bh}function bv(e){let t=bh;return bh=e,t}function yp(){let e=we.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function F_(){return we.lFrame.bindingIndex}function YI(e){return we.lFrame.bindingIndex=e}function zs(){return we.lFrame.bindingIndex++}function vp(e){let t=we.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function ZI(){return we.lFrame.inI18n}function XI(e,t){let n=we.lFrame;n.bindingIndex=n.bindingRootIndex=e,Dh(t)}function QI(){return we.lFrame.currentDirectiveIndex}function Dh(e){we.lFrame.currentDirectiveIndex=e}function JI(e){let t=we.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function L_(){return we.lFrame.currentQueryIndex}function _p(e){we.lFrame.currentQueryIndex=e}function eS(e){let t=e[Ce];return t.type===2?t.declTNode:t.type===1?e[bn]:null}function V_(e,t,n){if(n&_e.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&_e.Host);)if(i=eS(o),i===null||(o=o[wo],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=we.lFrame=j_();return r.currentTNode=t,r.lView=e,!0}function bp(e){let t=j_(),n=e[Ce];we.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function j_(){let e=we.lFrame,t=e===null?null:e.child;return t===null?B_(e):t}function B_(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function U_(){let e=we.lFrame;return we.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var H_=U_;function Dp(){let e=U_();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function tS(e){return(we.lFrame.contextLView=VI(e,we.lFrame.contextLView))[Ut]}function xr(){return we.lFrame.selectedIndex}function wi(e){we.lFrame.selectedIndex=e}function Ul(){let e=we.lFrame;return A_(e.tView,e.selectedIndex)}function nS(){return we.lFrame.currentNamespace}var $_=!0;function Hl(){return $_}function $l(e){$_=e}function rS(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=I_(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function wp(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:h,ngOnDestroy:g}=o;s&&(e.contentHooks??=[]).push(-n,s),c&&((e.contentHooks??=[]).push(n,c),(e.contentCheckHooks??=[]).push(n,c)),u&&(e.viewHooks??=[]).push(-n,u),h&&((e.viewHooks??=[]).push(n,h),(e.viewCheckHooks??=[]).push(n,h)),g!=null&&(e.destroyHooks??=[]).push(n,g)}}function rl(e,t,n){z_(e,t,3,n)}function il(e,t,n,r){(e[de]&3)===n&&z_(e,t,n,r)}function th(e,t){let n=e[de];(n&3)===t&&(n&=16383,n+=1,e[de]=n)}function z_(e,t,n,r){let i=r!==void 0?e[lo]&65535:0,o=r??-1,s=t.length-1,c=0;for(let u=i;u<s;u++)if(typeof t[u+1]=="number"){if(c=t[u],r!=null&&c>=r)break}else t[u]<0&&(e[lo]+=65536),(c<o||o==-1)&&(iS(e,n,t,u),e[lo]=(e[lo]&4294901760)+u+2),u++}function Dv(e,t){Ve(4,e,t);let n=Ae(null);try{t.call(e)}finally{Ae(n),Ve(5,e,t)}}function iS(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=e[s];i?e[de]>>14<e[lo]>>16&&(e[de]&3)===t&&(e[de]+=16384,Dv(c,o)):Dv(c,o)}var po=-1,Ci=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function oS(e){return(e.flags&8)!==0}function sS(e){return(e.flags&16)!==0}function aS(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];e.setAttribute(t,s,c,o)}else{let o=i,s=n[++r];lS(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function cS(e){return e===3||e===4||e===6}function lS(e){return e.charCodeAt(0)===64}function vo(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?wv(e,n,i,null,t[++r]):wv(e,n,i,null,null))}}return e}function wv(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let c=e[o++];if(typeof c=="number"){if(c===t){s=-1;break}else if(c>t){s=o-1;break}}}for(;o<e.length;){let c=e[o];if(typeof c=="number")break;if(c===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function G_(e){return e!==po}function vl(e){return e&32767}function uS(e){return e>>16}function _l(e,t){let n=uS(e),r=t;for(;n>0;)r=r[wo],n--;return r}var wh=!0;function bl(e){let t=wh;return wh=e,t}var dS=256,W_=dS-1,q_=5,fS=0,xn={};function hS(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ps)&&(r=n[Ps]),r==null&&(r=n[Ps]=fS++);let i=r&W_,o=1<<i;t.data[e+(i>>q_)]|=o}function Dl(e,t){let n=K_(e,t);if(n!==-1)return n;let r=t[Ce];r.firstCreatePass&&(e.injectorIndex=t.length,nh(r.data,e),nh(t,null),nh(r.blueprint,null));let i=Cp(e,t),o=e.injectorIndex;if(G_(i)){let s=vl(i),c=_l(i,t),u=c[Ce].data;for(let h=0;h<8;h++)t[o+h]=c[s+h]|u[s+h]}return t[o+8]=i,o}function nh(e,t){e.push(0,0,0,0,0,0,0,0,t)}function K_(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Cp(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=J_(i),r===null)return po;if(n++,i=i[wo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return po}function Ch(e,t,n){hS(e,t,n)}function Y_(e,t,n){if(n&_e.Optional||e!==void 0)return e;ap(t,"NodeInjector")}function Z_(e,t,n,r){if(n&_e.Optional&&r===void 0&&(r=null),(n&(_e.Self|_e.Host))===0){let i=e[vi],o=jt(void 0);try{return i?i.get(t,r,n&_e.Optional):l_(t,r,n&_e.Optional)}finally{jt(o)}}return Y_(r,t,n)}function X_(e,t,n,r=_e.Default,i){if(e!==null){if(t[de]&2048&&!(r&_e.Self)){let s=yS(e,t,n,r,xn);if(s!==xn)return s}let o=Q_(e,t,n,r,xn);if(o!==xn)return o}return Z_(t,n,r,i)}function Q_(e,t,n,r,i){let o=gS(n);if(typeof o=="function"){if(!V_(t,e,r))return r&_e.Host?Y_(i,n,r):Z_(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&_e.Optional))ap(n);else return s}finally{H_()}}else if(typeof o=="number"){let s=null,c=K_(e,t),u=po,h=r&_e.Host?t[On][bn]:null;for((c===-1||r&_e.SkipSelf)&&(u=c===-1?Cp(e,t):t[c+8],u===po||!Ev(r,!1)?c=-1:(s=t[Ce],c=vl(u),t=_l(u,t)));c!==-1;){let g=t[Ce];if(Cv(o,c,g.data)){let v=pS(c,t,n,s,r,h);if(v!==xn)return v}u=t[c+8],u!==po&&Ev(r,t[Ce].data[c+8]===h)&&Cv(o,c,t)?(s=g,c=vl(u),t=_l(u,t)):c=-1}}return i}function pS(e,t,n,r,i,o){let s=t[Ce],c=s.data[e+8],u=r==null?Co(c)&&wh:r!=s&&(c.type&3)!==0,h=i&_e.Host&&o===c,g=ol(c,s,n,u,h);return g!==null?Vs(t,s,g,c,i):xn}function ol(e,t,n,r,i){let o=e.providerIndexes,s=t.data,c=o&1048575,u=e.directiveStart,h=e.directiveEnd,g=o>>20,v=r?c:c+g,S=i?c+g:h;for(let _=v;_<S;_++){let N=s[_];if(_<u&&n===N||_>=u&&N.type===n)return _}if(i){let _=s[u];if(_&&Rn(_)&&_.type===n)return u}return null}function Vs(e,t,n,r,i){let o=e[n],s=t.data;if(o instanceof Ci){let c=o;c.resolving&&a_(rI(s[n]));let u=bl(c.canSeeViewProviders);c.resolving=!0;let h,g=c.injectImpl?jt(c.injectImpl):null,v=V_(e,r,_e.Default);try{o=e[n]=c.factory(void 0,i,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&rS(n,s[n],t)}finally{g!==null&&jt(g),bl(u),c.resolving=!1,H_()}}return o}function gS(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Ps)?e[Ps]:void 0;return typeof t=="number"?t>=0?t&W_:mS:t}function Cv(e,t,n){let r=1<<e;return!!(n[t+(e>>q_)]&r)}function Ev(e,t){return!(e&_e.Self)&&!(e&_e.Host&&t)}var pi=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return X_(this._tNode,this._lView,t,Pl(r),n)}};function mS(){return new pi($t(),xe())}function Qt(e){return Us(()=>{let t=e.prototype.constructor,n=t[cl]||Eh(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[cl]||Eh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Eh(e){return n_(e)?()=>{let t=Eh(Nt(e));return t&&t()}:gi(e)}function yS(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[de]&2048&&!yl(s);){let c=Q_(o,s,n,r|_e.Self,xn);if(c!==xn)return c;let u=o.parent;if(!u){let h=s[w_];if(h){let g=h.get(n,xn,r);if(g!==xn)return g}u=J_(s),s=s[wo]}o=u}return i}function J_(e){let t=e[Ce],n=t.type;return n===2?t.declTNode:n===1?e[bn]:null}function Iv(e,t=null,n=null,r){let i=eb(e,t,n,r);return i.resolveInjectorInitializers(),i}function eb(e,t=null,n=null,r,i=new Set){let o=[n||sn,bI(e)];return r=r||(typeof e=="object"?void 0:Bt(e)),new Fs(o,t||Ll(),r||null,i)}var Ze=class e{static THROW_IF_NOT_FOUND=hi;static NULL=new fl;static create(t,n){if(Array.isArray(t))return Iv({name:""},n,t,"");{let r=t.name??"";return Iv({name:r},t.parent,t.providers,r)}}static \u0275prov=j({token:e,providedIn:"any",factory:()=>ne(h_)});static __NG_ELEMENT_ID__=-1};var vS=new K("");vS.__NG_ELEMENT_ID__=e=>{let t=$t();if(t===null)throw new ee(204,!1);if(t.type&2)return t.value;if(e&_e.Optional)return null;throw new ee(204,!1)};var tb=!1,Gs=(()=>{class e{static __NG_ELEMENT_ID__=_S;static __NG_ENV_ID__=n=>n}return e})(),Ih=class extends Gs{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let n=this._lView;return Eo(n)?(t(),()=>{}):(R_(n,t),()=>jI(n,t))}};function _S(){return new Ih(xe())}var _o=class{},nb=new K("",{providedIn:"root",factory:()=>!1});var rb=new K(""),ib=new K(""),Or=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Ye(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=j({token:e,providedIn:"root",factory:()=>new e})}return e})();var Sh=class extends ue{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,b_()&&(this.destroyRef=w(Gs,{optional:!0})??void 0,this.pendingTasks=w(Or,{optional:!0})??void 0)}emit(t){let n=Ae(null);try{super.next(t)}finally{Ae(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let u=t;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return t instanceof $e&&t.add(c),c}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},We=Sh;function wl(...e){}function ob(e){let t,n;function r(){e=wl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Sv(e){return queueMicrotask(()=>e()),()=>{e=wl}}var Ep="isAngularZone",Cl=Ep+"_ID",bS=0,Me=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new We(!1);onMicrotaskEmpty=new We(!1);onStable=new We(!1);onError=new We(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=tb}=t;if(typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,CS(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ep)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new ee(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,DS,wl,wl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},DS={};function Ip(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function wS(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){ob(()=>{e.callbackScheduled=!1,Mh(e),e.isCheckStableRunning=!0,Ip(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Mh(e)}function CS(e){let t=()=>{wS(e)},n=bS++;e._inner=e._inner.fork({name:"angular",properties:{[Ep]:!0,[Cl]:n,[Cl+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(ES(u))return r.invokeTask(o,s,c,u);try{return Mv(e),r.invokeTask(o,s,c,u)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Tv(e)}},onInvoke:(r,i,o,s,c,u,h)=>{try{return Mv(e),r.invoke(o,s,c,u,h)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!IS(u)&&t(),Tv(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Mh(e),Ip(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Mh(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Mv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Tv(e){e._nesting--,Ip(e)}var Th=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new We;onMicrotaskEmpty=new We;onStable=new We;onError=new We;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function ES(e){return sb(e,"__ignore_ng_zone__")}function IS(e){return sb(e,"__scheduler_tick__")}function sb(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var kn=class{_console=console;handleError(t){this._console.error("ERROR",t)}},SS=new K("",{providedIn:"root",factory:()=>{let e=w(Me),t=w(kn);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function Av(e,t){return e_(e,t)}function MS(e){return e_(Jv,e)}var ab=(Av.required=MS,Av);function TS(){return Io($t(),xe())}function Io(e,t){return new nt(Vn(e,t))}var nt=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=TS}return e})();function AS(e){return e instanceof nt?e.nativeElement:e}function xS(e){return typeof e=="function"&&e[on]!==void 0}function zl(e,t){let n=Nf(e,t?.equal),r=n[on];return n.set=i=>ws(r,i),n.update=i=>Pf(r,i),n.asReadonly=OS.bind(n),n}function OS(){let e=this[on];if(e.readonlyFn===void 0){let t=()=>this();t[on]=e,e.readonlyFn=t}return e.readonlyFn}function cb(e){return xS(e)&&typeof e.set=="function"}function RS(){return this._results[Symbol.iterator]()}var Ah=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ue}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=pI(t);(this._changesDetected=!hI(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=RS};function lb(e){return(e.flags&128)===128}var ub=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ub||{}),db=new Map,NS=0;function PS(){return NS++}function kS(e){db.set(e[Vl],e)}function xh(e){db.delete(e[Vl])}var xv="__ngContext__";function So(e,t){Tr(t)?(e[xv]=t[Vl],kS(t)):e[xv]=t}function fb(e){return pb(e[Ls])}function hb(e){return pb(e[vn])}function pb(e){for(;e!==null&&!nr(e);)e=e[vn];return e}var Oh;function gb(e){Oh=e}function FS(){if(Oh!==void 0)return Oh;if(typeof document<"u")return document;throw new ee(210,!1)}var Mo=new K("",{providedIn:"root",factory:()=>LS}),LS="ng",Sp=new K(""),Si=new K("",{providedIn:"platform",factory:()=>"unknown"});var Gl=new K(""),Ws=new K("",{providedIn:"root",factory:()=>FS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var VS="h",jS="b";var mb=!1,BS=new K("",{providedIn:"root",factory:()=>mb});var Mp=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Mp||{}),To=new K(""),Ov=new Set;function Wl(e){Ov.has(e)||(Ov.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var yb=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=US}return e})();function US(){return new yb(xe(),$t())}var uo=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(uo||{}),vb=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=j({token:e,providedIn:"root",factory:()=>new e})}return e})(),HS=[uo.EarlyRead,uo.Write,uo.MixedReadWrite,uo.Read],$S=(()=>{class e{ngZone=w(Me);scheduler=w(_o);errorHandler=w(kn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){w(To,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Ve(16),this.executing=!0;for(let r of HS)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Ve(17)}register(n){let{view:r}=n;r!==void 0?((r[ho]??=[]).push(n),$s(r),r[de]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Mp.AFTER_NEXT_RENDER,n):n()}static \u0275prov=j({token:e,providedIn:"root",factory:()=>new e})}return e})(),Rh=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,i,o,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[ho];t&&(this.view[ho]=t.filter(n=>n!==this))}};function Tp(e,t){!t?.injector&&D_(Tp);let n=t?.injector??w(Ze);return Wl("NgAfterRender"),_b(e,n,t,!1)}function ir(e,t){!t?.injector&&D_(ir);let n=t?.injector??w(Ze);return Wl("NgAfterNextRender"),_b(e,n,t,!0)}function zS(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function _b(e,t,n,r){let i=t.get(vb);i.impl??=t.get($S);let o=t.get(To,null,{optional:!0}),s=n?.phase??uo.MixedReadWrite,c=n?.manualCleanup!==!0?t.get(Gs):null,u=t.get(yb,null,{optional:!0}),h=new Rh(i.impl,zS(e,s),u?.view,r,c,o?.snapshot(null));return i.impl.register(h),h}var GS=()=>null;function bb(e,t,n=!1){return GS(e,t,n)}function Db(e,t){let n=e.contentQueries;if(n!==null){let r=Ae(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=e.data[s];_p(o),c.contentQueries(2,t[s],s)}}}finally{Ae(r)}}}function Nh(e,t,n){_p(0);let r=Ae(null);try{t(e,n)}finally{Ae(r)}}function Ap(e,t,n){if(up(t)){let r=Ae(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let c=e.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{Ae(r)}}}var Fn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Fn||{});var El=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Qv})`}};function wb(e){return e instanceof El?e.changingThisBreaksApplicationSecurity:e}function WS(e,t){let n=qS(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Qv})`)}return n===t}function qS(e){return e instanceof El&&e.getTypeName()||null}var KS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function YS(e){return e=String(e),e.match(KS)?e:"unsafe:"+e}var Cb=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Cb||{});function ql(e){let t=ZS();return t?t.sanitize(Cb.URL,e)||"":WS(e,"URL")?wb(e):YS(Zn(e))}function ZS(){let e=xe();return e&&e[Xn].sanitizer}var XS=/^>|^->|<!--|-->|--!>|<!-$/g,QS=/(<|>)/g,JS="\u200B$1\u200B";function eM(e){return e.replace(XS,t=>t.replace(QS,JS))}function Eb(e){return e instanceof Function?e():e}function tM(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var Ib="ng-template";function nM(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&tM(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(xp(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function xp(e){return e.type===4&&e.value!==Ib}function rM(e,t,n){let r=e.type===4&&!n?Ib:e.value;return t===r}function iM(e,t,n){let r=4,i=e.attrs,o=i!==null?aM(i):0,s=!1;for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="number"){if(!s&&!yn(r)&&!yn(u))return!1;if(s&&yn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!rM(e,u,n)||u===""&&t.length===1){if(yn(r))return!1;s=!0}}else if(r&8){if(i===null||!nM(e,i,u,n)){if(yn(r))return!1;s=!0}}else{let h=t[++c],g=oM(u,i,xp(e),n);if(g===-1){if(yn(r))return!1;s=!0;continue}if(h!==""){let v;if(g>o?v="":v=i[g+1].toLowerCase(),r&2&&h!==v){if(yn(r))return!1;s=!0}}}}return yn(r)||s}function yn(e){return(e&1)===0}function oM(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=t[++i];for(;typeof c=="string";)c=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return cM(t,e)}function sM(e,t,n=!1){for(let r=0;r<t.length;r++)if(iM(e,t[r],n))return!0;return!1}function aM(e){for(let t=0;t<e.length;t++){let n=e[t];if(cS(n))return t}return e.length}function cM(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function Rv(e,t){return e?":not("+t.trim()+")":t}function lM(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let c=e[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!yn(s)&&(t+=Rv(o,i),i=""),r=s,o=o||!yn(r);n++}return i!==""&&(t+=Rv(o,i)),t}function uM(e){return e.map(lM).join(",")}function dM(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!yn(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var ln={};function fM(e,t){return e.createText(t)}function hM(e,t,n){e.setValue(t,n)}function pM(e,t){return e.createComment(eM(t))}function Sb(e,t,n){return e.createElement(t,n)}function Il(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Mb(e,t,n){e.appendChild(t,n)}function Nv(e,t,n,r,i){r!==null?Il(e,t,n,r,i):Mb(e,t,n)}function gM(e,t,n){e.removeChild(null,t,n)}function mM(e,t,n){e.setAttribute(t,"style",n)}function yM(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Tb(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&aS(e,t,r),i!==null&&yM(e,t,i),o!==null&&mM(e,t,o)}function Op(e,t,n,r,i,o,s,c,u,h,g){let v=Ht+r,S=v+i,_=vM(v,S),N=typeof h=="function"?h():h;return _[Ce]={type:e,blueprint:_,template:n,queries:null,viewQuery:c,declTNode:t,data:_.slice().fill(null,v),bindingStartIndex:v,expandoStartIndex:S,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:N,incompleteFirstPass:!1,ssrId:g}}function vM(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:ln);return n}function _M(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Op(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Rp(e,t,n,r,i,o,s,c,u,h,g){let v=t.blueprint.slice();return v[tr]=i,v[de]=r|4|128|8|64|1024,(h!==null||e&&e[de]&2048)&&(v[de]|=2048),x_(v),v[Tt]=v[wo]=e,v[Ut]=n,v[Xn]=s||e&&e[Xn],v[st]=c||e&&e[st],v[vi]=u||e&&e[vi]||null,v[bn]=o,v[Vl]=PS(),v[hl]=g,v[w_]=h,v[On]=t.type==2?e[On]:v,v}function bM(e,t,n){let r=Vn(t,e),i=_M(n),o=e[Xn].rendererFactory,s=Np(e,Rp(e,i,null,Ab(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function Ab(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function xb(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Np(e,t){return e[Ls]?e[vv][vn]=t:e[Ls]=t,e[vv]=t,t}function X(e=1){Ob(ht(),xe(),xr()+e,!1)}function Ob(e,t,n,r){if(!r)if((t[de]&3)===3){let o=e.preOrderCheckHooks;o!==null&&rl(t,o,n)}else{let o=e.preOrderHooks;o!==null&&il(t,o,0,n)}wi(n)}var Kl=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Kl||{});function Ph(e,t,n,r){let i=Ae(null);try{let[o,s,c]=e.inputs[n],u=null;(s&Kl.SignalBased)!==0&&(u=t[o][on]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(t,r)),e.setInput!==null?e.setInput(t,u,r,n,o):E_(t,u,o,r)}finally{Ae(i)}}function Rb(e,t,n,r,i){let o=xr(),s=r&2;try{wi(-1),s&&t.length>Ht&&Ob(e,t,Ht,!1),Ve(s?2:0,i),n(r,i)}finally{wi(o),Ve(s?3:1,i)}}function Yl(e,t,n){SM(e,t,n),(n.flags&64)===64&&MM(e,t,n)}function Pp(e,t,n=Vn){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(t,e):e[s];e[i++]=c}}}function DM(e,t,n,r){let o=r.get(BS,mb)||n===Fn.ShadowDom,s=e.selectRootElement(t,o);return wM(s),s}function wM(e){CM(e)}var CM=()=>null;function EM(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function kp(e,t,n,r,i,o,s,c){if(!c&&Lp(t,e,n,r,i)){Co(t)&&IM(n,t.index);return}if(t.type&3){let u=Vn(t,n);r=EM(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(u,r,i)}else t.type&12}function IM(e,t){let n=Pn(t,e);n[de]&16||(n[de]|=64)}function SM(e,t,n){let r=n.directiveStart,i=n.directiveEnd;Co(n)&&bM(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Dl(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let c=e.data[s],u=Vs(t,e,s,n);if(So(u,t),o!==null&&OM(t,s-r,u,c,n,o),Rn(c)){let h=Pn(n.index,t);h[Ut]=Vs(t,e,s,n)}}}function MM(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=QI();try{wi(o);for(let c=r;c<i;c++){let u=e.data[c],h=t[c];Dh(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&TM(u,h)}}finally{wi(-1),Dh(s)}}function TM(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function Fp(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];sM(t,o.selectors,!1)&&(r??=[],Rn(o)?r.unshift(o):r.push(o))}return r}function AM(e,t,n,r,i,o){let s=Vn(e,t);xM(t[st],s,o,e.value,n,r,i)}function xM(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let c=s==null?Zn(o):s(o,r||"",i);e.setAttribute(t,i,c,n)}}function OM(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],h=s[c+1];Ph(r,n,u,h)}}function RM(e,t){let n=e[vi],r=n?n.get(kn,null):null;r&&r.handleError(t)}function Lp(e,t,n,r,i){let o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let h=s[u],g=s[u+1],v=t.data[h];Ph(v,n[h],g,i),c=!0}if(o)for(let u of o){let h=n[u],g=t.data[u];Ph(g,h,r,i),c=!0}return c}function NM(e,t){let n=Pn(t,e),r=n[Ce];PM(r,n);let i=n[tr];i!==null&&n[hl]===null&&(n[hl]=bb(i,n[vi])),Ve(18),Vp(r,n,n[Ut]),Ve(19,n[Ut])}function PM(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Vp(e,t,n){bp(t);try{let r=e.viewQuery;r!==null&&Nh(1,r,n);let i=e.template;i!==null&&Rb(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Qn]?.finishViewCreation(e),e.staticContentQueries&&Db(e,t),e.staticViewQueries&&Nh(2,e.viewQuery,n);let o=e.components;o!==null&&kM(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[de]&=-5,Dp()}}function kM(e,t){for(let n=0;n<t.length;n++)NM(e,t[n])}function FM(e,t,n,r){let i=Ae(null);try{let o=t.tView,c=e[de]&4096?4096:16,u=Rp(e,o,n,c,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),h=e[t.index];u[_i]=h;let g=e[Qn];return g!==null&&(u[Qn]=g.createEmbeddedView(o)),Vp(o,u,n),u}finally{Ae(i)}}function Pv(e,t){return!t||t.firstChild===null||lb(e)}var LM;function jp(e,t){return LM(e,t)}var Jn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Jn||{});function Nb(e){return(e.flags&32)===32}function fo(e,t,n,r,i){if(r!=null){let o,s=!1;nr(r)?o=r:Tr(r)&&(s=!0,r=r[tr]);let c=Nn(r);e===0&&n!==null?i==null?Mb(t,n,c):Il(t,n,c,i||null,!0):e===1&&n!==null?Il(t,n,c,i||null,!0):e===2?gM(t,c,s):e===3&&t.destroyNode(c),o!=null&&YM(t,e,o,n,i)}}function VM(e,t){Pb(e,t),t[tr]=null,t[bn]=null}function jM(e,t,n,r,i,o){r[tr]=i,r[bn]=t,Xl(e,r,n,1,i,o)}function Pb(e,t){t[Xn].changeDetectionScheduler?.notify(9),Xl(e,t,t[st],2,null,null)}function BM(e){let t=e[Ls];if(!t)return rh(e[Ce],e);for(;t;){let n=null;if(Tr(t))n=t[Ls];else{let r=t[Zt];r&&(n=r)}if(!n){for(;t&&!t[vn]&&t!==e;)Tr(t)&&rh(t[Ce],t),t=t[Tt];t===null&&(t=e),Tr(t)&&rh(t[Ce],t),n=t&&t[vn]}t=n}}function Bp(e,t){let n=e[mo],r=n.indexOf(t);n.splice(r,1)}function kb(e,t){if(Eo(t))return;let n=t[st];n.destroyNode&&Xl(e,t,n,3,null,null),BM(t)}function rh(e,t){if(Eo(t))return;let n=Ae(null);try{t[de]&=-129,t[de]|=256,t[an]&&xf(t[an]),HM(e,t),UM(e,t),t[Ce].type===1&&t[st].destroy();let r=t[_i];if(r!==null&&nr(t[Tt])){r!==t[Tt]&&Bp(r,t);let i=t[Qn];i!==null&&i.detachView(e)}xh(t)}finally{Ae(n)}}function UM(e,t){let n=e.cleanup,r=t[pl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[n[s+1]];n[s].call(c)}r!==null&&(t[pl]=null);let i=t[Mr];if(i!==null){t[Mr]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=t[gl];if(o!==null){t[gl]=null;for(let s of o)s.destroy()}}function HM(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Ci)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];Ve(4,c,u);try{u.call(c)}finally{Ve(5,c,u)}}else{Ve(4,i,o);try{o.call(i)}finally{Ve(5,i,o)}}}}}function $M(e,t,n){return zM(e,t.parent,n)}function zM(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[tr];if(Co(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Fn.None||i===Fn.Emulated)return null}return Vn(r,n)}function GM(e,t,n){return qM(e,t,n)}function WM(e,t,n){return e.type&40?Vn(e,n):null}var qM=WM,kv;function Zl(e,t,n,r){let i=$M(e,r,t),o=t[st],s=r.parent||t[bn],c=GM(s,r,t);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Nv(o,i,n[u],c,!1);else Nv(o,i,n,c,!1);kv!==void 0&&kv(o,r,t,n,i)}function Ns(e,t){if(t!==null){let n=t.type;if(n&3)return Vn(t,e);if(n&4)return kh(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Ns(e,r);{let i=e[t.index];return nr(i)?kh(-1,i):Nn(i)}}else{if(n&128)return Ns(e,t.next);if(n&32)return jp(t,e)()||Nn(e[t.index]);{let r=Fb(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Di(e[On]);return Ns(i,r)}else return Ns(e,t.next)}}}return null}function Fb(e,t){if(t!==null){let r=e[On][bn],i=t.projection;return r.projection[i]}return null}function kh(e,t){let n=Zt+e+1;if(n<t.length){let r=t[n],i=r[Ce].firstChild;if(i!==null)return Ns(r,i)}return t[bi]}function Up(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&t===0&&(c&&So(Nn(c),r),n.flags|=2),!Nb(n))if(u&8)Up(e,t,n.child,r,i,o,!1),fo(t,e,i,c,o);else if(u&32){let h=jp(n,r),g;for(;g=h();)fo(t,e,i,g,o);fo(t,e,i,c,o)}else u&16?KM(e,t,r,n,i,o):fo(t,e,i,c,o);n=s?n.projectionNext:n.next}}function Xl(e,t,n,r,i,o){Up(n,r,e.firstChild,t,i,o,!1)}function KM(e,t,n,r,i,o){let s=n[On],u=s[bn].projection[r.projection];if(Array.isArray(u))for(let h=0;h<u.length;h++){let g=u[h];fo(t,e,i,g,o)}else{let h=u,g=s[Tt];lb(r)&&(h.flags|=128),Up(e,t,h,g,i,o,!0)}}function YM(e,t,n,r,i){let o=n[bi],s=Nn(n);o!==s&&fo(t,e,r,o,i);for(let c=Zt;c<n.length;c++){let u=n[c];Xl(u[Ce],u,e,t,r,o)}}function ZM(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Jn.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Jn.Important),e.setStyle(n,r,i,o))}}function Sl(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(Nn(o)),nr(o)&&XM(o,r);let s=n.type;if(s&8)Sl(e,t,n.child,r);else if(s&32){let c=jp(n,t),u;for(;u=c();)r.push(u)}else if(s&16){let c=Fb(t,n);if(Array.isArray(c))r.push(...c);else{let u=Di(t[On]);Sl(u[Ce],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function XM(e,t){for(let n=Zt;n<e.length;n++){let r=e[n],i=r[Ce].firstChild;i!==null&&Sl(r[Ce],r,i,t)}e[bi]!==e[tr]&&t.push(e[bi])}function Lb(e){if(e[ho]!==null){for(let t of e[ho])t.impl.addSequence(t);e[ho].length=0}}var Vb=[];function QM(e){return e[an]??JM(e)}function JM(e){let t=Vb.pop()??Object.create(tT);return t.lView=e,t}function eT(e){e.lView[an]!==e&&(e.lView=null,Vb.push(e))}var tT=ie(L({},bs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{$s(e.lView)},consumerOnSignalRead(){this.lView[an]=this}});function nT(e){let t=e[an]??Object.create(rT);return t.lView=e,t}var rT=ie(L({},bs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Di(e.lView);for(;t&&!jb(t[Ce]);)t=Di(t);t&&O_(t)},consumerOnSignalRead(){this.lView[an]=this}});function jb(e){return e.type!==2}function Bb(e){if(e[gl]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[gl])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[de]&8192)}}var iT=100;function Ub(e,t=!0,n=0){let i=e[Xn].rendererFactory,o=!1;o||i.begin?.();try{oT(e,n)}catch(s){throw t&&RM(e,s),s}finally{o||i.end?.()}}function oT(e,t){let n=k_();try{bv(!0),Fh(e,t);let r=0;for(;Bl(e);){if(r===iT)throw new ee(103,!1);r++,Fh(e,1)}}finally{bv(n)}}function sT(e,t,n,r){if(Eo(t))return;let i=t[de],o=!1,s=!1;bp(t);let c=!0,u=null,h=null;o||(jb(e)?(h=QM(t),u=_c(h)):Ef()===null?(c=!1,h=nT(t),u=_c(h)):t[an]&&(xf(t[an]),t[an]=null));try{x_(t),YI(e.bindingStartIndex),n!==null&&Rb(e,t,n,2,r);let g=(i&3)===3;if(!o)if(g){let _=e.preOrderCheckHooks;_!==null&&rl(t,_,null)}else{let _=e.preOrderHooks;_!==null&&il(t,_,0,null),th(t,0)}if(s||aT(t),Bb(t),Hb(t,0),e.contentQueries!==null&&Db(e,t),!o)if(g){let _=e.contentCheckHooks;_!==null&&rl(t,_)}else{let _=e.contentHooks;_!==null&&il(t,_,1),th(t,1)}lT(e,t);let v=e.components;v!==null&&zb(t,v,0);let S=e.viewQuery;if(S!==null&&Nh(2,S,r),!o)if(g){let _=e.viewCheckHooks;_!==null&&rl(t,_)}else{let _=e.viewHooks;_!==null&&il(t,_,2),th(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[eh]){for(let _ of t[eh])_();t[eh]=null}o||(Lb(t),t[de]&=-73)}catch(g){throw o||$s(t),g}finally{h!==null&&(Tf(h,u),c&&eT(h)),Dp()}}function Hb(e,t){for(let n=fb(e);n!==null;n=hb(n))for(let r=Zt;r<n.length;r++){let i=n[r];$b(i,t)}}function aT(e){for(let t=fb(e);t!==null;t=hb(t)){if(!(t[de]&2))continue;let n=t[mo];for(let r=0;r<n.length;r++){let i=n[r];O_(i)}}}function cT(e,t,n){Ve(18);let r=Pn(t,e);$b(r,n),Ve(19,r[Ut])}function $b(e,t){fp(e)&&Fh(e,t)}function Fh(e,t){let r=e[Ce],i=e[de],o=e[an],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Af(o)),s||=!1,o&&(o.dirty=!1),e[de]&=-9217,s)sT(r,e,r.template,e[Ut]);else if(i&8192){Bb(e),Hb(e,1);let c=r.components;c!==null&&zb(e,c,1),Lb(e)}}function zb(e,t,n){for(let r=0;r<t.length;r++)cT(e,t[r],n)}function lT(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)wi(~i);else{let o=i,s=n[++r],c=n[++r];XI(s,o);let u=t[o];Ve(24,u),c(2,u),Ve(25,u)}}}finally{wi(-1)}}function Hp(e,t){let n=k_()?64:1088;for(e[Xn].changeDetectionScheduler?.notify(t);e;){e[de]|=n;let r=Di(e);if(yl(e)&&!r)return e;e=r}return null}function Gb(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function uT(e,t,n,r=!0){let i=t[Ce];if(dT(i,t,e,n),r){let s=kh(n,e),c=t[st],u=c.parentNode(e[bi]);u!==null&&jM(i,e[bn],c,t,u,s)}let o=t[hl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Lh(e,t){if(e.length<=Zt)return;let n=Zt+t,r=e[n];if(r){let i=r[_i];i!==null&&i!==e&&Bp(i,r),t>0&&(e[n-1][vn]=r[vn]);let o=dl(e,Zt+t);VM(r[Ce],r);let s=o[Qn];s!==null&&s.detachView(o[Ce]),r[Tt]=null,r[vn]=null,r[de]&=-129}return r}function dT(e,t,n,r){let i=Zt+r,o=n.length;r>0&&(n[i-1][vn]=t),r<o-Zt?(t[vn]=n[i],f_(n,Zt+r,t)):(n.push(t),t[vn]=null),t[Tt]=n;let s=t[_i];s!==null&&n!==s&&Wb(s,t);let c=t[Qn];c!==null&&c.insertView(e),_h(t),t[de]|=128}function Wb(e,t){let n=e[mo],r=t[Tt];if(Tr(r))e[de]|=2;else{let i=r[Tt][On];t[On]!==i&&(e[de]|=2)}n===null?e[mo]=[t]:n.push(t)}var js=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[Ce];return Sl(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Ut]}set context(t){this._lView[Ut]=t}get destroyed(){return Eo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Tt];if(nr(t)){let n=t[ml],r=n?n.indexOf(this):-1;r>-1&&(Lh(t,r),dl(n,r))}this._attachedToViewContainer=!1}kb(this._lView[Ce],this._lView)}onDestroy(t){R_(this._lView,t)}markForCheck(){Hp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[de]&=-129}reattach(){_h(this._lView),this._lView[de]|=128}detectChanges(){this._lView[de]|=1024,Ub(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=yl(this._lView),n=this._lView[_i];n!==null&&!t&&Bp(n,this._lView),Pb(this._lView[Ce],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=t;let n=yl(this._lView),r=this._lView[_i];r!==null&&!n&&Wb(r,this._lView),_h(this._lView)}};var cn=(()=>{class e{static __NG_ELEMENT_ID__=pT}return e})(),fT=cn,hT=class extends fT{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=FM(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new js(i)}};function pT(){return $p($t(),xe())}function $p(e,t){return e.type&4?new hT(t,e,Io(e,t)):null}function Ql(e,t,n,r,i){let o=e.data[t];if(o===null)o=gT(e,t,n,r,i),ZI()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=qI();o.injectorIndex=s===null?-1:s.injectorIndex}return Ii(o,!0),o}function gT(e,t,n,r,i){let o=N_(),s=mp(),c=s?o:o&&o.parent,u=e.data[t]=yT(e,c,n,t,r,i);return mT(e,u,o,s),u}function mT(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function yT(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,c=0;return zI()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var xB=new RegExp(`^(\\d+)*(${jS}|${VS})*(.*)`);var vT=()=>null;function Fv(e,t){return vT(e,t)}var _T=class{},qb=class{},Vh=class{resolveComponentFactory(t){throw Error(`No component factory found for ${Bt(t)}.`)}},Jl=class{static NULL=new Vh},Pt=class{},jn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>bT()}return e})();function bT(){let e=xe(),t=$t(),n=Pn(t.index,e);return(Tr(n)?n:e)[st]}var DT=(()=>{class e{static \u0275prov=j({token:e,providedIn:"root",factory:()=>null})}return e})();var ih={},jh=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Pl(r);let i=this.injector.get(t,ih,r);return i!==ih||n===ih?i:this.parentInjector.get(t,n,r)}};function Bh(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let c=t[s];if(typeof c=="number")o=c;else if(o==1)i=dv(i,c);else if(o==2){let u=c,h=t[++s];r=dv(r,u+": "+h+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function fe(e,t=_e.Default){let n=xe();if(n===null)return ne(e,t);let r=$t();return X_(r,n,Nt(e),t)}function zp(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let c,u=null,h=null,g=CT(s);g===null?c=s:[c,u,h]=g,ST(e,t,n,c,o,u,h)}o!==null&&r!==null&&wT(n,r,o)}function wT(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new ee(-301,!1);r.push(t[i],o)}}function CT(e){let t=null,n=!1;for(let s=0;s<e.length;s++){let c=e[s];if(s===0&&Rn(c)&&(t=c),c.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,ET(s,r,o,i)),s===t&&(r??=[],r.push(s));return r!==null?(r.push(...t===null?e:e.slice(1)),[r,i,o]):null}function ET(e,t,n,r){let i=t.length;e.findHostDirectiveDefs(e,t,r),n.set(e,[i,t.length-1])}function IT(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function ST(e,t,n,r,i,o,s){let c=r.length,u=!1;for(let S=0;S<c;S++){let _=r[S];!u&&Rn(_)&&(u=!0,IT(e,n,S)),Ch(Dl(n,t),e,_.type)}RT(n,e.data.length,c);for(let S=0;S<c;S++){let _=r[S];_.providersResolver&&_.providersResolver(_)}let h=!1,g=!1,v=xb(e,t,c,null);c>0&&(n.directiveToIndex=new Map);for(let S=0;S<c;S++){let _=r[S];if(n.mergedAttrs=vo(n.mergedAttrs,_.hostAttrs),TT(e,n,t,v,_),OT(v,_,i),s!==null&&s.has(_)){let[V,G]=s.get(_);n.directiveToIndex.set(_.type,[v,V+n.directiveStart,G+n.directiveStart])}else(o===null||!o.has(_))&&n.directiveToIndex.set(_.type,v);_.contentQueries!==null&&(n.flags|=4),(_.hostBindings!==null||_.hostAttrs!==null||_.hostVars!==0)&&(n.flags|=64);let N=_.type.prototype;!h&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),h=!0),!g&&(N.ngOnChanges||N.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),g=!0),v++}MT(e,n,o)}function MT(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))Lv(0,t,i,r),Lv(1,t,i,r),jv(t,r,!1);else{let o=n.get(i);Vv(0,t,o,r),Vv(1,t,o,r),jv(t,r,!0)}}}function Lv(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[o]??=[],s[o].push(r),Kb(t,o)}}function Vv(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;e===0?c=t.hostDirectiveInputs??={}:c=t.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),Kb(t,s)}}function Kb(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function jv(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||xp(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let h=i[u];for(let g of h)if(g===t){s??=[],s.push(u,r[c+1]);break}}else if(n&&o.hasOwnProperty(u)){let h=o[u];for(let g=0;g<h.length;g+=2)if(h[g]===t){s??=[],s.push(h[g+1],r[c+1]);break}}c+=2}e.initialInputs??=[],e.initialInputs.push(s)}function TT(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=gi(i.type,!0)),s=new Ci(o,Rn(i),fe);e.blueprint[r]=s,n[r]=s,AT(e,t,r,xb(e,n,i.hostVars,ln),i)}function AT(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let c=~t.index;xT(s)!=c&&s.push(c),s.push(n,r,o)}}function xT(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function OT(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Rn(t)&&(n[""]=e)}}function RT(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Yb(e,t,n,r,i,o,s,c){let u=t.consts,h=yo(u,s),g=Ql(t,e,2,r,h);return o&&zp(t,n,g,yo(u,c),i),g.mergedAttrs=vo(g.mergedAttrs,g.attrs),g.attrs!==null&&Bh(g,g.attrs,!1),g.mergedAttrs!==null&&Bh(g,g.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,g),g}function Zb(e,t){wp(e,t),up(t)&&e.queries.elementEnd(t)}var Ml=class extends Jl{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=yi(t);return new bo(n,this.ngModule)}};function NT(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&Kl.SignalBased)!==0};return i&&(o.transform=i),o})}function PT(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function kT(e,t,n){let r=t instanceof ct?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new jh(n,r):n}function FT(e){let t=e.get(Pt,null);if(t===null)throw new ee(407,!1);let n=e.get(DT,null),r=e.get(_o,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function LT(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return Sb(t,n,n==="svg"?PI:n==="math"?kI:null)}var bo=class extends qb{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=NT(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=PT(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=uM(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i){Ve(22);let o=Ae(null);try{let s=this.componentDef,c=r?["ng-version","19.2.10"]:dM(this.componentDef.selectors[0]),u=Op(0,null,null,1,0,null,null,null,null,[c],null),h=kT(s,i||this.ngModule,t),g=FT(h),v=g.rendererFactory.createRenderer(null,s),S=r?DM(v,r,s.encapsulation,h):LT(s,v),_=Rp(null,u,null,512|Ab(s),null,null,g,v,h,null,bb(S,h,!0));_[Ht]=S,bp(_);let N=null;try{let V=Yb(Ht,u,_,"#host",()=>[this.componentDef],!0,0);S&&(Tb(v,S,V),So(S,_)),Yl(u,_,V),Ap(u,V,_),Zb(u,V),n!==void 0&&VT(V,this.ngContentSelectors,n),N=Pn(V.index,_),_[Ut]=N[Ut],Vp(u,_,null)}catch(V){throw N!==null&&xh(N),xh(_),V}finally{Ve(23),Dp()}return new Uh(this.componentType,_)}finally{Ae(o)}}},Uh=class extends _T{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=A_(n[Ce],Ht),this.location=Io(this._tNode,n),this.instance=Pn(this._tNode.index,n)[Ut],this.hostView=this.changeDetectorRef=new js(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=Lp(r,i[Ce],i,t,n);this.previousInputValues.set(t,n);let s=Pn(r.index,i);Hp(s,1)}get injector(){return new pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function VT(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var un=(()=>{class e{static __NG_ELEMENT_ID__=jT}return e})();function jT(){let e=$t();return Qb(e,xe())}var BT=un,Xb=class extends BT{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Io(this._hostTNode,this._hostLView)}get injector(){return new pi(this._hostTNode,this._hostLView)}get parentInjector(){let t=Cp(this._hostTNode,this._hostLView);if(G_(t)){let n=_l(t,this._hostLView),r=vl(t),i=n[Ce].data[r+8];return new pi(i,n)}else return new pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Bv(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Zt}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Fv(this._lContainer,t.ssrId),c=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,Pv(this._hostTNode,s)),c}createComponent(t,n,r,i,o){let s=t&&!xI(t),c;if(s)c=n;else{let N=n||{};c=N.index,r=N.injector,i=N.projectableNodes,o=N.environmentInjector||N.ngModuleRef}let u=s?t:new bo(yi(t)),h=r||this.parentInjector;if(!o&&u.ngModule==null){let V=(s?h:this.parentInjector).get(ct,null);V&&(o=V)}let g=yi(u.componentType??{}),v=Fv(this._lContainer,g?.id??null),S=v?.firstChild??null,_=u.create(h,i,S,o);return this.insertImpl(_.hostView,c,Pv(this._hostTNode,v)),_}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(LI(i)){let c=this.indexOf(t);if(c!==-1)this.detach(c);else{let u=i[Tt],h=new Xb(u,u[bn],u[Tt]);h.detach(h.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return uT(s,i,o,r),t.attachToViewContainerRef(),f_(oh(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Bv(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Lh(this._lContainer,n);r&&(dl(oh(this._lContainer),n),kb(r[Ce],r))}detach(t){let n=this._adjustIndex(t,-1),r=Lh(this._lContainer,n);return r&&dl(oh(this._lContainer),n)!=null?new js(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Bv(e){return e[ml]}function oh(e){return e[ml]||(e[ml]=[])}function Qb(e,t){let n,r=t[e.index];return nr(r)?n=r:(n=Gb(r,t,null,e),t[e.index]=n,Np(t,n)),HT(n,t,e,r),new Xb(n,e,t)}function UT(e,t){let n=e[st],r=n.createComment(""),i=Vn(t,e),o=n.parentNode(i);return Il(n,o,r,n.nextSibling(i),!1),r}var HT=GT,$T=()=>!1;function zT(e,t,n){return $T(e,t,n)}function GT(e,t,n,r){if(e[bi])return;let i;n.type&8?i=Nn(r):i=UT(t,n),e[bi]=i}var Hh=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},$h=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),c=this.queries[s.indexInDeclarationView];i.push(c.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Gp(t,n).matches!==null&&this.queries[n].setDirty()}},zh=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=JT(t):this.predicate=t}},Gh=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Wh=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,n,WT(n,o)),this.matchTNodeWithReadOption(t,n,ol(n,t,o,!1,!1))}else r===cn?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ol(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===nt||i===un||i===cn&&n.type&4)this.addMatch(n.index,-2);else{let o=ol(n,t,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function WT(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function qT(e,t){return e.type&11?Io(e,t):e.type&4?$p(e,t):null}function KT(e,t,n,r){return n===-1?qT(t,e):n===-2?YT(e,t,r):Vs(e,e[Ce],n,t)}function YT(e,t,n){if(n===nt)return Io(t,e);if(n===cn)return $p(t,e);if(n===un)return Qb(t,e)}function Jb(e,t,n,r){let i=t[Qn].queries[r];if(i.matches===null){let o=e.data,s=n.matches,c=[];for(let u=0;s!==null&&u<s.length;u+=2){let h=s[u];if(h<0)c.push(null);else{let g=o[h];c.push(KT(t,g,s[u+1],n.metadata.read))}}i.matches=c}return i.matches}function qh(e,t,n,r){let i=e.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Jb(e,t,i,n);for(let c=0;c<o.length;c+=2){let u=o[c];if(u>0)r.push(s[c/2]);else{let h=o[c+1],g=t[-u];for(let v=Zt;v<g.length;v++){let S=g[v];S[_i]===S[Tt]&&qh(S[Ce],S,h,r)}if(g[mo]!==null){let v=g[mo];for(let S=0;S<v.length;S++){let _=v[S];qh(_[Ce],_,h,r)}}}}}return r}function ZT(e,t){return e[Qn].queries[t].queryList}function XT(e,t,n){let r=new Ah((n&4)===4);return BI(e,t,r,r.destroy),(t[Qn]??=new $h).queries.push(new Hh(r))-1}function QT(e,t,n){let r=ht();return r.firstCreatePass&&(eA(r,new zh(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),XT(r,xe(),t)}function JT(e){return e.split(",").map(t=>t.trim())}function eA(e,t,n){e.queries===null&&(e.queries=new Gh),e.queries.track(new Wh(t,n))}function Gp(e,t){return e.queries.getByIndex(t)}function tA(e,t){let n=e[Ce],r=Gp(n,t);return r.crossesNgTemplate?qh(n,e,t,[]):Jb(n,e,r,t)}var er=class{},Wp=class{};var Kh=class extends er{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ml(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=g_(t);this._bootstrapComponents=Eb(o.bootstrap),this._r3Injector=eb(t,n,[{provide:er,useValue:this},{provide:Jl,useValue:this.componentFactoryResolver},...r],Bt(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Yh=class extends Wp{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Kh(this.moduleType,t,[])}};var Tl=class extends er{injector;componentFactoryResolver=new Ml(this);instance=null;constructor(t){super();let n=new Fs([...t.providers,{provide:er,useValue:this},{provide:Jl,useValue:this.componentFactoryResolver}],t.parent||Ll(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function eu(e,t,n=null){return new Tl({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var nA=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=m_(!1,n.type),i=r.length>0?eu([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=j({token:e,providedIn:"environment",factory:()=>new e(ne(ct))})}return e})();function Dt(e){return Us(()=>{let t=eD(e),n=ie(L({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ub.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(nA).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Fn.Emulated,styles:e.styles||sn,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Wl("NgStandalone"),tD(n);let r=e.dependencies;return n.directiveDefs=Uv(r,!1),n.pipeDefs=Uv(r,!0),n.id=aA(n),n})}function rA(e){return yi(e)||vI(e)}function iA(e){return e!==null}function He(e){return Us(()=>({type:e.type,bootstrap:e.bootstrap||sn,declarations:e.declarations||sn,imports:e.imports||sn,exports:e.exports||sn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function oA(e,t){if(e==null)return mi;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=Kl.None,u=null),n[o]=[r,c,u],t[o]=s}return n}function sA(e){if(e==null)return mi;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Xe(e){return Us(()=>{let t=eD(e);return tD(t),t})}function tu(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function eD(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||mi,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||sn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:oA(e.inputs,t),outputs:sA(e.outputs),debugInfo:null}}function tD(e){e.features?.forEach(t=>t(e))}function Uv(e,t){if(!e)return null;let n=t?_I:rA;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(iA)}function aA(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function cA(e){return Object.getPrototypeOf(e.prototype).constructor}function kt(e){let t=cA(e.type),n=!0,r=[e];for(;t;){let i;if(Rn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ee(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=sh(e.inputs),s.declaredInputs=sh(e.declaredInputs),s.outputs=sh(e.outputs);let c=i.hostBindings;c&&hA(e,c);let u=i.viewQuery,h=i.contentQueries;if(u&&dA(e,u),h&&fA(e,h),lA(e,i),YE(e.outputs,i.outputs),Rn(i)&&i.data.animation){let g=e.data;g.animation=(g.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(e),c===kt&&(n=!1)}}t=Object.getPrototypeOf(t)}uA(r)}function lA(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function uA(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=vo(i.hostAttrs,n=vo(n,i.hostAttrs))}}function sh(e){return e===mi?{}:e===sn?[]:e}function dA(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function fA(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function hA(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function nD(e){return gA(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function pA(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function gA(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function qp(e,t,n){return e[t]=n}function mA(e,t){return e[t]}function Ln(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Kp(e,t,n,r){let i=Ln(e,t,n);return Ln(e,t+1,r)||i}function yA(e,t,n,r,i){let o=Kp(e,t,n,r);return Ln(e,t+2,i)||o}function vA(e,t,n,r,i,o,s,c,u){let h=t.consts,g=Ql(t,e,4,s||null,c||null);gp()&&zp(t,n,g,yo(h,u),Fp),g.mergedAttrs=vo(g.mergedAttrs,g.attrs),wp(t,g);let v=g.tView=Op(2,g,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h,null);return t.queries!==null&&(t.queries.template(t,g),v.queries=t.queries.embeddedTView(g)),g}function _A(e,t,n,r,i,o,s,c,u,h){let g=n+Ht,v=t.firstCreatePass?vA(g,t,e,r,i,o,s,c,u):t.data[g];Ii(v,!1);let S=bA(t,e,v,n);Hl()&&Zl(t,e,S,v),So(S,e);let _=Gb(S,e,S,v);return e[g]=_,Np(e,_),zT(_,v,e),jl(v)&&Yl(t,e,v),u!=null&&Pp(e,v,h),v}function ke(e,t,n,r,i,o,s,c){let u=xe(),h=ht(),g=yo(h.consts,o);return _A(u,h,e,t,n,r,i,g,s,c),ke}var bA=DA;function DA(e,t,n,r){return $l(!0),t[st].createComment("")}var rD=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var iD=new K("");var wA=(()=>{class e{static \u0275prov=j({token:e,providedIn:"root",factory:()=>new Zh})}return e})(),Zh=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function Mi(e){return!!e&&typeof e.then=="function"}function oD(e){return!!e&&typeof e.subscribe=="function"}var CA=new K("");var sD=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=w(CA,{optional:!0})??[];injector=w(Ze);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Xt(this.injector,i);if(Mi(o))n.push(o);else if(oD(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Yp=new K("");function EA(){Rf(()=>{throw new ee(600,!1)})}function IA(e){return e.isBoundToModule}var SA=10;var _n=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=w(SS);afterRenderManager=w(vb);zonelessEnabled=w(nb);rootEffectScheduler=w(wA);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ue;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=w(Or).hasPendingTasks.pipe(ae(n=>!n));constructor(){w(To,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=w(ct);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Ze.NULL){Ve(10);let o=n instanceof qb;if(!this._injector.get(sD).done){let _="";throw new ee(405,_)}let c;o?c=n:c=this._injector.get(Jl).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=IA(c)?void 0:this._injector.get(er),h=r||c.selector,g=c.create(i,[],h,u),v=g.location.nativeElement,S=g.injector.get(iD,null);return S?.registerApplication(v),g.onDestroy(()=>{this.detachView(g.hostView),sl(this.components,g),S?.unregisterApplication(v)}),this._loadComponent(g),Ve(11,g),g}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ve(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Mp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new ee(101,!1);let n=Ae(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ae(n),this.afterTick.next(),Ve(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Pt,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<SA;)Ve(14),this.synchronizeOnce(),Ve(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)MA(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Bl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;sl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Yp,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>sl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ee(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function sl(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function MA(e,t,n,r){if(!n&&!Bl(e))return;Ub(e,t,n&&!r?0:1)}function or(e,t,n,r){let i=xe(),o=zs();if(Ln(i,o,t)){let s=ht(),c=Ul();AM(c,i,e,t,n,r)}return or}function TA(e,t,n,r){return Ln(e,zs(),n)?t+Zn(n)+r:ln}function AA(e,t,n,r,i,o){let s=F_(),c=Kp(e,s,n,i);return vp(2),c?t+Zn(n)+r+Zn(i)+o:ln}function xA(e,t,n,r,i,o,s,c){let u=F_(),h=yA(e,u,n,i,s);return vp(3),h?t+Zn(n)+r+Zn(i)+o+Zn(s)+c:ln}function tl(e,t){return e<<17|t<<2}function Ei(e){return e>>17&32767}function OA(e){return(e&2)==2}function RA(e,t){return e&131071|t<<17}function Xh(e){return e|2}function Do(e){return(e&131068)>>2}function ah(e,t){return e&-131069|t<<2}function NA(e){return(e&1)===1}function Qh(e){return e|1}function PA(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,c=Ei(s),u=Do(s);e[r]=n;let h=!1,g;if(Array.isArray(n)){let v=n;g=v[1],(g===null||Hs(v,g)>0)&&(h=!0)}else g=n;if(i)if(u!==0){let S=Ei(e[c+1]);e[r+1]=tl(S,c),S!==0&&(e[S+1]=ah(e[S+1],r)),e[c+1]=RA(e[c+1],r)}else e[r+1]=tl(c,0),c!==0&&(e[c+1]=ah(e[c+1],r)),c=r;else e[r+1]=tl(u,0),c===0?c=r:e[u+1]=ah(e[u+1],r),u=r;h&&(e[r+1]=Xh(e[r+1])),Hv(e,g,r,!0),Hv(e,g,r,!1),kA(t,g,e,r,o),s=tl(c,u),o?t.classBindings=s:t.styleBindings=s}function kA(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Hs(o,t)>=0&&(n[r+1]=Qh(n[r+1]))}function Hv(e,t,n,r){let i=e[n+1],o=t===null,s=r?Ei(i):Do(i),c=!1;for(;s!==0&&(c===!1||o);){let u=e[s],h=e[s+1];FA(u,t)&&(c=!0,e[s+1]=r?Qh(h):Xh(h)),s=r?Ei(h):Do(h)}c&&(e[n+1]=r?Xh(i):Qh(i))}function FA(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Hs(e,t)>=0:!1}function ve(e,t,n){let r=xe(),i=zs();if(Ln(r,i,t)){let o=ht(),s=Ul();kp(o,s,r,e,t,r[st],n,!1)}return ve}function $v(e,t,n,r,i){Lp(t,e,n,i?"class":"style",r)}function nu(e,t,n){return aD(e,t,n,!1),nu}function Rr(e,t){return aD(e,t,null,!0),Rr}function aD(e,t,n,r){let i=xe(),o=ht(),s=vp(2);if(o.firstUpdatePass&&VA(o,e,s,r),t!==ln&&Ln(i,s,t)){let c=o.data[xr()];$A(o,c,i,i[st],e,i[s+1]=zA(t,n),r,s)}}function LA(e,t){return t>=e.expandoStartIndex}function VA(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[xr()],s=LA(e,n);GA(o,r)&&t===null&&!s&&(t=!1),t=jA(i,o,t,r),PA(i,o,t,n,s,r)}}function jA(e,t,n,r){let i=JI(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=ch(null,e,t,n,r),n=Bs(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=ch(i,e,t,n,r),o===null){let u=BA(e,t,r);u!==void 0&&Array.isArray(u)&&(u=ch(null,e,t,u[1],r),u=Bs(u,t.attrs,r),UA(e,t,r,u))}else o=HA(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function BA(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Do(r)!==0)return e[Ei(r)]}function UA(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[Ei(i)]=r}function HA(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Bs(r,s,n)}return Bs(r,t.attrs,n)}function ch(e,t,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=t[c],r=Bs(r,o.hostAttrs,i),o!==e);)c++;return e!==null&&(n.directiveStylingLast=c),r}function Bs(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),mI(e,s,n?!0:t[++o]))}return e===void 0?null:e}function $A(e,t,n,r,i,o,s,c){if(!(t.type&3))return;let u=e.data,h=u[c+1],g=NA(h)?zv(u,t,n,i,Do(h),s):void 0;if(!Al(g)){Al(o)||OA(h)&&(o=zv(u,null,n,i,c,s));let v=T_(xr(),n);ZM(r,s,v,i,o)}}function zv(e,t,n,r,i,o){let s=t===null,c;for(;i>0;){let u=e[i],h=Array.isArray(u),g=h?u[1]:u,v=g===null,S=n[i+1];S===ln&&(S=v?sn:void 0);let _=v?Qf(S,r):g===r?S:void 0;if(h&&!Al(_)&&(_=Qf(u,r)),Al(_)&&(c=_,s))return c;let N=e[i+1];i=s?Ei(N):Do(N)}if(t!==null){let u=o?t.residualClasses:t.residualStyles;u!=null&&(c=Qf(u,r))}return c}function Al(e){return e!==void 0}function zA(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Bt(wb(e)))),e}function GA(e,t){return(e.flags&(t?8:16))!==0}function B(e,t,n,r){let i=xe(),o=ht(),s=Ht+e,c=i[st],u=o.firstCreatePass?Yb(s,o,i,t,Fp,gp(),n,r):o.data[s],h=WA(o,i,u,c,t,e);i[s]=h;let g=jl(u);return Ii(u,!0),Tb(c,h,u),!Nb(u)&&Hl()&&Zl(o,i,h,u),(UI()===0||g)&&So(h,i),HI(),g&&(Yl(o,i,u),Ap(o,u,i)),r!==null&&Pp(i,u),B}function U(){let e=$t();mp()?P_():(e=e.parent,Ii(e,!1));let t=e;GI(t)&&WI(),$I();let n=ht();return n.firstCreatePass&&Zb(n,t),t.classesWithoutHost!=null&&oS(t)&&$v(n,t,xe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&sS(t)&&$v(n,t,xe(),t.stylesWithoutHost,!1),U}function dn(e,t,n,r){return B(e,t,n,r),U(),dn}var WA=(e,t,n,r,i,o)=>($l(!0),Sb(r,i,nS()));function qA(e,t,n,r,i){let o=t.consts,s=yo(o,r),c=Ql(t,e,8,"ng-container",s);s!==null&&Bh(c,s,!0);let u=yo(o,i);return gp()&&zp(t,n,c,u,Fp),c.mergedAttrs=vo(c.mergedAttrs,c.attrs),t.queries!==null&&t.queries.elementStart(t,c),c}function Nr(e,t,n){let r=xe(),i=ht(),o=e+Ht,s=i.firstCreatePass?qA(o,i,r,t,n):i.data[o];Ii(s,!0);let c=KA(i,r,s,e);return r[o]=c,Hl()&&Zl(i,r,c,s),So(c,r),jl(s)&&(Yl(i,r,s),Ap(i,s,r)),n!=null&&Pp(r,s),Nr}function Pr(){let e=$t(),t=ht();return mp()?P_():(e=e.parent,Ii(e,!1)),t.firstCreatePass&&(wp(t,e),up(e)&&t.queries.elementEnd(e)),Pr}var KA=(e,t,n,r)=>($l(!0),pM(t[st],""));function Dn(){return xe()}function Zp(e,t,n){let r=xe(),i=zs();if(Ln(r,i,t)){let o=ht(),s=Ul();kp(o,s,r,e,t,r[st],n,!0)}return Zp}var fi=void 0;function YA(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var ZA=["en",[["a","p"],["AM","PM"],fi],[["AM","PM"],fi,fi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fi,"{1} 'at' {0}",fi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",YA],lh={};function Jt(e){let t=XA(e),n=Gv(t);if(n)return n;let r=t.split("-")[0];if(n=Gv(r),n)return n;if(r==="en")return ZA;throw new ee(701,!1)}function Gv(e){return e in lh||(lh[e]=Os.ng&&Os.ng.common&&Os.ng.common.locales&&Os.ng.common.locales[e]),lh[e]}var rt=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(rt||{});function XA(e){return e.toLowerCase().replace(/_/g,"-")}var xl="en-US";var QA=xl;function JA(e){typeof e=="string"&&(QA=e.toLowerCase().replace(/_/g,"-"))}function Wv(e,t,n){return function r(i){if(i===Function)return n;let o=Co(e)?Pn(e.index,t):t;Hp(o,5);let s=t[Ut],c=qv(t,s,n,i),u=r.__ngNextListenerFn__;for(;u;)c=qv(t,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function qv(e,t,n,r){let i=Ae(null);try{return Ve(6,t,n),n(r)!==!1}catch(o){return ex(e,o),!1}finally{Ve(7,t,n),Ae(i)}}function ex(e,t){let n=e[vi],r=n?n.get(kn,null):null;r&&r.handleError(t)}function Kv(e,t,n,r,i,o){let s=t[n],c=t[Ce],h=c.data[n].outputs[r],g=s[h],v=c.firstCreatePass?pp(c):null,S=hp(t),_=g.subscribe(o),N=S.length;S.push(o,_),v&&v.push(i,e.index,N,-(N+1))}var tx=new Map;function tt(e,t,n,r){let i=xe(),o=ht(),s=$t();return cD(o,i,i[st],s,e,t,r),tt}function nx(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=t[pl],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function cD(e,t,n,r,i,o,s){let c=jl(r),h=e.firstCreatePass?pp(e):null,g=hp(t),v=!0;if(r.type&3||s){let S=Vn(r,t),_=s?s(S):S,N=g.length,V=s?se=>s(Nn(se[r.index])):r.index,G=null;if(!s&&c&&(G=nx(e,t,i,r.index)),G!==null){let se=G.__ngLastListenerFn__||G;se.__ngNextListenerFn__=o,G.__ngLastListenerFn__=o,v=!1}else{o=Wv(r,t,o);let se=t[vi].get(Mo);tx.get(se)?.(_,i,o);let Pe=n.listen(_,i,o);g.push(o,Pe),h&&h.push(i,V,N,N+1)}}else o=Wv(r,t,o);if(v){let S=r.outputs?.[i],_=r.hostDirectiveOutputs?.[i];if(_&&_.length)for(let N=0;N<_.length;N+=2){let V=_[N],G=_[N+1];Kv(r,t,V,G,i,o)}if(S&&S.length)for(let N of S)Kv(r,t,N,i,i,o)}}function ge(e=1){return tS(e)}function Xp(e,t,n){QT(e,t,n)}function Qp(e){let t=xe(),n=ht(),r=L_();_p(r+1);let i=Gp(n,r);if(e.dirty&&FI(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=tA(t,r);e.reset(o,AS),e.notifyOnChanges()}return!0}return!1}function Jp(){return ZT(xe(),L_())}function rx(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function Ao(e){let t=KI();return dp(t,Ht+e)}function J(e,t=""){let n=xe(),r=ht(),i=e+Ht,o=r.firstCreatePass?Ql(r,i,1,t,null):r.data[i],s=ix(r,n,o,t,e);n[i]=s,Hl()&&Zl(r,n,s,o),Ii(o,!1)}var ix=(e,t,n,r,i)=>($l(!0),fM(t[st],r));function Ft(e){return en("",e,""),Ft}function en(e,t,n){let r=xe(),i=TA(r,e,t,n);return i!==ln&&tg(r,xr(),i),en}function Ti(e,t,n,r,i){let o=xe(),s=AA(o,e,t,n,r,i);return s!==ln&&tg(o,xr(),s),Ti}function eg(e,t,n,r,i,o,s){let c=xe(),u=xA(c,e,t,n,r,i,o,s);return u!==ln&&tg(c,xr(),u),eg}function tg(e,t,n){let r=T_(t,e);hM(e[st],r,n)}function qs(e,t,n){cb(t)&&(t=t());let r=xe(),i=zs();if(Ln(r,i,t)){let o=ht(),s=Ul();kp(o,s,r,e,t,r[st],n,!1)}return qs}function ru(e,t){let n=cb(e);return n&&e.set(t),n}function Ks(e,t){let n=xe(),r=ht(),i=$t();return cD(r,n,n[st],i,e,t),Ks}function ox(e,t,n){let r=ht();if(r.firstCreatePass){let i=Rn(e);Jh(n,r.data,r.blueprint,i,!0),Jh(t,r.data,r.blueprint,i,!1)}}function Jh(e,t,n,r,i){if(e=Nt(e),Array.isArray(e))for(let o=0;o<e.length;o++)Jh(e[o],t,n,r,i);else{let o=ht(),s=xe(),c=$t(),u=go(e)?e:Nt(e.provide),h=__(e),g=c.providerIndexes&1048575,v=c.directiveStart,S=c.providerIndexes>>20;if(go(e)||!e.multi){let _=new Ci(h,i,fe),N=dh(u,t,i?g:g+S,v);N===-1?(Ch(Dl(c,s),o,u),uh(o,e,t.length),t.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(_),s.push(_)):(n[N]=_,s[N]=_)}else{let _=dh(u,t,g+S,v),N=dh(u,t,g,g+S),V=_>=0&&n[_],G=N>=0&&n[N];if(i&&!G||!i&&!V){Ch(Dl(c,s),o,u);let se=cx(i?ax:sx,n.length,i,r,h);!i&&G&&(n[N].providerFactory=se),uh(o,e,t.length,0),t.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(se),s.push(se)}else{let se=lD(n[i?N:_],h,!i&&r);uh(o,e,_>-1?_:N,se)}!i&&r&&G&&n[N].componentProviders++}}}function uh(e,t,n,r){let i=go(t),o=EI(t);if(i||o){let u=(o?Nt(t.useClass):t).prototype.ngOnDestroy;if(u){let h=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let g=h.indexOf(n);g===-1?h.push(n,[r,u]):h[g+1].push(r,u)}else h.push(n,u)}}}function lD(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function dh(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function sx(e,t,n,r,i){return ep(this.multi,[])}function ax(e,t,n,r,i){let o=this.multi,s;if(this.providerFactory){let c=this.providerFactory.componentProviders,u=Vs(r,r[Ce],this.providerFactory.index,i);s=u.slice(0,c),ep(o,s);for(let h=c;h<u.length;h++)s.push(u[h])}else s=[],ep(o,s);return s}function ep(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function cx(e,t,n,r,i){let o=new Ci(e,n,fe);return o.multi=[],o.index=t,o.componentProviders=0,lD(o,i,r&&!n),o}function kr(e,t=[]){return n=>{n.providersResolver=(r,i)=>ox(r,i?i(e):e,t)}}function iu(e,t,n){let r=yp()+e,i=xe();return i[r]===ln?qp(i,r,n?t.call(n):t()):mA(i,r)}function uD(e,t){let n=e[t];return n===ln?void 0:n}function lx(e,t,n,r,i,o){let s=t+n;return Ln(e,s,i)?qp(e,s+1,o?r.call(o,i):r(i)):uD(e,s+1)}function ux(e,t,n,r,i,o,s){let c=t+n;return Kp(e,c,i,o)?qp(e,c+2,s?r.call(s,i,o):r(i,o)):uD(e,c+2)}function Ai(e,t){let n=ht(),r,i=e+Ht;n.firstCreatePass?(r=dx(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=gi(r.type,!0)),s,c=jt(fe);try{let u=bl(!1),h=o();return bl(u),rx(n,xe(),i,h),h}finally{jt(c)}}function dx(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function Ys(e,t,n){let r=e+Ht,i=xe(),o=dp(i,r);return dD(i,r)?lx(i,yp(),t,o.transform,n,o):o.transform(n)}function ng(e,t,n,r){let i=e+Ht,o=xe(),s=dp(o,i);return dD(o,i)?ux(o,yp(),t,s.transform,n,r,s):s.transform(n,r)}function dD(e,t){return e[Ce].data[t].pure}var Ol=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},rg=new Ol("19.2.10"),tp=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},fD=(()=>{class e{compileModuleSync(n){return new Yh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=g_(n),o=Eb(i.declarations).reduce((s,c)=>{let u=yi(c);return u&&s.push(new bo(u)),s},[]);return new tp(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var fx=(()=>{class e{zone=w(Me);changeDetectionScheduler=w(_o);applicationRef=w(_n);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function hx({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new Me(ie(L({},px()),{scheduleInRootZone:n})),[{provide:Me,useFactory:e},{provide:ks,multi:!0,useFactory:()=>{let r=w(fx,{optional:!0});return()=>r.initialize()}},{provide:ks,multi:!0,useFactory:()=>{let r=w(gx);return()=>{r.initialize()}}},t===!0?{provide:rb,useValue:!0}:[],{provide:ib,useValue:n??tb}]}function px(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var gx=(()=>{class e{subscription=new $e;initialized=!1;zone=w(Me);pendingTasks=w(Or);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Me.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Me.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var mx=(()=>{class e{appRef=w(_n);taskService=w(Or);ngZone=w(Me);zonelessEnabled=w(nb);tracing=w(To,{optional:!0});disableScheduling=w(rb,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new $e;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Cl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(w(ib,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Th||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Sv:ob;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Cl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Sv(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function yx(){return typeof $localize<"u"&&$localize.locale||xl}var Zs=new K("",{providedIn:"root",factory:()=>w(Zs,_e.Optional|_e.SkipSelf)||yx()});var np=new K(""),vx=new K("");function xs(e){return!e.moduleRef}function _x(e){let t=xs(e)?e.r3Injector:e.moduleRef.injector,n=t.get(Me);return n.run(()=>{xs(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(kn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),xs(e)){let o=()=>t.destroy(),s=e.platformInjector.get(np);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(np);s.add(o),e.moduleRef.onDestroy(()=>{sl(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return Dx(r,n,()=>{let o=t.get(sD);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(Zs,xl);if(JA(s||xl),!t.get(vx,!0))return xs(e)?t.get(_n):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(xs(e)){let u=t.get(_n);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return bx(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function bx(e,t){let n=e.injector.get(_n);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new ee(-403,!1);t.push(e)}function Dx(e,t,n){try{let r=n();return Mi(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var al=null;function wx(e=[],t){return Ze.create({name:t,providers:[{provide:Fl,useValue:"platform"},{provide:np,useValue:new Set([()=>al=null])},...e]})}function Cx(e=[]){if(al)return al;let t=wx(e);return al=t,EA(),Ex(t),t}function Ex(e){let t=e.get(Sp,null);Xt(e,()=>{t?.forEach(n=>n())})}var Bn=(()=>{class e{static __NG_ELEMENT_ID__=Ix}return e})();function Ix(e){return Sx($t(),xe(),(e&16)===16)}function Sx(e,t,n){if(Co(e)&&!n){let r=Pn(e.index,t);return new js(r,r)}else if(e.type&175){let r=t[On];return new js(r,t)}return null}var rp=class{constructor(){}supports(t){return nD(t)}create(t){return new ip(t)}},Mx=(e,t)=>t,ip=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||Mx}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Yv(r,i,o)?n:r,c=Yv(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let h=c-i,g=u-i;if(h!=g){for(let S=0;S<h;S++){let _=S<o.length?o[S]:o[S]=0,N=_+S;g<=N&&N<h&&(o[S]=_+1)}let v=s.previousIndex;o[v]=g-h}}c!==u&&t(s,c,u)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!nD(t))throw new ee(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let c=0;c<this.length;c++)o=t[c],s=this._trackByFn(c,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,c),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,pA(t,c=>{s=this._trackByFn(i,c),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,c,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,s,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new op(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Rl),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Rl),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},op=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},sp=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Rl=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new sp,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Yv(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function Zv(){return new ou([new rp])}var ou=(()=>{class e{factories;static \u0275prov=j({token:e,providedIn:"root",factory:Zv});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Zv()),deps:[[e,new fI,new d_]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new ee(901,!1)}}return e})();function hD(e){Ve(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=Cx(r),o=[hx({}),{provide:_o,useExisting:mx},...n||[]],s=new Tl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return _x({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}finally{Ve(9)}}function xo(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Un(e){return kf(e)}function su(e,t){return Of(e,t?.equal)}var Xv=class{[on];constructor(t){this[on]=t}destroy(){this[on].destroy()}};function au(e,t){let n=yi(e),r=t.elementInjector||Ll();return new bo(n).create(r,t.projectableNodes,t.hostElement,t.environmentInjector)}var Se=new K("");var mD=null;function fn(){return mD}function ig(e){mD??=e}var Xs=class{},og=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:()=>w(yD),providedIn:"platform"})}return e})();var yD=(()=>{class e extends og{_location;_history;_doc=w(Se);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fn().getBaseHref(this._doc)}onPopState(n){let r=fn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=fn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function vD(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function pD(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Fr(e){return e&&e[0]!=="?"?`?${e}`:e}var cu=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:()=>w(bD),providedIn:"root"})}return e})(),_D=new K(""),bD=(()=>{class e extends cu{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??w(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return vD(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Fr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Fr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Fr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(ne(og),ne(_D,8))};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Lr=(()=>{class e{_subject=new ue;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=xx(pD(gD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Fr(r))}normalize(n){return e.stripTrailingSlash(Ax(this._basePath,gD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Fr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Fr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Fr;static joinWithSlash=vD;static stripTrailingSlash=pD;static \u0275fac=function(r){return new(r||e)(ne(cu))};static \u0275prov=j({token:e,factory:()=>Tx(),providedIn:"root"})}return e})();function Tx(){return new Lr(ne(cu))}function Ax(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function gD(e){return e.replace(/\/index.html$/,"")}function xx(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var fg=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(fg||{});var Ot=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Ot||{}),je=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(je||{}),zt=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(zt||{}),Gt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function SD(e){return Jt(e)[rt.LocaleId]}function MD(e,t,n){let r=Jt(e),i=[r[rt.DayPeriodsFormat],r[rt.DayPeriodsStandalone]],o=hn(i,t);return hn(o,n)}function TD(e,t,n){let r=Jt(e),i=[r[rt.DaysFormat],r[rt.DaysStandalone]],o=hn(i,t);return hn(o,n)}function AD(e,t,n){let r=Jt(e),i=[r[rt.MonthsFormat],r[rt.MonthsStandalone]],o=hn(i,t);return hn(o,n)}function xD(e,t){let r=Jt(e)[rt.Eras];return hn(r,t)}function Qs(e,t){let n=Jt(e);return hn(n[rt.DateFormat],t)}function Js(e,t){let n=Jt(e);return hn(n[rt.TimeFormat],t)}function ea(e,t){let r=Jt(e)[rt.DateTimeFormat];return hn(r,t)}function Hn(e,t){let n=Jt(e),r=n[rt.NumberSymbols][t];if(typeof r>"u"){if(t===Gt.CurrencyDecimal)return n[rt.NumberSymbols][Gt.Decimal];if(t===Gt.CurrencyGroup)return n[rt.NumberSymbols][Gt.Group]}return r}function OD(e,t){return Jt(e)[rt.NumberFormats][t]}function RD(e){if(!e[rt.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[rt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ND(e){let t=Jt(e);return RD(t),(t[rt.ExtraData][2]||[]).map(r=>typeof r=="string"?sg(r):[sg(r[0]),sg(r[1])])}function PD(e,t,n){let r=Jt(e);RD(r);let i=[r[rt.ExtraData][0],r[rt.ExtraData][1]],o=hn(i,t)||[];return hn(o,n)||[]}function hn(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function sg(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}var Ox=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,lu={},Rx=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function kD(e,t,n,r){let i=Ux(e);t=sr(n,t)||t;let s=[],c;for(;t;)if(c=Rx.exec(t),c){s=s.concat(c.slice(1));let g=s.pop();if(!g)break;t=g}else{s.push(t);break}let u=i.getTimezoneOffset();r&&(u=LD(r,u),i=Bx(i,r));let h="";return s.forEach(g=>{let v=Vx(g);h+=v?v(i,n,u):g==="''"?"'":g.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}function pu(e,t,n){let r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function sr(e,t){let n=SD(e);if(lu[n]??={},lu[n][t])return lu[n][t];let r="";switch(t){case"shortDate":r=Qs(e,zt.Short);break;case"mediumDate":r=Qs(e,zt.Medium);break;case"longDate":r=Qs(e,zt.Long);break;case"fullDate":r=Qs(e,zt.Full);break;case"shortTime":r=Js(e,zt.Short);break;case"mediumTime":r=Js(e,zt.Medium);break;case"longTime":r=Js(e,zt.Long);break;case"fullTime":r=Js(e,zt.Full);break;case"short":let i=sr(e,"shortTime"),o=sr(e,"shortDate");r=uu(ea(e,zt.Short),[i,o]);break;case"medium":let s=sr(e,"mediumTime"),c=sr(e,"mediumDate");r=uu(ea(e,zt.Medium),[s,c]);break;case"long":let u=sr(e,"longTime"),h=sr(e,"longDate");r=uu(ea(e,zt.Long),[u,h]);break;case"full":let g=sr(e,"fullTime"),v=sr(e,"fullDate");r=uu(ea(e,zt.Full),[g,v]);break}return r&&(lu[n][t]=r),r}function uu(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e}function wn(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function Nx(e,t){return wn(e,3).substring(0,t)}function lt(e,t,n=0,r=!1,i=!1){return function(o,s){let c=Px(e,o);if((n>0||c>-n)&&(c+=n),e===3)c===0&&n===-12&&(c=12);else if(e===6)return Nx(c,t);let u=Hn(s,Gt.MinusSign);return wn(c,t,u,r,i)}}function Px(e,t){switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function qe(e,t,n=Ot.Format,r=!1){return function(i,o){return kx(i,o,e,t,n,r)}}function kx(e,t,n,r,i,o){switch(n){case 2:return AD(t,i,r)[e.getMonth()];case 1:return TD(t,i,r)[e.getDay()];case 0:let s=e.getHours(),c=e.getMinutes();if(o){let h=ND(t),g=PD(t,i,r),v=h.findIndex(S=>{if(Array.isArray(S)){let[_,N]=S,V=s>=_.hours&&c>=_.minutes,G=s<N.hours||s===N.hours&&c<N.minutes;if(_.hours<N.hours){if(V&&G)return!0}else if(V||G)return!0}else if(S.hours===s&&S.minutes===c)return!0;return!1});if(v!==-1)return g[v]}return MD(t,i,r)[s<12?0:1];case 3:return xD(t,r)[e.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function du(e){return function(t,n,r){let i=-1*r,o=Hn(n,Gt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+wn(s,2,o)+wn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+wn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+wn(s,2,o)+":"+wn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+wn(s,2,o)+":"+wn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var Fx=0,hu=4;function Lx(e){let t=pu(e,Fx,1).getDay();return pu(e,0,1+(t<=hu?hu:hu+7)-t)}function FD(e){let t=e.getDay(),n=t===0?-3:hu-t;return pu(e.getFullYear(),e.getMonth(),e.getDate()+n)}function ag(e,t=!1){return function(n,r){let i;if(t){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=FD(n),s=Lx(o.getFullYear()),c=o.getTime()-s.getTime();i=1+Math.round(c/6048e5)}return wn(i,e,Hn(r,Gt.MinusSign))}}function fu(e,t=!1){return function(n,r){let o=FD(n).getFullYear();return wn(o,e,Hn(r,Gt.MinusSign),t)}}var cg={};function Vx(e){if(cg[e])return cg[e];let t;switch(e){case"G":case"GG":case"GGG":t=qe(3,je.Abbreviated);break;case"GGGG":t=qe(3,je.Wide);break;case"GGGGG":t=qe(3,je.Narrow);break;case"y":t=lt(0,1,0,!1,!0);break;case"yy":t=lt(0,2,0,!0,!0);break;case"yyy":t=lt(0,3,0,!1,!0);break;case"yyyy":t=lt(0,4,0,!1,!0);break;case"Y":t=fu(1);break;case"YY":t=fu(2,!0);break;case"YYY":t=fu(3);break;case"YYYY":t=fu(4);break;case"M":case"L":t=lt(1,1,1);break;case"MM":case"LL":t=lt(1,2,1);break;case"MMM":t=qe(2,je.Abbreviated);break;case"MMMM":t=qe(2,je.Wide);break;case"MMMMM":t=qe(2,je.Narrow);break;case"LLL":t=qe(2,je.Abbreviated,Ot.Standalone);break;case"LLLL":t=qe(2,je.Wide,Ot.Standalone);break;case"LLLLL":t=qe(2,je.Narrow,Ot.Standalone);break;case"w":t=ag(1);break;case"ww":t=ag(2);break;case"W":t=ag(1,!0);break;case"d":t=lt(2,1);break;case"dd":t=lt(2,2);break;case"c":case"cc":t=lt(7,1);break;case"ccc":t=qe(1,je.Abbreviated,Ot.Standalone);break;case"cccc":t=qe(1,je.Wide,Ot.Standalone);break;case"ccccc":t=qe(1,je.Narrow,Ot.Standalone);break;case"cccccc":t=qe(1,je.Short,Ot.Standalone);break;case"E":case"EE":case"EEE":t=qe(1,je.Abbreviated);break;case"EEEE":t=qe(1,je.Wide);break;case"EEEEE":t=qe(1,je.Narrow);break;case"EEEEEE":t=qe(1,je.Short);break;case"a":case"aa":case"aaa":t=qe(0,je.Abbreviated);break;case"aaaa":t=qe(0,je.Wide);break;case"aaaaa":t=qe(0,je.Narrow);break;case"b":case"bb":case"bbb":t=qe(0,je.Abbreviated,Ot.Standalone,!0);break;case"bbbb":t=qe(0,je.Wide,Ot.Standalone,!0);break;case"bbbbb":t=qe(0,je.Narrow,Ot.Standalone,!0);break;case"B":case"BB":case"BBB":t=qe(0,je.Abbreviated,Ot.Format,!0);break;case"BBBB":t=qe(0,je.Wide,Ot.Format,!0);break;case"BBBBB":t=qe(0,je.Narrow,Ot.Format,!0);break;case"h":t=lt(3,1,-12);break;case"hh":t=lt(3,2,-12);break;case"H":t=lt(3,1);break;case"HH":t=lt(3,2);break;case"m":t=lt(4,1);break;case"mm":t=lt(4,2);break;case"s":t=lt(5,1);break;case"ss":t=lt(5,2);break;case"S":t=lt(6,1);break;case"SS":t=lt(6,2);break;case"SSS":t=lt(6,3);break;case"Z":case"ZZ":case"ZZZ":t=du(0);break;case"ZZZZZ":t=du(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=du(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=du(2);break;default:return null}return cg[e]=t,t}function LD(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function jx(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function Bx(e,t,n){let i=e.getTimezoneOffset(),o=LD(t,i);return jx(e,-1*(o-i))}function Ux(e){if(DD(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,s=1]=e.split("-").map(c=>+c);return pu(i,o-1,s)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(Ox))return Hx(r)}let t=new Date(e);if(!DD(t))throw new Error(`Unable to convert "${e}" into a date`);return t}function Hx(e){let t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-n,c=Number(e[5]||0)-r,u=Number(e[6]||0),h=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(t,s,c,u,h),t}function DD(e){return e instanceof Date&&!isNaN(e.valueOf())}var $x=/^(\d+)?\.((\d+)(-(\d+))?)?$/,wD=22,gu=".",ta="0",zx=";",Gx=",",lg="#";function Wx(e,t,n,r,i,o,s=!1){let c="",u=!1;if(!isFinite(e))c=Hn(n,Gt.Infinity);else{let h=Yx(e);s&&(h=Kx(h));let g=t.minInt,v=t.minFrac,S=t.maxFrac;if(o){let Te=o.match($x);if(Te===null)throw new Error(`${o} is not a valid digit info`);let Pe=Te[1],ut=Te[3],Qe=Te[5];Pe!=null&&(g=ug(Pe)),ut!=null&&(v=ug(ut)),Qe!=null?S=ug(Qe):ut!=null&&v>S&&(S=v)}Zx(h,v,S);let _=h.digits,N=h.integerLen,V=h.exponent,G=[];for(u=_.every(Te=>!Te);N<g;N++)_.unshift(0);for(;N<0;N++)_.unshift(0);N>0?G=_.splice(N,_.length):(G=_,_=[0]);let se=[];for(_.length>=t.lgSize&&se.unshift(_.splice(-t.lgSize,_.length).join(""));_.length>t.gSize;)se.unshift(_.splice(-t.gSize,_.length).join(""));_.length&&se.unshift(_.join("")),c=se.join(Hn(n,r)),G.length&&(c+=Hn(n,i)+G.join("")),V&&(c+=Hn(n,Gt.Exponential)+"+"+V)}return e<0&&!u?c=t.negPre+c+t.negSuf:c=t.posPre+c+t.posSuf,c}function VD(e,t,n){let r=OD(t,fg.Decimal),i=qx(r,Hn(t,Gt.MinusSign));return Wx(e,i,t,Gt.Group,Gt.Decimal,n)}function qx(e,t="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(zx),i=r[0],o=r[1],s=i.indexOf(gu)!==-1?i.split(gu):[i.substring(0,i.lastIndexOf(ta)+1),i.substring(i.lastIndexOf(ta)+1)],c=s[0],u=s[1]||"";n.posPre=c.substring(0,c.indexOf(lg));for(let g=0;g<u.length;g++){let v=u.charAt(g);v===ta?n.minFrac=n.maxFrac=g+1:v===lg?n.maxFrac=g+1:n.posSuf+=v}let h=c.split(Gx);if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,o){let g=i.length-n.posPre.length-n.posSuf.length,v=o.indexOf(lg);n.negPre=o.substring(0,v).replace(/'/g,""),n.negSuf=o.slice(v+g).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function Kx(e){if(e.digits[0]===0)return e;let t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(t===0?e.digits.push(0,0):t===1&&e.digits.push(0),e.integerLen+=2),e}function Yx(e){let t=Math.abs(e)+"",n=0,r,i,o,s,c;for((i=t.indexOf(gu))>-1&&(t=t.replace(gu,"")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;t.charAt(o)===ta;o++);if(o===(c=t.length))r=[0],i=1;else{for(c--;t.charAt(c)===ta;)c--;for(i-=o,r=[],s=0;o<=c;o++,s++)r[s]=Number(t.charAt(o))}return i>wD&&(r=r.splice(0,wD-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function Zx(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,i=r.length-e.integerLen,o=Math.min(Math.max(t,i),n),s=o+e.integerLen,c=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let v=s;v<r.length;v++)r[v]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let v=1;v<s;v++)r[v]=0}if(c>=5)if(s-1<0){for(let v=0;v>s;v--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,h=t+e.integerLen,g=r.reduceRight(function(v,S,_,N){return S=S+v,N[_]=S<10?S:S-10,u&&(N[_]===0&&_>=h?N.pop():u=!1),S>=10?1:0},0);g&&(r.unshift(g),e.integerLen++)}function ug(e){let t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var dg=/\s+/,CD=[],hg=(()=>{class e{_ngEl;_renderer;initialClasses=CD;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(dg):CD}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(dg):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(dg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(fe(nt),fe(jn))};static \u0275dir=Xe({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var mu=class{$implicit;ngForOf;index;count;constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},vu=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new mu(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),ED(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);ED(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(fe(un),fe(cn),fe(ou))};static \u0275dir=Xe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function ED(e,t){e.context.$implicit=t.item}var na=(()=>{class e{_viewContainer;_context=new yu;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){ID(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){ID(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(fe(un),fe(cn))};static \u0275dir=Xe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),yu=class{$implicit=null;ngIf=null};function ID(e,t){if(e&&!e.createEmbeddedView)throw new ee(2020,!1)}function pg(e,t){return new ee(2100,!1)}var Xx=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,gg=(()=>{class e{transform(n){if(n==null)return null;if(typeof n!="string")throw pg(e,n);return n.replace(Xx,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||e)};static \u0275pipe=tu({name:"titlecase",type:e,pure:!0})}return e})();var Qx="mediumDate",jD=new K(""),BD=new K(""),mg=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??Qx,c=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return kD(n,s,o||this.locale,c)}catch(s){throw pg(e,s.message)}}static \u0275fac=function(r){return new(r||e)(fe(Zs,16),fe(jD,24),fe(BD,24))};static \u0275pipe=tu({name:"date",type:e,pure:!0})}return e})();var yg=(()=>{class e{_locale;constructor(n){this._locale=n}transform(n,r,i){if(!Jx(n))return null;i||=this._locale;try{let o=eO(n);return VD(o,i,r)}catch(o){throw pg(e,o.message)}}static \u0275fac=function(r){return new(r||e)(fe(Zs,16))};static \u0275pipe=tu({name:"number",type:e,pure:!0})}return e})();function Jx(e){return!(e==null||e===""||e!==e)}function eO(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new Error(`${e} is not a number`);return e}var Vr=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=He({type:e});static \u0275inj=Ue({})}return e})();function ra(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var _u="browser",UD="server";function vg(e){return e===_u}function bu(e){return e===UD}var xi=class{};var Cu=new K(""),wg=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new ee(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(ne(Cu),ne(Me))};static \u0275prov=j({token:e,factory:e.\u0275fac})}return e})(),ia=class{_doc;constructor(t){this._doc=t}manager},Du="ng-app-id";function $D(e){for(let t of e)t.remove()}function zD(e,t){let n=t.createElement("style");return n.textContent=e,n}function tO(e,t,n,r){let i=e.head?.querySelectorAll(`style[${Du}="${t}"],link[${Du}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Du),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function bg(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Cg=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=bu(o),tO(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,zD);r?.forEach(i=>this.addUsage(i,this.external,bg))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&($D(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])$D(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,zD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,bg(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Du,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(ne(Se),ne(Mo),ne(Ws,8),ne(Si))};static \u0275prov=j({token:e,factory:e.\u0275fac})}return e})(),_g={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Eg=/%COMP%/g;var WD="%COMP%",nO=`_nghost-${WD}`,rO=`_ngcontent-${WD}`,iO=!0,oO=new K("",{providedIn:"root",factory:()=>iO});function sO(e){return rO.replace(Eg,e)}function aO(e){return nO.replace(Eg,e)}function qD(e,t){return t.map(n=>n.replace(Eg,e))}var Ig=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,c,u,h=null,g=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=h,this.tracingService=g,this.platformIsServer=bu(c),this.defaultRenderer=new oa(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Fn.ShadowDom&&(r=ie(L({},r),{encapsulation:Fn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof wu?i.applyToHost(n):i instanceof sa&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,h=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,v=this.platformIsServer,S=this.tracingService;switch(r.encapsulation){case Fn.Emulated:o=new wu(u,h,r,this.appId,g,s,c,v,S);break;case Fn.ShadowDom:return new Dg(u,h,n,r,s,c,this.nonce,v,S);default:o=new sa(u,h,r,g,s,c,v,S);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(ne(wg),ne(Cg),ne(Mo),ne(oO),ne(Se),ne(Si),ne(Me),ne(Ws),ne(To,8))};static \u0275prov=j({token:e,factory:e.\u0275fac})}return e})(),oa=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(_g[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(GD(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(GD(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new ee(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=_g[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=_g[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Jn.DashCase|Jn.Important)?t.style.setProperty(n,r,i&Jn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Jn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=fn().getGlobalEventTarget(this.doc,t),!t))throw new ee(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function GD(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Dg=class extends oa{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,c,u,h){super(t,o,s,u,h),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let g=i.styles;g=qD(i.id,g);for(let S of g){let _=document.createElement("style");c&&_.setAttribute("nonce",c),_.textContent=S,this.shadowRoot.appendChild(_)}let v=i.getExternalStyles?.();if(v)for(let S of v){let _=bg(S,o);c&&_.setAttribute("nonce",c),this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},sa=class extends oa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,c,u,h){super(t,o,s,c,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let g=r.styles;this.styles=h?qD(h,g):g,this.styleUrls=r.getExternalStyles?.(h)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},wu=class extends sa{contentAttr;hostAttr;constructor(t,n,r,i,o,s,c,u,h){let g=i+"-"+r.id;super(t,n,r,o,s,c,u,h,g),this.contentAttr=sO(g),this.hostAttr=aO(g)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var Eu=class e extends Xs{supportsDOMEvents=!0;static makeCurrent(){ig(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=cO();return n==null?null:lO(n)}resetBaseElement(){aa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ra(document.cookie,t)}},aa=null;function cO(){return aa=aa||document.querySelector("base"),aa?aa.getAttribute("href"):null}function lO(e){return new URL(e,document.baseURI).pathname}var uO=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac})}return e})(),YD=(()=>{class e extends ia{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(ne(Se))};static \u0275prov=j({token:e,factory:e.\u0275fac})}return e})(),KD=["alt","control","meta","shift"],dO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fO={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},ZD=(()=>{class e extends ia{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),c=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fn().onAndCancel(n,s.domEventName,c,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),KD.forEach(h=>{let g=r.indexOf(h);g>-1&&(r.splice(g,1),s+=h+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=dO[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),KD.forEach(s=>{if(s!==i){let c=fO[s];c(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(ne(Se))};static \u0275prov=j({token:e,factory:e.\u0275fac})}return e})();function Sg(e,t){return hD(L({rootComponent:e},hO(t)))}function hO(e){return{appProviders:[...vO,...e?.providers??[]],platformProviders:yO}}function pO(){Eu.makeCurrent()}function gO(){return new kn}function mO(){return gb(document),document}var yO=[{provide:Si,useValue:_u},{provide:Sp,useValue:pO,multi:!0},{provide:Se,useFactory:mO}];var vO=[{provide:Fl,useValue:"root"},{provide:kn,useFactory:gO},{provide:Cu,useClass:YD,multi:!0,deps:[Se]},{provide:Cu,useClass:ZD,multi:!0,deps:[Se]},Ig,Cg,wg,{provide:Pt,useExisting:Ig},{provide:xi,useClass:uO},[]];var Ro=class{},No=class{},Wt=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(c=>o.indexOf(c)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var Mu=class{encodeKey(t){return XD(t)}encodeValue(t){return XD(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function _O(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,c]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(c),n.set(s,u)}),n}var bO=/%(\d[a-f0-9])/gi,DO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function XD(e){return encodeURIComponent(e).replace(bO,(t,n)=>DO[n]??t)}function Iu(e){return`${e}`}var cr=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Mu,t.fromString){if(t.fromObject)throw new ee(2805,!1);this.map=_O(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(Iu):[Iu(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(Iu(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(Iu(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Tu=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function wO(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function QD(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function JD(e){return typeof Blob<"u"&&e instanceof Blob}function ew(e){return typeof FormData<"u"&&e instanceof FormData}function CO(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var ca="Content-Type",Au="Accept",Og="X-Request-URL",nw="text/plain",rw="application/json",iw=`${rw}, ${nw}, */*`,Oo=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,n,r,i){this.url=n,this.method=t.toUpperCase();let o;if(wO(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Wt,this.context??=new Tu,!this.params)this.params=new cr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let c=n.indexOf("?"),u=c===-1?"?":c<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||QD(this.body)||JD(this.body)||ew(this.body)||CO(this.body)?this.body:this.body instanceof cr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ew(this.body)?null:JD(this.body)?this.body.type||null:QD(this.body)?null:typeof this.body=="string"?nw:this.body instanceof cr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?rw:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,c=t.withCredentials??this.withCredentials,u=t.reportProgress??this.reportProgress,h=t.headers||this.headers,g=t.params||this.params,v=t.context??this.context;return t.setHeaders!==void 0&&(h=Object.keys(t.setHeaders).reduce((S,_)=>S.set(_,t.setHeaders[_]),h)),t.setParams&&(g=Object.keys(t.setParams).reduce((S,_)=>S.set(_,t.setParams[_]),g)),new e(n,r,s,{params:g,headers:h,context:v,reportProgress:u,responseType:i,withCredentials:c,transferCache:o})}},lr=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(lr||{}),Po=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new Wt,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},la=class e extends Po{constructor(t={}){super(t)}type=lr.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},ko=class e extends Po{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=lr.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},ar=class extends Po{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},ow=200,EO=204;function Mg(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var jr=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Oo)o=n;else{let u;i.headers instanceof Wt?u=i.headers:u=new Wt(i.headers);let h;i.params&&(i.params instanceof cr?h=i.params:h=new cr({fromObject:i.params})),o=new Oo(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:h,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=te(o).pipe(Ir(u=>this.handler.handle(u)));if(n instanceof Oo||i.observe==="events")return s;let c=s.pipe(et(u=>u instanceof ko));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(ae(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new ee(2806,!1);return u.body}));case"blob":return c.pipe(ae(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new ee(2807,!1);return u.body}));case"text":return c.pipe(ae(u=>{if(u.body!==null&&typeof u.body!="string")throw new ee(2808,!1);return u.body}));case"json":default:return c.pipe(ae(u=>u.body))}case"response":return c;default:throw new ee(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new cr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Mg(i,r))}post(n,r,i={}){return this.request("POST",n,Mg(i,r))}put(n,r,i={}){return this.request("PUT",n,Mg(i,r))}static \u0275fac=function(r){return new(r||e)(ne(Ro))};static \u0275prov=j({token:e,factory:e.\u0275fac})}return e})(),IO=/^\)\]\}',?\n/;function tw(e){if(e.url)return e.url;let t=Og.toLocaleLowerCase();return e.headers.get(t)}var sw=new K(""),Su=(()=>{class e{fetchImpl=w(Tg,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n));ngZone=w(Me);handle(n){return new De(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(Ag,o=>r.error(new ar({error:o}))),()=>i.abort()})}doRequest(n,r,i){return ce(this,null,function*(){let o=this.createRequestInit(n),s;try{let _=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,L({signal:r},o)));SO(_),i.next({type:lr.Sent}),s=yield _}catch(_){i.error(new ar({error:_,status:_.status??0,statusText:_.statusText,url:n.urlWithParams,headers:_.headers}));return}let c=new Wt(s.headers),u=s.statusText,h=tw(s)??n.urlWithParams,g=s.status,v=null;if(n.reportProgress&&i.next(new la({headers:c,status:g,statusText:u,url:h})),s.body){let _=s.headers.get("content-length"),N=[],V=s.body.getReader(),G=0,se,Te,Pe=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>ce(this,null,function*(){for(;;){let{done:Qe,value:pr}=yield V.read();if(Qe)break;if(N.push(pr),G+=pr.length,n.reportProgress){Te=n.responseType==="text"?(Te??"")+(se??=new TextDecoder).decode(pr,{stream:!0}):void 0;let Ha=()=>i.next({type:lr.DownloadProgress,total:_?+_:void 0,loaded:G,partialText:Te});Pe?Pe.run(Ha):Ha()}}}));let ut=this.concatChunks(N,G);try{let Qe=s.headers.get(ca)??"";v=this.parseBody(n,ut,Qe)}catch(Qe){i.error(new ar({error:Qe,headers:new Wt(s.headers),status:s.status,statusText:s.statusText,url:tw(s)??n.urlWithParams}));return}}g===0&&(g=v?ow:0),g>=200&&g<300?(i.next(new ko({body:v,headers:c,status:g,statusText:u,url:h})),i.complete()):i.error(new ar({error:v,headers:c,status:g,statusText:u,url:h}))})}parseBody(n,r,i){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(IO,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>r[o]=s.join(",")),n.headers.has(Au)||(r[Au]=iw),!n.headers.has(ca)){let o=n.detectContentTypeHeader();o!==null&&(r[ca]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),o=0;for(let s of n)i.set(s,o),o+=s.length;return i}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac})}return e})(),Tg=class{};function Ag(){}function SO(e){e.then(Ag,Ag)}function MO(e,t){return t(e)}function TO(e,t,n){return(r,i)=>Xt(n,()=>t(r,o=>e(o,i)))}var aw=new K(""),cw=new K(""),lw=new K("",{providedIn:"root",factory:()=>!0});var xu=(()=>{class e extends Ro{backend;injector;chain=null;pendingTasks=w(Or);contributeToStability=w(lw);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(aw),...this.injector.get(cw,[])]));this.chain=r.reduceRight((i,o)=>TO(i,o,this.injector),MO)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(di(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(ne(No),ne(ct))};static \u0275prov=j({token:e,factory:e.\u0275fac})}return e})();var AO=/^\)\]\}',?\n/,xO=RegExp(`^${Og}:`,"m");function OO(e){return"responseURL"in e&&e.responseURL?e.responseURL:xO.test(e.getAllResponseHeaders())?e.getResponseHeader(Og):null}var xg=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new ee(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ge(r.\u0275loadImpl()):te(null)).pipe(Vt(()=>new De(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((V,G)=>s.setRequestHeader(V,G.join(","))),n.headers.has(Au)||s.setRequestHeader(Au,iw),!n.headers.has(ca)){let V=n.detectContentTypeHeader();V!==null&&s.setRequestHeader(ca,V)}if(n.responseType){let V=n.responseType.toLowerCase();s.responseType=V!=="json"?V:"text"}let c=n.serializeBody(),u=null,h=()=>{if(u!==null)return u;let V=s.statusText||"OK",G=new Wt(s.getAllResponseHeaders()),se=OO(s)||n.url;return u=new la({headers:G,status:s.status,statusText:V,url:se}),u},g=()=>{let{headers:V,status:G,statusText:se,url:Te}=h(),Pe=null;G!==EO&&(Pe=typeof s.response>"u"?s.responseText:s.response),G===0&&(G=Pe?ow:0);let ut=G>=200&&G<300;if(n.responseType==="json"&&typeof Pe=="string"){let Qe=Pe;Pe=Pe.replace(AO,"");try{Pe=Pe!==""?JSON.parse(Pe):null}catch(pr){Pe=Qe,ut&&(ut=!1,Pe={error:pr,text:Pe})}}ut?(o.next(new ko({body:Pe,headers:V,status:G,statusText:se,url:Te||void 0})),o.complete()):o.error(new ar({error:Pe,headers:V,status:G,statusText:se,url:Te||void 0}))},v=V=>{let{url:G}=h(),se=new ar({error:V,status:s.status||0,statusText:s.statusText||"Unknown Error",url:G||void 0});o.error(se)},S=!1,_=V=>{S||(o.next(h()),S=!0);let G={type:lr.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(G.total=V.total),n.responseType==="text"&&s.responseText&&(G.partialText=s.responseText),o.next(G)},N=V=>{let G={type:lr.UploadProgress,loaded:V.loaded};V.lengthComputable&&(G.total=V.total),o.next(G)};return s.addEventListener("load",g),s.addEventListener("error",v),s.addEventListener("timeout",v),s.addEventListener("abort",v),n.reportProgress&&(s.addEventListener("progress",_),c!==null&&s.upload&&s.upload.addEventListener("progress",N)),s.send(c),o.next({type:lr.Sent}),()=>{s.removeEventListener("error",v),s.removeEventListener("abort",v),s.removeEventListener("load",g),s.removeEventListener("timeout",v),n.reportProgress&&(s.removeEventListener("progress",_),c!==null&&s.upload&&s.upload.removeEventListener("progress",N)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(ne(xi))};static \u0275prov=j({token:e,factory:e.\u0275fac})}return e})(),uw=new K(""),RO="XSRF-TOKEN",NO=new K("",{providedIn:"root",factory:()=>RO}),PO="X-XSRF-TOKEN",kO=new K("",{providedIn:"root",factory:()=>PO}),ua=class{},FO=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=ra(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(ne(Se),ne(NO))};static \u0275prov=j({token:e,factory:e.\u0275fac})}return e})();function LO(e,t){let n=e.url.toLowerCase();if(!w(uw)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=w(ua).getToken(),i=w(kO);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}var Rg=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Rg||{});function VO(e,t){return{\u0275kind:e,\u0275providers:t}}function Ng(...e){let t=[jr,xg,xu,{provide:Ro,useExisting:xu},{provide:No,useFactory:()=>w(sw,{optional:!0})??w(xg)},{provide:aw,useValue:LO,multi:!0},{provide:uw,useValue:!0},{provide:ua,useClass:FO}];for(let n of e)t.push(...n.\u0275providers);return kl(t)}function Pg(){return VO(Rg.Fetch,[Su,{provide:sw,useExisting:Su},{provide:No,useExisting:Su}])}var dw=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(ne(Se))};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var be="primary",wa=Symbol("RouteTitle"),Bg=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Uo(e){return new Bg(e)}function BO(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=e[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function UO(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!$n(e[n],t[n]))return!1;return!0}function $n(e,t){let n=e?Ug(e):void 0,r=t?Ug(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!_w(e[i],t[i]))return!1;return!0}function Ug(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function _w(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function bw(e){return e.length>0?e[e.length-1]:null}function Hr(e){return Wc(e)?e:Mi(e)?Ge(Promise.resolve(e)):te(e)}var HO={exact:ww,subset:Cw},Dw={exact:$O,subset:zO,ignored:()=>!0};function fw(e,t,n){return HO[n.paths](e.root,t.root,n.matrixParams)&&Dw[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function $O(e,t){return $n(e,t)}function ww(e,t,n){if(!Ri(e.segments,t.segments)||!Nu(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!ww(e.children[r],t.children[r],n))return!1;return!0}function zO(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>_w(e[n],t[n]))}function Cw(e,t,n){return Ew(e,t,t.segments,n)}function Ew(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!Ri(i,n)||t.hasChildren()||!Nu(i,n,r))}else if(e.segments.length===n.length){if(!Ri(e.segments,n)||!Nu(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!Cw(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Ri(e.segments,i)||!Nu(e.segments,i,r)||!e.children[be]?!1:Ew(e.children[be],t,o,r)}}function Nu(e,t,n){return t.every((r,i)=>Dw[n](e[i].parameters,r.parameters))}var dr=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Fe([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Uo(this.queryParams),this._queryParamMap}toString(){return qO.serialize(this)}},Fe=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pu(this)}},Oi=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Uo(this.parameters),this._parameterMap}toString(){return Sw(this)}};function GO(e,t){return Ri(e,t)&&e.every((n,r)=>$n(n.parameters,t[r].parameters))}function Ri(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function WO(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===be&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==be&&(n=n.concat(t(i,r)))}),n}var qu=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:()=>new Ho,providedIn:"root"})}return e})(),Ho=class{parse(t){let n=new $g(t);return new dr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${da(t.root,!0)}`,r=ZO(t.queryParams),i=typeof t.fragment=="string"?`#${KO(t.fragment)}`:"";return`${n}${r}${i}`}},qO=new Ho;function Pu(e){return e.segments.map(t=>Sw(t)).join("/")}function da(e,t){if(!e.hasChildren())return Pu(e);if(t){let n=e.children[be]?da(e.children[be],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==be&&r.push(`${i}:${da(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=WO(e,(r,i)=>i===be?[da(e.children[be],!1)]:[`${i}:${da(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[be]!=null?`${Pu(e)}/${n[0]}`:`${Pu(e)}/(${n.join("//")})`}}function Iw(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ou(e){return Iw(e).replace(/%3B/gi,";")}function KO(e){return encodeURI(e)}function Hg(e){return Iw(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ku(e){return decodeURIComponent(e)}function hw(e){return ku(e.replace(/\+/g,"%20"))}function Sw(e){return`${Hg(e.path)}${YO(e.parameters)}`}function YO(e){return Object.entries(e).map(([t,n])=>`;${Hg(t)}=${Hg(n)}`).join("")}function ZO(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ou(n)}=${Ou(i)}`).join("&"):`${Ou(n)}=${Ou(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var XO=/^[^\/()?;#]+/;function Fg(e){let t=e.match(XO);return t?t[0]:""}var QO=/^[^\/()?;=#]+/;function JO(e){let t=e.match(QO);return t?t[0]:""}var eR=/^[^=?&#]+/;function tR(e){let t=e.match(eR);return t?t[0]:""}var nR=/^[^&#]+/;function rR(e){let t=e.match(nR);return t?t[0]:""}var $g=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fe([],{}):new Fe([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[be]=new Fe(t,n)),r}parseSegment(){let t=Fg(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new ee(4009,!1);return this.capture(t),new Oi(ku(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=JO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Fg(this.remaining);i&&(r=i,this.capture(r))}t[ku(n)]=ku(r)}parseQueryParam(t){let n=tR(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=rR(this.remaining);s&&(r=s,this.capture(r))}let i=hw(n),o=hw(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Fg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ee(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=be);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[be]:new Fe([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new ee(4011,!1)}};function Mw(e){return e.segments.length>0?new Fe([],{[be]:e}):e}function Tw(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=Tw(i);if(r===be&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))t[s]=c;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new Fe(e.segments,t);return iR(n)}function iR(e){if(e.numberOfChildren===1&&e.children[be]){let t=e.children[be];return new Fe(e.segments.concat(t.segments),t.children)}return e}function $o(e){return e instanceof dr}function oR(e,t,n=null,r=null){let i=Aw(e);return xw(i,t,n,r)}function Aw(e){let t;function n(o){let s={};for(let u of o.children){let h=n(u);s[u.outlet]=h}let c=new Fe(o.url,s);return o===e&&(t=c),c}let r=n(e.root),i=Mw(r);return t??i}function xw(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Lg(i,i,i,n,r);let o=sR(t);if(o.toRoot())return Lg(i,i,new Fe([],{}),n,r);let s=aR(o,i,e),c=s.processChildren?ha(s.segmentGroup,s.index,o.commands):Rw(s.segmentGroup,s.index,o.commands);return Lg(i,s.segmentGroup,c,n,r)}function Lu(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ga(e){return typeof e=="object"&&e!=null&&e.outlets}function Lg(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([u,h])=>{o[u]=Array.isArray(h)?h.map(g=>`${g}`):`${h}`});let s;e===t?s=n:s=Ow(e,t,n);let c=Mw(Tw(s));return new dr(c,o,i)}function Ow(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=Ow(o,t,n)}),new Fe(e.segments,r)}var Vu=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Lu(r[0]))throw new ee(4003,!1);let i=r.find(ga);if(i&&i!==bw(r))throw new ee(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function sR(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Vu(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,h])=>{c[u]=typeof h=="string"?h.split("/"):h}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?t++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new Vu(n,t,r)}var Vo=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function aR(e,t,n){if(e.isAbsolute)return new Vo(t,!0,0);if(!n)return new Vo(t,!1,NaN);if(n.parent===null)return new Vo(n,!0,0);let r=Lu(e.commands[0])?0:1,i=n.segments.length-1+r;return cR(n,i,e.numberOfDoubleDots)}function cR(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ee(4005,!1);i=r.segments.length}return new Vo(r,!1,i-o)}function lR(e){return ga(e[0])?e[0].outlets:{[be]:e}}function Rw(e,t,n){if(e??=new Fe([],{}),e.segments.length===0&&e.hasChildren())return ha(e,t,n);let r=uR(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Fe(e.segments.slice(0,r.pathIndex),{});return o.children[be]=new Fe(e.segments.slice(r.pathIndex),e.children),ha(o,0,i)}else return r.match&&i.length===0?new Fe(e.segments,{}):r.match&&!e.hasChildren()?zg(e,t,n):r.match?ha(e,0,i):zg(e,t,n)}function ha(e,t,n){if(n.length===0)return new Fe(e.segments,{});{let r=lR(n),i={};if(Object.keys(r).some(o=>o!==be)&&e.children[be]&&e.numberOfChildren===1&&e.children[be].segments.length===0){let o=ha(e.children[be],t,n);return new Fe(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Rw(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Fe(e.segments,i)}}function uR(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],c=n[r];if(ga(c))break;let u=`${c}`,h=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&h&&typeof h=="object"&&h.outlets===void 0){if(!gw(u,h,s))return o;r+=2}else{if(!gw(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function zg(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(ga(o)){let u=dR(o.outlets);return new Fe(r,u)}if(i===0&&Lu(n[0])){let u=e.segments[t];r.push(new Oi(u.path,pw(n[0]))),i++;continue}let s=ga(o)?o.outlets[be]:`${o}`,c=i<n.length-1?n[i+1]:null;s&&c&&Lu(c)?(r.push(new Oi(s,pw(c))),i+=2):(r.push(new Oi(s,{})),i++)}return new Fe(r,{})}function dR(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=zg(new Fe([],{}),0,r))}),t}function pw(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function gw(e,t,n){return e==n.path&&$n(t,n.parameters)}var Fu="imperative",wt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(wt||{}),pn=class{id;url;constructor(t,n){this.id=t,this.url=n}},zo=class extends pn{type=wt.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Br=class extends pn{urlAfterRedirects;type=wt.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},nn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(nn||{}),ju=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(ju||{}),ur=class extends pn{reason;code;type=wt.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ur=class extends pn{reason;code;type=wt.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},ma=class extends pn{error;target;type=wt.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Bu=class extends pn{urlAfterRedirects;state;type=wt.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gg=class extends pn{urlAfterRedirects;state;type=wt.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wg=class extends pn{urlAfterRedirects;state;shouldActivate;type=wt.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},qg=class extends pn{urlAfterRedirects;state;type=wt.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kg=class extends pn{urlAfterRedirects;state;type=wt.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yg=class{route;type=wt.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Zg=class{route;type=wt.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Xg=class{snapshot;type=wt.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qg=class{snapshot;type=wt.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jg=class{snapshot;type=wt.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},em=class{snapshot;type=wt.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ya=class{},Go=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function fR(e,t){return e.providers&&!e._injector&&(e._injector=eu(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Cn(e){return e.outlet||be}function hR(e,t){let n=e.filter(r=>Cn(r)===t);return n.push(...e.filter(r=>Cn(r)!==t)),n}function Ca(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var tm=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ca(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Ea(this.rootInjector)}},Ea=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new tm(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(ne(ct))};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Uu=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=nm(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=nm(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=rm(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return rm(t,this._root).map(n=>n.value)}};function nm(e,t){if(e===t.value)return t;for(let n of t.children){let r=nm(e,n);if(r)return r}return null}function rm(e,t){if(e===t.value)return[t];for(let n of t.children){let r=rm(e,n);if(r.length)return r.unshift(t),r}return[]}var tn=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Lo(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Hu=class extends Uu{snapshot;constructor(t,n){super(t),this.snapshot=n,fm(this,t)}toString(){return this.snapshot.toString()}};function Nw(e){let t=pR(e),n=new Ye([new Oi("",{})]),r=new Ye({}),i=new Ye({}),o=new Ye({}),s=new Ye(""),c=new Ni(n,r,o,s,i,be,e,t.root);return c.snapshot=t.root,new Hu(new tn(c,[]),t)}function pR(e){let t={},n={},r={},i="",o=new jo([],t,r,i,n,be,e,null,{});return new zu("",new tn(o,[]))}var Ni=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,c,u){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ae(h=>h[wa]))??te(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ae(t=>Uo(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ae(t=>Uo(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function $u(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:L(L({},t.params),e.params),data:L(L({},t.data),e.data),resolve:L(L(L(L({},e.data),t.data),i?.data),e._resolvedData)}:r={params:L({},e.params),data:L({},e.data),resolve:L(L({},e.data),e._resolvedData??{})},i&&kw(i)&&(r.resolve[wa]=i.title),r}var jo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[wa]}constructor(t,n,r,i,o,s,c,u,h){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Uo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Uo(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},zu=class extends Uu{url;constructor(t,n){super(n),this.url=t,fm(this,n)}toString(){return Pw(this._root)}};function fm(e,t){t.value._routerState=e,t.children.forEach(n=>fm(e,n))}function Pw(e){let t=e.children.length>0?` { ${e.children.map(Pw).join(", ")} } `:"";return`${e.value}${t}`}function Vg(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,$n(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),$n(t.params,n.params)||e.paramsSubject.next(n.params),UO(t.url,n.url)||e.urlSubject.next(n.url),$n(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function im(e,t){let n=$n(e.params,t.params)&&GO(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||im(e.parent,t.parent))}function kw(e){return typeof e.title=="string"||e.title===null}var gR=new K(""),Fw=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=be;activateEvents=new We;deactivateEvents=new We;attachEvents=new We;detachEvents=new We;routerOutletData=ab(void 0);parentContexts=w(Ea);location=w(un);changeDetector=w(Bn);inputBinder=w(Ku,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new ee(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new om(n,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Xe({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[rr]})}return e})(),om=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===Ni?this.route:t===Ea?this.childContexts:t===gR?this.outletData:this.parent.get(t,n)}},Ku=new K("");function mR(e,t,n){let r=va(e,t._root,n?n._root:void 0);return new Hu(r,t)}function va(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=yR(e,t,n);return new tn(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(c=>va(e,c)),s}}let r=vR(t.value),i=t.children.map(o=>va(e,o));return new tn(r,i)}}function yR(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return va(e,r,i);return va(e,r)})}function vR(e){return new Ni(new Ye(e.url),new Ye(e.params),new Ye(e.queryParams),new Ye(e.fragment),new Ye(e.data),e.outlet,e.component,e)}var _a=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},Lw="ngNavigationCancelingError";function Gu(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=$o(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Vw(!1,nn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Vw(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[Lw]=!0,n.cancellationCode=t,n}function _R(e){return jw(e)&&$o(e.url)}function jw(e){return!!e&&e[Lw]}var bR=(e,t,n,r)=>ae(i=>(new sm(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),sm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Vg(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Lo(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Lo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:c})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Lo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Lo(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new em(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Qg(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Vg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Vg(c.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Wu=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Bo=class{component;route;constructor(t,n){this.component=t,this.route=n}};function DR(e,t,n){let r=e._root,i=t?t._root:null;return fa(r,i,n,[r.value])}function wR(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function qo(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!r_(e)?e:t.get(e):r}function fa(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Lo(t);return e.children.forEach(s=>{CR(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>pa(c,n.getContext(s),i)),i}function CR(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,c=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=ER(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Wu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?fa(e,t,c?c.children:null,r,i):fa(e,t,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Bo(c.outlet.component,s))}else s&&pa(t,c,i),i.canActivateChecks.push(new Wu(r)),o.component?fa(e,null,c?c.children:null,r,i):fa(e,null,n,r,i);return i}function ER(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Ri(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ri(e.url,t.url)||!$n(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!im(e,t)||!$n(e.queryParams,t.queryParams);case"paramsChange":default:return!im(e,t)}}function pa(e,t,n){let r=Lo(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?pa(s,t.children.getContext(o),n):pa(s,null,n):pa(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Bo(t.outlet.component,i)):n.canDeactivateChecks.push(new Bo(null,i)):n.canDeactivateChecks.push(new Bo(null,i))}function Ia(e){return typeof e=="function"}function IR(e){return typeof e=="boolean"}function SR(e){return e&&Ia(e.canLoad)}function MR(e){return e&&Ia(e.canActivate)}function TR(e){return e&&Ia(e.canActivateChild)}function AR(e){return e&&Ia(e.canDeactivate)}function xR(e){return e&&Ia(e.canMatch)}function Bw(e){return e instanceof mn||e?.name==="EmptyError"}var Ru=Symbol("INITIAL_VALUE");function Wo(){return Vt(e=>so(e.map(t=>t.pipe(_t(1),Tn(Ru)))).pipe(ae(t=>{for(let n of t)if(n!==!0){if(n===Ru)return Ru;if(n===!1||OR(n))return n}return!0}),et(t=>t!==Ru),_t(1)))}function OR(e){return $o(e)||e instanceof _a}function RR(e,t){return ft(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?te(ie(L({},n),{guardsResult:!0})):NR(s,r,i,e).pipe(ft(c=>c&&IR(c)?PR(r,o,e,t):te(c)),ae(c=>ie(L({},n),{guardsResult:c})))})}function NR(e,t,n,r){return Ge(e).pipe(ft(i=>jR(i.component,i.route,n,t,r)),Yn(i=>i!==!0,!0))}function PR(e,t,n,r){return Ge(t).pipe(Ir(i=>Cr(FR(i.route.parent,r),kR(i.route,r),VR(e,i.path,n),LR(e,i.route,n))),Yn(i=>i!==!0,!0))}function kR(e,t){return e!==null&&t&&t(new Jg(e)),te(!0)}function FR(e,t){return e!==null&&t&&t(new Xg(e)),te(!0)}function LR(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return te(!0);let i=r.map(o=>Er(()=>{let s=Ca(t)??n,c=qo(o,s),u=MR(c)?c.canActivate(t,e):Xt(s,()=>c(t,e));return Hr(u).pipe(Yn())}));return te(i).pipe(Wo())}function VR(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>wR(s)).filter(s=>s!==null).map(s=>Er(()=>{let c=s.guards.map(u=>{let h=Ca(s.node)??n,g=qo(u,h),v=TR(g)?g.canActivateChild(r,e):Xt(h,()=>g(r,e));return Hr(v).pipe(Yn())});return te(c).pipe(Wo())}));return te(o).pipe(Wo())}function jR(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return te(!0);let s=o.map(c=>{let u=Ca(t)??i,h=qo(c,u),g=AR(h)?h.canDeactivate(e,t,n,r):Xt(u,()=>h(e,t,n,r));return Hr(g).pipe(Yn())});return te(s).pipe(Wo())}function BR(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return te(!0);let o=i.map(s=>{let c=qo(s,e),u=SR(c)?c.canLoad(t,n):Xt(e,()=>c(t,n));return Hr(u)});return te(o).pipe(Wo(),Uw(r))}function Uw(e){return Hf(bt(t=>{if(typeof t!="boolean")throw Gu(e,t)}),ae(t=>t===!0))}function UR(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return te(!0);let o=i.map(s=>{let c=qo(s,e),u=xR(c)?c.canMatch(t,n):Xt(e,()=>c(t,n));return Hr(u)});return te(o).pipe(Wo(),Uw(r))}var ba=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Da=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Fo(e){return Yt(new ba(e))}function HR(e){return Yt(new ee(4e3,!1))}function $R(e){return Yt(Vw(!1,nn.GuardRejected))}var am=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return te(r);if(i.numberOfChildren>1||!i.children[be])return HR(`${t.redirectTo}`);i=i.children[be]}}applyRedirectCommands(t,n,r,i,o){if(typeof n!="string"){let c=n,{queryParams:u,fragment:h,routeConfig:g,url:v,outlet:S,params:_,data:N,title:V}=i,G=Xt(o,()=>c({params:_,data:N,queryParams:u,fragment:h,routeConfig:g,url:v,outlet:S,title:V}));if(G instanceof dr)throw new Da(G);n=G}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new Da(s);return s}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new dr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(t,u,r,i)}),new Fe(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new ee(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},cm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zR(e,t,n,r,i){let o=Hw(e,t,n);return o.matched?(r=fR(t,r),UR(r,t,n,i).pipe(ae(s=>s===!0?o:L({},cm)))):te(o)}function Hw(e,t,n){if(t.path==="**")return GR(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?L({},cm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||BO)(n,e,t);if(!i)return L({},cm);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function GR(e){return{matched:!0,parameters:e.length>0?bw(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function mw(e,t,n,r){return n.length>0&&KR(e,n,r)?{segmentGroup:new Fe(t,qR(r,new Fe(n,e.children))),slicedSegments:[]}:n.length===0&&YR(e,n,r)?{segmentGroup:new Fe(e.segments,WR(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Fe(e.segments,e.children),slicedSegments:n}}function WR(e,t,n,r){let i={};for(let o of n)if(Yu(e,t,o)&&!r[Cn(o)]){let s=new Fe([],{});i[Cn(o)]=s}return L(L({},r),i)}function qR(e,t){let n={};n[be]=t;for(let r of e)if(r.path===""&&Cn(r)!==be){let i=new Fe([],{});n[Cn(r)]=i}return n}function KR(e,t,n){return n.some(r=>Yu(e,t,r)&&Cn(r)!==be)}function YR(e,t,n){return n.some(r=>Yu(e,t,r))}function Yu(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function ZR(e,t,n){return t.length===0&&!e.children[n]}var lm=class{};function XR(e,t,n,r,i,o,s="emptyOnly"){return new um(e,t,n,r,i,s,o).recognize()}var QR=31,um=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,c){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new am(this.urlSerializer,this.urlTree)}noMatchError(t){return new ee(4002,`'${t.segmentGroup}'`)}recognize(){let t=mw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ae(({children:n,rootSnapshot:r})=>{let i=new tn(r,n),o=new zu("",i),s=oR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new jo([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),be,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,be,n).pipe(ae(r=>({children:r,rootSnapshot:n})),yt(r=>{if(r instanceof Da)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ba?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(ae(s=>s instanceof tn?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ge(o).pipe(Ir(s=>{let c=r.children[s],u=hR(n,s);return this.processSegmentGroup(t,u,c,s,i)}),Xf((s,c)=>(s.push(...c),s)),Sr(null),Yf(),ft(s=>{if(s===null)return Fo(r);let c=$w(s);return JR(c),te(c)}))}processSegment(t,n,r,i,o,s,c){return Ge(n).pipe(Ir(u=>this.processSegmentAgainstRoute(u._injector??t,n,u,r,i,o,s,c).pipe(yt(h=>{if(h instanceof ba)return te(null);throw h}))),Yn(u=>!!u),yt(u=>{if(Bw(u))return ZR(r,i,o)?te(new lm):Fo(r);throw u}))}processSegmentAgainstRoute(t,n,r,i,o,s,c,u){return Cn(r)!==s&&(s===be||!Yu(i,o,r))?Fo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,u):Fo(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,c){let{matched:u,parameters:h,consumedSegments:g,positionalParamSegments:v,remainingSegments:S}=Hw(n,i,o);if(!u)return Fo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>QR&&(this.allowRedirects=!1));let _=new jo(o,h,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,yw(i),Cn(i),i.component??i._loadedComponent??null,i,vw(i)),N=$u(_,c,this.paramsInheritanceStrategy);_.params=Object.freeze(N.params),_.data=Object.freeze(N.data);let V=this.applyRedirects.applyRedirectCommands(g,i.redirectTo,v,_,t);return this.applyRedirects.lineralizeSegments(i,V).pipe(ft(G=>this.processSegment(t,r,n,G.concat(S),s,!1,c)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let c=zR(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(Vt(u=>u.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Vt(({routes:h})=>{let g=r._loadedInjector??t,{parameters:v,consumedSegments:S,remainingSegments:_}=u,N=new jo(S,v,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,yw(r),Cn(r),r.component??r._loadedComponent??null,r,vw(r)),V=$u(N,s,this.paramsInheritanceStrategy);N.params=Object.freeze(V.params),N.data=Object.freeze(V.data);let{segmentGroup:G,slicedSegments:se}=mw(n,S,_,h);if(se.length===0&&G.hasChildren())return this.processChildren(g,h,G,N).pipe(ae(Pe=>new tn(N,Pe)));if(h.length===0&&se.length===0)return te(new tn(N,[]));let Te=Cn(r)===o;return this.processSegment(g,h,G,se,Te?be:o,!0,N).pipe(ae(Pe=>new tn(N,Pe instanceof tn?[Pe]:[])))}))):Fo(n)))}getChildConfig(t,n,r){return n.children?te({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?te({routes:n._loadedRoutes,injector:n._loadedInjector}):BR(t,n,r,this.urlSerializer).pipe(ft(i=>i?this.configLoader.loadChildren(t,n).pipe(bt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):$R(n))):te({routes:[],injector:t})}};function JR(e){e.sort((t,n)=>t.value.outlet===be?-1:n.value.outlet===be?1:t.value.outlet.localeCompare(n.value.outlet))}function eN(e){let t=e.value.routeConfig;return t&&t.path===""}function $w(e){let t=[],n=new Set;for(let r of e){if(!eN(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=$w(r.children);t.push(new tn(r.value,i))}return t.filter(r=>!n.has(r))}function yw(e){return e.data||{}}function vw(e){return e.resolve||{}}function tN(e,t,n,r,i,o){return ft(s=>XR(e,t,n,r,s.extractedUrl,i,o).pipe(ae(({state:c,tree:u})=>ie(L({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function nN(e,t){return ft(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return te(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let h of zw(u))s.add(h);let c=0;return Ge(s).pipe(Ir(u=>o.has(u)?rN(u,r,e,t):(u.data=$u(u,u.parent,e).resolve,te(void 0))),bt(()=>c++),ao(1),ft(u=>c===s.size?te(n):Mt))})}function zw(e){let t=e.children.map(n=>zw(n)).flat();return[e,...t]}function rN(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!kw(i)&&(o[wa]=i.title),iN(o,e,t,r).pipe(ae(s=>(e._resolvedData=s,e.data=$u(e,e.parent,n).resolve,null)))}function iN(e,t,n,r){let i=Ug(e);if(i.length===0)return te({});let o={};return Ge(i).pipe(ft(s=>oN(e[s],t,n,r).pipe(Yn(),bt(c=>{if(c instanceof _a)throw Gu(new Ho,c);o[s]=c}))),ao(1),ae(()=>o),yt(s=>Bw(s)?Mt:Yt(s)))}function oN(e,t,n,r){let i=Ca(t)??r,o=qo(e,i),s=o.resolve?o.resolve(t,n):Xt(i,()=>o(t,n));return Hr(s)}function jg(e){return Vt(t=>{let n=e(t);return n?Ge(n).pipe(ae(()=>t)):te(t)})}var Gw=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===be);return r}getResolvedTitleForRoute(n){return n.data[wa]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:()=>w(sN),providedIn:"root"})}return e})(),sN=(()=>{class e extends Gw{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(ne(dw))};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Zu=new K("",{providedIn:"root",factory:()=>({})}),Ww=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Dt({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&dn(0,"router-outlet")},dependencies:[Fw],encapsulation:2})}return e})();function hm(e){let t=e.children&&e.children.map(hm),n=t?ie(L({},e),{children:t}):L({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==be&&(n.component=Ww),n}var Xu=new K(""),qw=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=w(fD);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return te(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Hr(n.loadComponent()).pipe(ae(Kw),bt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),di(()=>{this.componentLoaders.delete(n)})),i=new io(r,()=>new ue).pipe(ro());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return te({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=aN(r,this.compiler,n,this.onLoadEndListener).pipe(di(()=>{this.childrenLoaders.delete(r)})),s=new io(o,()=>new ue).pipe(ro());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function aN(e,t,n,r){return Hr(e.loadChildren()).pipe(ae(Kw),ft(i=>i instanceof Wp||Array.isArray(i)?te(i):Ge(t.compileModuleAsync(i))),ae(i=>{r&&r(e);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(n).injector,s=o.get(Xu,[],{optional:!0,self:!0}).flat()),{routes:s.map(hm),injector:o}}))}function cN(e){return e&&typeof e=="object"&&"default"in e}function Kw(e){return cN(e)?e.default:e}var pm=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:()=>w(lN),providedIn:"root"})}return e})(),lN=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Yw=new K("");var Zw=new K(""),Xw=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ue;transitionAbortSubject=new ue;configLoader=w(qw);environmentInjector=w(ct);destroyRef=w(Gs);urlSerializer=w(qu);rootContexts=w(Ea);location=w(Lr);inputBindingEnabled=w(Ku,{optional:!0})!==null;titleStrategy=w(Gw);options=w(Zu,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=w(pm);createViewTransition=w(Yw,{optional:!0});navigationErrorHandler=w(Zw,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>te(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Yg(i)),r=i=>this.events.next(new Zg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ie(L({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new Ye(null),this.transitions.pipe(et(r=>r!==null),Vt(r=>{let i=!1,o=!1;return te(r).pipe(Vt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",nn.SupersededByNewNavigation),Mt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ie(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload"){let h="";return this.events.next(new Ur(s.id,this.urlSerializer.serialize(s.rawUrl),h,ju.IgnoredSameUrlNavigation)),s.resolve(!1),Mt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return te(s).pipe(Vt(h=>(this.events.next(new zo(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),h.id!==this.navigationId?Mt:Promise.resolve(h))),tN(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),bt(h=>{r.targetSnapshot=h.targetSnapshot,r.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ie(L({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let g=new Bu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:h,extractedUrl:g,source:v,restoredState:S,extras:_}=s,N=new zo(h,this.urlSerializer.serialize(g),v,S);this.events.next(N);let V=Nw(this.rootComponentType).snapshot;return this.currentTransition=r=ie(L({},s),{targetSnapshot:V,urlAfterRedirects:g,extras:ie(L({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,te(r)}else{let h="";return this.events.next(new Ur(s.id,this.urlSerializer.serialize(s.extractedUrl),h,ju.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Mt}}),bt(s=>{let c=new Gg(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),ae(s=>(this.currentTransition=r=ie(L({},s),{guards:DR(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),RR(this.environmentInjector,s=>this.events.next(s)),bt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Gu(this.urlSerializer,s.guardsResult);let c=new Wg(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(c)}),et(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",nn.GuardRejected),!1)),jg(s=>{if(s.guards.canActivateChecks.length!==0)return te(s).pipe(bt(c=>{let u=new qg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Vt(c=>{let u=!1;return te(c).pipe(nN(this.paramsInheritanceStrategy,this.environmentInjector),bt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",nn.NoDataFromResolver)}}))}),bt(c=>{let u=new Kg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),jg(s=>{let c=u=>{let h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe(bt(g=>{u.component=g}),ae(()=>{})));for(let g of u.children)h.push(...c(g));return h};return so(c(s.targetSnapshot.root)).pipe(Sr(null),_t(1))}),jg(()=>this.afterPreactivation()),Vt(()=>{let{currentSnapshot:s,targetSnapshot:c}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,c.root);return u?Ge(u).pipe(ae(()=>r)):te(r)}),ae(s=>{let c=mR(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ie(L({},s),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,r}),bt(()=>{this.events.next(new ya)}),bR(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),_t(1),bt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Br(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),An(this.transitionAbortSubject.pipe(bt(s=>{throw s}))),di(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",nn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),yt(s=>{if(this.destroyed)return r.resolve(!1),Mt;if(o=!0,jw(s))this.events.next(new ur(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),_R(s)?this.events.next(new Go(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let c=new ma(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=Xt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof _a){let{message:h,cancellationCode:g}=Gu(this.urlSerializer,u);this.events.next(new ur(r.id,this.urlSerializer.serialize(r.extractedUrl),h,g)),this.events.next(new Go(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Mt}))}))}cancelNavigationTransition(n,r,i){let o=new ur(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function uN(e){return e!==Fu}var dN=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:()=>w(fN),providedIn:"root"})}return e})(),dm=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},fN=(()=>{class e extends dm{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qt(e)))(i||e)}})();static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Qw=(()=>{class e{urlSerializer=w(qu);options=w(Zu,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=w(Lr);urlHandlingStrategy=w(pm);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new dr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof dr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=Nw(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:()=>w(hN),providedIn:"root"})}return e})(),hN=(()=>{class e extends Qw{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof zo?this.updateStateMemento():n instanceof Ur?this.commitTransition(r):n instanceof Bu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ya?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ur&&(n.code===nn.GuardRejected||n.code===nn.NoDataFromResolver)?this.restoreHistory(r):n instanceof ma?this.restoreHistory(r,!0):n instanceof Br&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let c=this.browserPageId,u=L(L({},s),this.generateNgRouterState(i,c));this.location.replaceState(n,"",u)}else{let c=L(L({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",c)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qt(e)))(i||e)}})();static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Jw(e,t){e.events.pipe(et(n=>n instanceof Br||n instanceof ur||n instanceof ma||n instanceof Ur),ae(n=>n instanceof Br||n instanceof Ur?0:(n instanceof ur?n.code===nn.Redirect||n.code===nn.SupersededByNewNavigation:!1)?2:1),et(n=>n!==2),_t(1)).subscribe(()=>{t()})}var pN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},gm=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=w(rD);stateManager=w(Qw);options=w(Zu,{optional:!0})||{};pendingTasks=w(Or);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=w(Xw);urlSerializer=w(qu);location=w(Lr);urlHandlingStrategy=w(pm);_events=new ue;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=w(dN);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=w(Xu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!w(Ku,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new $e;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ur&&r.code!==nn.Redirect&&r.code!==nn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Br)this.navigated=!0;else if(r instanceof Go){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||uN(i.source)},s);this.scheduleNavigation(c,Fu,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}yN(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(hm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,h=u?this.currentUrlTree.fragment:s,g=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":g=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}g!==null&&(g=this.removeEmptyProps(g));let v;try{let S=i?i.snapshot:this.routerState.snapshot.root;v=Aw(S)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),v=this.currentUrlTree.root}return xw(v,n,g,h??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=$o(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Fu,null,r)}navigate(n,r={skipLocationChange:!1}){return mN(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=L({},pN):r===!1?i=L({},gN):i=r,$o(n))return fw(this.currentUrlTree,n,i);let o=this.parseUrl(n);return fw(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,h;s?(c=s.resolve,u=s.reject,h=s.promise):h=new Promise((v,S)=>{c=v,u=S});let g=this.pendingTasks.add();return Jw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:u,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(v=>Promise.reject(v))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mN(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new ee(4008,!1)}function yN(e){return!(e instanceof ya)&&!(e instanceof Go)}var vN=new K("");function mm(e,...t){return kl([{provide:Xu,multi:!0,useValue:e},[],{provide:Ni,useFactory:_N,deps:[gm]},{provide:Yp,multi:!0,useFactory:bN},t.map(n=>n.\u0275providers)])}function _N(e){return e.routerState.root}function bN(){let e=w(Ze);return t=>{let n=e.get(_n);if(t!==n.components[0])return;let r=e.get(gm),i=e.get(DN);e.get(wN)===1&&r.initialNavigation(),e.get(CN,null,_e.Optional)?.setUpPreloading(),e.get(vN,null,_e.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var DN=new K("",{factory:()=>new ue}),wN=new K("",{providedIn:"root",factory:()=>1});var CN=new K("");var cC=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(fe(jn),fe(nt))};static \u0275dir=Xe({type:e})}return e})(),Dm=(()=>{class e extends cC{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qt(e)))(i||e)}})();static \u0275dir=Xe({type:e,features:[kt]})}return e})(),nd=new K("");var IN={provide:nd,useExisting:Ar(()=>rd),multi:!0};function SN(){let e=fn()?fn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var MN=new K(""),rd=(()=>{class e extends cC{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!SN())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(fe(jn),fe(nt),fe(MN,8))};static \u0275dir=Xe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&tt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[kr([IN]),kt]})}return e})();var TN=new K(""),AN=new K("");function lC(e){return e!=null}function uC(e){return Mi(e)?Ge(e):e}function dC(e){let t={};return e.forEach(n=>{t=n!=null?L(L({},t),n):t}),Object.keys(t).length===0?null:t}function fC(e,t){return t.map(n=>n(e))}function xN(e){return!e.validate}function hC(e){return e.map(t=>xN(t)?t:n=>t.validate(n))}function ON(e){if(!e)return null;let t=e.filter(lC);return t.length==0?null:function(n){return dC(fC(n,t))}}function pC(e){return e!=null?ON(hC(e)):null}function RN(e){if(!e)return null;let t=e.filter(lC);return t.length==0?null:function(n){let r=fC(n,t).map(uC);return Ms(r).pipe(ae(dC))}}function gC(e){return e!=null?RN(hC(e)):null}function eC(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function NN(e){return e._rawValidators}function PN(e){return e._rawAsyncValidators}function ym(e){return e?Array.isArray(e)?e:[e]:[]}function Ju(e,t){return Array.isArray(e)?e.includes(t):e===t}function tC(e,t){let n=ym(t);return ym(e).forEach(i=>{Ju(n,i)||n.push(i)}),n}function nC(e,t){return ym(t).filter(n=>!Ju(e,n))}var ed=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=pC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=gC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},vm=class extends ed{name;get formDirective(){return null}get path(){return null}},xa=class extends ed{_parent=null;name=null;valueAccessor=null},_m=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},kN={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},I3=ie(L({},kN),{"[class.ng-submitted]":"isSubmitted"}),mC=(()=>{class e extends _m{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(fe(xa,2))};static \u0275dir=Xe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Rr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[kt]})}return e})();var Sa="VALID",Qu="INVALID",Ko="PENDING",Ma="DISABLED",Zo=class{},td=class extends Zo{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Ta=class extends Zo{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Aa=class extends Zo{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Yo=class extends Zo{status;source;constructor(t,n){super(),this.status=t,this.source=n}};function FN(e){return(id(e)?e.validators:e)||null}function LN(e){return Array.isArray(e)?pC(e):e||null}function VN(e,t){return(id(t)?t.asyncValidators:e)||null}function jN(e){return Array.isArray(e)?gC(e):e||null}function id(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var bm=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Un(this.statusReactive)}set status(t){Un(()=>this.statusReactive.set(t))}_status=su(()=>this.statusReactive());statusReactive=zl(void 0);get valid(){return this.status===Sa}get invalid(){return this.status===Qu}get pending(){return this.status==Ko}get disabled(){return this.status===Ma}get enabled(){return this.status!==Ma}errors;get pristine(){return Un(this.pristineReactive)}set pristine(t){Un(()=>this.pristineReactive.set(t))}_pristine=su(()=>this.pristineReactive());pristineReactive=zl(!0);get dirty(){return!this.pristine}get touched(){return Un(this.touchedReactive)}set touched(t){Un(()=>this.touchedReactive.set(t))}_touched=su(()=>this.touchedReactive());touchedReactive=zl(!1);get untouched(){return!this.touched}_events=new ue;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(tC(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(tC(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(nC(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(nC(t,this._rawAsyncValidators))}hasValidator(t){return Ju(this._rawValidators,t)}hasAsyncValidator(t){return Ju(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(ie(L({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Aa(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Aa(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(ie(L({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ta(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ta(!0,r))}markAsPending(t={}){this.status=Ko;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Yo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(ie(L({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Ma,this.errors=null,this._forEachChild(i=>{i.disable(ie(L({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new td(this.value,r)),this._events.next(new Yo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ie(L({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Sa,this._forEachChild(r=>{r.enable(ie(L({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(ie(L({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sa||this.status===Ko)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new td(this.value,n)),this._events.next(new Yo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(ie(L({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ma:Sa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Ko,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=uC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Yo(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new We,this.statusChanges=new We}_calculateStatus(){return this._allControlsDisabled()?Ma:this.errors?Qu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ko)?Ko:this._anyControlsHaveStatus(Qu)?Qu:Sa}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new Ta(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Aa(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){id(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=LN(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=jN(this._rawAsyncValidators)}};var yC=new K("",{providedIn:"root",factory:()=>wm}),wm="always";function BN(e,t){return[...t.path,e]}function UN(e,t,n=wm){$N(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),zN(e,t),WN(e,t),GN(e,t),HN(e,t)}function rC(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function HN(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function $N(e,t){let n=NN(e);t.validator!==null?e.setValidators(eC(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=PN(e);t.asyncValidator!==null?e.setAsyncValidators(eC(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();rC(t._rawValidators,i),rC(t._rawAsyncValidators,i)}function zN(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&vC(e,t)})}function GN(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&vC(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function vC(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function WN(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function qN(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function KN(e){return Object.getPrototypeOf(e.constructor)===Dm}function YN(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===rd?n=o:KN(o)?r=o:i=o}),i||r||n||null}function iC(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function oC(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var ZN=class extends bm{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(FN(n),VN(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),id(n)&&(n.nonNullable||n.initialValueIsDefault)&&(oC(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){iC(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){iC(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){oC(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var XN={provide:xa,useExisting:Ar(()=>Cm)},sC=Promise.resolve(),Cm=(()=>{class e extends xa{_changeDetectorRef;callSetDisabledState;control=new ZN;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new We;constructor(n,r,i,o,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=YN(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),qN(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){UN(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){sC.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&xo(r);sC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?BN(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(fe(vm,9),fe(TN,10),fe(AN,10),fe(nd,10),fe(Bn,8),fe(yC,8))};static \u0275dir=Xe({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[kr([XN]),kt,rr]})}return e})();var QN={provide:nd,useExisting:Ar(()=>od),multi:!0};function _C(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function JN(e){return e.split(":")[0]}var od=(()=>{class e extends Dm{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),i=_C(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=JN(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qt(e)))(i||e)}})();static \u0275dir=Xe({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&tt("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[kr([QN]),kt]})}return e})(),bC=(()=>{class e{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(_C(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(fe(nt),fe(jn),fe(od,9))};static \u0275dir=Xe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),eP={provide:nd,useExisting:Ar(()=>DC),multi:!0};function aC(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function tP(e){return e.split(":")[0]}var DC=(()=>{class e extends Dm{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let c=0;c<s.length;c++){let u=s[c],h=this._getOptionValue(u.value);i.push(h)}}else{let s=r.options;for(let c=0;c<s.length;c++){let u=s[c];if(u.selected){let h=this._getOptionValue(u.value);i.push(h)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=tP(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qt(e)))(i||e)}})();static \u0275dir=Xe({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&tt("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[kr([eP]),kt]})}return e})(),wC=(()=>{class e{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(aC(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(aC(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||e)(fe(nt),fe(jn),fe(DC,9))};static \u0275dir=Xe({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();var nP=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=He({type:e});static \u0275inj=Ue({})}return e})();var CC=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:yC,useValue:n.callSetDisabledState??wm}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=He({type:e});static \u0275inj=Ue({imports:[nP]})}return e})();function iP(e,t){if(e&1&&(B(0,"div",1)(1,"div",2),dn(2,"div",3),U(),B(3,"div",4),J(4),U()()),e&2){let n=ge();X(2),nu("width",n.progress.progress,"%"),X(2),Ft(n.progress.message)}}var sd=class e{progress=null;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Dt({type:e,selectors:[["app-loading-progress"]],inputs:{progress:"progress"},decls:1,vars:1,consts:[["class","loading-progress",4,"ngIf"],[1,"loading-progress"],[1,"progress-bar"],[1,"progress"],[1,"message"]],template:function(n,r){n&1&&ke(0,iP,5,3,"div",0),n&2&&ve("ngIf",r.progress)},dependencies:[Vr,na],styles:[".loading-progress[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;background:#000c;color:#fff;padding:1rem;z-index:1000}.progress-bar[_ngcontent-%COMP%]{height:4px;background:#333;border-radius:2px;overflow:hidden;margin-bottom:.5rem}.progress[_ngcontent-%COMP%]{height:100%;background:#4caf50;transition:width .3s ease}.message[_ngcontent-%COMP%]{font-size:.9rem;text-align:center}"]})};var IC={2:"Story",3:"Patrol",6:"Patrol",4:"Raid",8:"Raid",9:"Raid",16:"Raid",17:"Raid",31:"Raid",32:"Raid",54:"Raid",55:"Raid",56:"Raid",57:"Raid",58:"Raid",59:"Raid",60:"Raid",61:"Raid",62:"Raid",63:"Raid",64:"Raid",82:"Dungeon",83:"Dungeon",84:"Dungeon",85:"Dungeon",86:"Dungeon",87:"Dungeon",88:"Dungeon",89:"Dungeon",7:"Nightfall",46:"Nightfall",48:"Strike",49:"Strike",5:"Crucible",10:"Crucible",12:"Crucible",15:"Crucible",19:"Crucible",24:"Crucible",25:"Crucible",28:"Crucible",37:"Crucible",38:"Crucible",39:"Crucible",40:"Crucible",41:"Crucible",42:"Crucible",43:"Crucible",44:"Crucible",65:"Crucible",66:"Crucible",50:"Crucible",51:"Crucible",52:"Crucible",53:"Crucible",45:"Gambit",47:"Gambit",67:"Gambit",1:"Public Event",68:"Public Event",79:"Lost Sector",80:"Seasonal",81:"Seasonal",90:"Exotic Mission",91:"Exotic Mission",92:"Seasonal Event",93:"Seasonal Event"},Em=[{label:"All"},{label:"Story",d1Mode:2,d2Mode:2},{label:"Patrol",d1Mode:3,d2Mode:3},{label:"Public Event",d1Mode:1,d2Mode:1},{label:"Raid",d1Mode:4,d2Mode:4},{label:"Dungeon",d2Mode:82},{label:"Strike",d1Mode:48,d2Mode:49},{label:"Nightfall",d1Mode:7,d2Mode:46},{label:"Lost Sector",d2Mode:79},{label:"Exotic Mission",d2Mode:90},{label:"Seasonal",d2Mode:80},{label:"Seasonal Event",d2Mode:92},{label:"Crucible",d1Mode:5,d2Mode:5},{label:"Gambit",d2Mode:45},{label:"Other"}];var SC={production:!0,debug:!1,bungie:{API_KEY:"e55082388d014a79b9f5da4be0063d1c",API_ROOT:"https://www.bungie.net/Platform"},testMode:!1,baseHref:"/Destiny-Chronicle/",mockData:{enabled:!1}};var Xo=class e{constructor(t){this.http=t}API_KEY=SC.bungie.API_KEY;D1_BASE_URL="https://www.bungie.net/d1/Platform";D2_BASE_URL="https://www.bungie.net/Platform";getHeaders(){let t=window.location.origin||"http://localhost:4200";return new Wt({"X-API-Key":this.API_KEY,"User-Agent":"DestinyChronicle/1.0",Origin:t,Accept:"application/json","Content-Type":"application/json"})}searchD1Player(t,n){let r=`${this.D1_BASE_URL}/Destiny/SearchDestinyPlayer/${n}/${encodeURIComponent(t)}/`;return this.http.get(r,{headers:this.getHeaders()}).pipe(ae(i=>i.ErrorCode===1?i.Response.map(o=>({displayName:o.displayName,membershipType:o.membershipType,membershipId:o.membershipId})):[]),yt(i=>(console.error("Error in D1 search:",i),te([]))))}searchD2Player(t){let n=`${this.D2_BASE_URL}/Destiny2/SearchDestinyPlayer/-1/${encodeURIComponent(t)}/`;return this.http.get(n,{headers:this.getHeaders()})}getLinkedProfiles(t,n){return this.http.get(`${this.D2_BASE_URL}/Destiny2/${t}/Profile/${n}/LinkedProfiles/`,{headers:this.getHeaders()}).pipe(yt(r=>(console.error("Error fetching linked profiles:",r),te({}))))}getProfile(t,n){return this.http.get(`${this.D2_BASE_URL}/Destiny2/${t}/Profile/${n}/?components=100,200`,{headers:this.getHeaders()}).pipe(yt(r=>(console.error("Error fetching profile:",r),Yt(()=>r))))}getD1Profile(t,n){return this.http.get(`${this.D1_BASE_URL}/Destiny/${t}/Account/${n}/Summary/`,{headers:this.getHeaders()}).pipe(yt(r=>(console.error("Error fetching D1 profile:",r),Yt(()=>r))))}getActivityHistory(t,n,r,i,o=0){let c={count:250,page:o};return i!==void 0&&(c.mode=i),this.http.get(`${this.D2_BASE_URL}/Destiny2/${t}/Account/${n}/Character/${r}/Stats/Activities/`,{headers:this.getHeaders(),params:c}).pipe(yt(u=>(console.error("Error fetching activity history:",u),Yt(()=>u))))}getD1ActivityHistory(t,n,r,i=0,o=0){let c={count:250,page:o,mode:i},u=`${this.D1_BASE_URL}/Destiny/Stats/ActivityHistory/${t}/${n}/${r}/`;return this.http.get(u,{headers:this.getHeaders(),params:c}).pipe(ae(h=>{if(h.ErrorCode!==1)throw new Error(`Bungie API Error: ${h.ErrorStatus} - ${h.Message}`);let g=h.Response.data.activities||[];return{data:{activities:g.map(v=>ie(L({},v),{game:"D1",mode:i}))},totalResults:h.Response.data.totalResults||0,hasMore:g.length===250}}),yt(h=>(console.error("[DEBUG] Error fetching D1 activity history:",{mode:i,page:o,error:h,errorMessage:h.message,errorStatus:h.status,errorStatusText:h.statusText,errorUrl:h.url,errorHeaders:h.headers,errorBody:h.error}),Yt(()=>h))))}getAllD1Activities(t,n,r){let o=[0,1,2,3,4,5,6,10,12,15,16,17,18,19,22,24,25,31,32,37,38,39,40,41,42,43,44,45,46,48,49,50,51,52,53].map(s=>this.getD1ActivityHistory(t,n,r,s,0).pipe(ae(c=>ie(L({},c),{mode:s}))));return Ms(o).pipe(ae(s=>{let c=s.flatMap(u=>u.data.activities||[]);return c.sort((u,h)=>new Date(h.period).getTime()-new Date(u.period).getTime()),{data:{activities:c}}}))}getPGCR(t,n=!1){let r="https://stats.bungie.net/Platform",i=n?`${r}/Destiny/Stats/PostGameCarnageReport/${t}/`:`${r}/Destiny2/Stats/PostGameCarnageReport/${t}/`,o=new Wt({"X-API-Key":this.API_KEY,"User-Agent":"DestinyChronicle/1.0",Accept:"application/json",Origin:window.location.origin||"http://localhost:4200"});return this.http.get(i,{headers:o,observe:"response"}).pipe(ae(s=>{let c=s.body;if(!c)throw new Error("Empty response body");if(c.ErrorCode!==1)throw new Error(`Bungie API Error: ${c.ErrorStatus} - ${c.Message}`);return c.Response}),Zf({count:3,delay:(s,c)=>{if(s.status!==500&&s.status!==0)return Yt(()=>s);let u=Math.pow(2,c-1)*1e3;return ui(u)}}),yt(s=>{throw console.error(`[DEBUG] Error fetching PGCR ${t}:`,{status:s.status,statusText:s.statusText,message:s.message,url:s.url,headers:s.headers,body:s.error}),s}))}isD1Player(t){return(t.membershipType===1||t.membershipType===2)&&!t.bungieGlobalDisplayName&&!t.isCrossSavePrimary}searchDestinyPlayerByBungieName(t,n){let r=`${this.D2_BASE_URL}/Destiny2/SearchDestinyPlayerByBungieName/-1/`,i=new Wt({"X-API-Key":this.API_KEY,"User-Agent":"DestinyChronicle/1.0"});return this.http.post(r,{displayName:t,displayNameCode:n},{headers:i})}getActivityCount(t,n,r){return this.http.get(`${this.D2_BASE_URL}/Destiny2/${t}/Account/${n}/Character/${r}/Stats/Activities/?count=1`,{headers:this.getHeaders()}).pipe(ae(i=>i.Response?.totalResults??0),yt(i=>(console.error("Error fetching activity count:",i),te(0))))}getD1PGCR(t){let n=`${this.D1_BASE_URL}/Destiny/Stats/PostGameCarnageReport/${t}/`;return this.http.get(n).pipe(ae(r=>r.Response),yt(this.handleError))}handleError(t){console.error("Bungie API Error:",t);let n="An error occurred";return t.error instanceof ErrorEvent?n=t.error.message:n=`Error Code: ${t.status}
Message: ${t.message}`,Yt(()=>new Error(n))}static \u0275fac=function(n){return new(n||e)(ne(jr))};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})};var ad=class e{constructor(t){this.http=t;this.loadManifest()}activityDefs={};manifestLoaded=new Ye(!1);D1_ACTIVITY_JSON="assets/manifest/d1-activity-definitions.json";D1_RAID_JSON="assets/manifest/d1-raid-definitions.json";D1_RAID_IMAGE_MAP={"3801607287":"assets/d1_raid_images/vaultofglass.jpg","3879860661":"assets/d1_raid_images/crotasend.jpg",1733556769:"assets/d1_raid_images/kingsfall.jpg","2578867903":"assets/d1_raid_images/wrathofthemachine.jpg"};loadManifest(){return ce(this,null,function*(){try{let[t,n]=yield Promise.all([mt(this.http.get(this.D1_ACTIVITY_JSON)),mt(this.http.get(this.D1_RAID_JSON))]);this.activityDefs=L(L({},t),n),this.manifestLoaded.next(!0),console.log("D1 manifest (JSON) loaded successfully")}catch(t){console.error("Failed to load D1 manifest JSON:",t),this.manifestLoaded.next(!1)}})}getActivityName(t){if(!this.activityDefs||!t)return"Unknown Activity";let n=this.activityDefs[String(t)];return n?n?.activityName||n?.displayProperties?.name||"Unknown Activity":(console.warn("[Manifest][getActivityName] MISSING",{referenceId:t,isD1:!0}),"Unknown Activity")}getActivityIcon(t){if(!this.activityDefs||!t)return"";let n=this.activityDefs[String(t)];return n?n.icon?"https://www.bungie.net"+n.icon:n.displayProperties?.icon?"https://www.bungie.net"+n.displayProperties.icon:"":(console.warn("[Manifest][getActivityIcon] MISSING",{referenceId:t,isD1:!0}),"")}getActivityRaidImage(t){return this.D1_RAID_IMAGE_MAP[String(t)]||""}getActivityPgcrImage(t){if(!this.activityDefs||!t)return"";let n=this.activityDefs[String(t)];return n&&n.pgcrImage?n.pgcrImage.startsWith("/img")||n.pgcrImage.startsWith("/common")?"https://www.bungie.net"+n.pgcrImage:n.pgcrImage:this.getActivityIcon(t)}isLoaded(){return this.manifestLoaded.asObservable()}static \u0275fac=function(n){return new(n||e)(ne(jr))};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})};var Qo=class e{constructor(t,n){this.http=t;this.d1Manifest=n;this.loadManifest()}activityDefs={};manifestLoaded=new Ye(!1);loadManifest(){return ce(this,null,function*(){try{let n=(yield mt(this.http.get("https://www.bungie.net/Platform/Destiny2/Manifest/"))).Response.jsonWorldComponentContentPaths.en.DestinyActivityDefinition;this.activityDefs=yield mt(this.http.get("https://www.bungie.net"+n)),this.manifestLoaded.next(!0)}catch(t){console.error("Error loading D2 manifest:",t),this.manifestLoaded.next(!1)}})}getActivityName(t,n){if(n)return this.d1Manifest.getActivityName(t);{let r=String(t);return this.activityDefs[r]?.displayProperties?.name}}getActivityIcon(t,n=!1){if(n)return this.d1Manifest.getActivityIcon(t);if(!this.activityDefs)return"";let r=this.activityDefs[t];return r&&r.displayProperties?.icon?"https://www.bungie.net"+r.displayProperties.icon:""}getActivityPgcrImage(t,n){if(n){let r=this.d1Manifest.getActivityPgcrImage(t);if(r&&!r.includes("/icons/"))return r;let i=this.d1Manifest.getActivityRaidImage(t);if(i)return i;let o=this.d1Manifest.getActivityIcon(t);return o||void 0}else{let r=String(t);return this.activityDefs[r]?.pgcrImage}}getActivityType(t,n){if(n!==void 0){if(n===4)return"raid";if(n===16)return"strike";if(n===5)return"crucible";if(n===82)return"dungeon";if(n===46||n===18)return"strike";if(n===63||n===75)return"gambit";if([5,10,12,15,19,24,25,28,37,38,39,40,41,42,43,44,48,49,50,51,52,53].includes(n))return"crucible"}let r=this.activityDefs[t];if(!r)return"other";if([2043403989,3879860661,1733556769,2578867903].includes(Number(t)))return"raid";let o=r.activityTypeHash,s=r.activityModeTypes||[];return o===2043403989||s.includes(4)?"raid":o===1375089621||s.includes(82)?"dungeon":o===4110605575||s.includes(46)||s.includes(18)?"strike":o===3789021730||s.includes(46)?"nightfall":o===1164760493||s.some(c=>[5,10,12,15,19,24,25,28,37,38,39,40,41,42,43,44,48,49,50,51,52,53].includes(c))?"crucible":o===484905723||s.includes(63)||s.includes(75)?"gambit":"other"}isLoaded(){return this.manifestLoaded.asObservable()}debugActivityDefinition(t){this.activityDefs[t]}checkMissingHashes(t,n){return n?t.filter(r=>{let i=this.d1Manifest.getActivityName(r);return!i||i==="Unknown Activity"}):t.filter(r=>!this.activityDefs[String(r)])}static \u0275fac=function(n){return new(n||e)(ne(jr),ne(ad))};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})};var cd=class e{CACHE_KEY_PREFIX="destiny_activity_cache_";CACHE_EXPIRY=24*60*60*1e3;constructor(){}getCacheKey(t,n,r){return`${this.CACHE_KEY_PREFIX}${t}_${n}_${r}`}getCachedActivities(t,n,r){let i=this.getCacheKey(t,n,r),o=localStorage.getItem(i);if(!o)return null;let s=JSON.parse(o);return Date.now()-s.lastUpdated>this.CACHE_EXPIRY?(localStorage.removeItem(i),null):s.activities}cacheActivities(t,n,r,i){let o=this.getCacheKey(n,r,i),s={activities:t,lastUpdated:Date.now(),characterId:i,membershipType:n,membershipId:r};localStorage.setItem(o,JSON.stringify(s))}clearCache(t,n,r){let i=this.getCacheKey(t,n,r);localStorage.removeItem(i)}clearAllCache(){Object.keys(localStorage).filter(t=>t.startsWith(this.CACHE_KEY_PREFIX)).forEach(t=>localStorage.removeItem(t))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})};var Oa=class e{constructor(t,n=24*60*60*1e3){this.storageKey=t;this.expiryTime=n;this.loadFromStorage()}cache=new Map;loadFromStorage(){try{let t=localStorage.getItem(this.storageKey);if(t){let n=JSON.parse(t);Object.entries(n).forEach(([r,i])=>{i.expiry>Date.now()&&this.cache.set(r,i)})}}catch(t){console.error(`Error loading cache from storage for ${this.storageKey}:`,t)}}saveToStorage(){try{let t=Object.fromEntries(this.cache);localStorage.setItem(this.storageKey,JSON.stringify(t))}catch(t){console.error(`Error saving cache to storage for ${this.storageKey}:`,t)}}set(t,n){this.cache.set(t,{data:n,expiry:Date.now()+this.expiryTime}),this.saveToStorage()}get(t){let n=this.cache.get(t);if(n){if(n.expiry<Date.now()){this.cache.delete(t),this.saveToStorage();return}return n.data}}delete(t){this.cache.delete(t),this.saveToStorage()}clear(){this.cache.clear(),localStorage.removeItem(this.storageKey)}has(t){let n=this.cache.get(t);return n?n.expiry<Date.now()?(this.cache.delete(t),this.saveToStorage(),!1):!0:!1}static \u0275fac=function(n){return new(n||e)(ne("STORAGE_KEY"),ne("EXPIRY_TIME"))};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})};var ld=class e{CACHE_KEY="destiny_pgcr_cache";MAX_CACHE_SIZE=50;CACHE_EXPIRY=7*24*60*60*1e3;d2PgcrCache;d1PgcrCache;constructor(){this.d2PgcrCache=new Oa("d2-pgcr-cache",24*60*60*1e3),this.d1PgcrCache=new Oa("d1-pgcr-cache",24*60*60*1e3)}getCache(){let t=localStorage.getItem(this.CACHE_KEY);return t?JSON.parse(t):[]}saveCache(t){localStorage.setItem(this.CACHE_KEY,JSON.stringify(t))}cleanCache(){let t=this.getCache(),n=Date.now(),r=t.filter(i=>n-i.timestamp<this.CACHE_EXPIRY);r.length>this.MAX_CACHE_SIZE&&(r.sort((i,o)=>o.timestamp-i.timestamp),r.splice(this.MAX_CACHE_SIZE)),this.saveCache(r)}getPGCR(t){let n=this.getCache(),r=n.find(i=>i.activityId===t);return r?(r.timestamp=Date.now(),this.saveCache(n),r.data):null}cachePGCR(t,n,r=!1){let i=this.getCache(),o=i.findIndex(s=>s.activityId===t);o!==-1&&i.splice(o,1),i.push({activityId:t,timestamp:Date.now(),data:n,isFullData:r}),this.cleanCache()}cacheMinimalPGCR(t,n){this.cachePGCR(t,n,!1)}cacheFullPGCR(t,n){this.cachePGCR(t,n,!0)}clearCache(){localStorage.removeItem(this.CACHE_KEY),this.d2PgcrCache.clear(),this.d1PgcrCache.clear()}getCacheStats(){let t=this.getCache(),n=t.filter(i=>i.isFullData).length,r=new Blob([JSON.stringify(t)]).size;return{total:t.length,fullData:n,size:r}}cacheD2PGCR(t,n){this.d2PgcrCache.set(t,n)}getD2PGCR(t){return this.d2PgcrCache.get(t)}cacheD1PGCR(t,n){this.d1PgcrCache.set(t,n)}getD1PGCR(t){return this.d1PgcrCache.get(t)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})};var ud=pE(AC(),1),xC=Symbol.for("Dexie"),dd=globalThis[xC]||(globalThis[xC]=ud.default);if(ud.default.semVer!==dd.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${ud.default.semVer} and ${dd.semVer}`);var{liveQuery:Q3,mergeRanges:J3,rangesOverlap:e4,RangeSet:t4,cmp:n4,Entity:r4,PropModification:i4,replacePrefix:o4,add:s4,remove:a4}=dd;var OC=dd;var fd=class e extends OC{constructor(n,r){super("DestinyChronicleDb");this.manifest=n;this.bungieService=r;try{this.version(2).stores({activities:"++id, membershipId, characterId, period, instanceId, mode, validated, validatedAt, [membershipId+characterId+instanceId], [membershipId+characterId+mode], [period+membershipId+characterId]",favorites:"membershipId, game"}),this.activities=this.table("activities"),this.favorites=this.table("favorites")}catch(i){throw console.error("[Dexie] Error initializing ActivityDbService:",i),i}}activities;favorites;static ACTIVITY_FAMILY_MAP={"2693136600":"Leviathan","2693136601":"Leviathan","2693136602":"Leviathan","2693136603":"Leviathan","2693136604":"Leviathan","2693136605":"Leviathan","3333172150":"Eater of Worlds","3916343513":"Eater of Worlds","3089205900":"Spire of Stars",119944200:"Spire of Stars",2122313384:"Crown of Sorrow","3458480158":"Garden of Salvation",910380154:"Deep Stone Crypt",1374392663:"Vow of the Disciple",1441982566:"Vault of Glass","2381413762":"King's Fall","3711931140":"Crota's End","2381413763":"Root of Nightmares","4179289725":"Salvation's Edge",2032534090:"The Shattered Throne",1375089621:"Pit of Heresy","4148187374":"Prophecy","4078656646":"Grasp of Avarice",1441982567:"Duality","3213556450":"Spire of the Watcher","4226118555":"Ghosts of the Deep","4226118556":"Warlord's Ruin",1915770060:"Vesper's Host",300092127:"Vesper's Host","3492566689":"Vesper's Host","4293676253":"Vesper's Host",247869137:"Sundered Doctrine","3521648250":"Sundered Doctrine","3834447244":"Sundered Doctrine","3801607287":"Vault of Glass",708693006:"Vault of Glass","3879860661":"Crota's End",898834093:"Crota's End",1733556769:"King's Fall",421023204:"King's Fall","2578867903":"Wrath of the Machine","4007500989":"Wrath of the Machine"};isDuplicateActivity(n,r){return n.membershipId===r.membershipId&&n.characterId===r.characterId&&n.activityDetails?.instanceId===r.activityDetails?.instanceId}addActivities(n){return ce(this,null,function*(){try{let r=n.filter((i,o,s)=>o===s.findIndex(c=>this.isDuplicateActivity(c,i)));yield this.activities.bulkPut(r)}catch(r){throw console.error("[Dexie] Error adding activities:",r),r}})}getActivitiesByDate(n,r,i,o,s){return ce(this,null,function*(){try{let c=new Date(Date.UTC(s||2014,i-1,o,0,0,0)),u=new Date(Date.UTC(s||2030,i-1,o,23,59,59));return yield this.activities.where("[period+membershipId+characterId]").between([c.toISOString(),n,r],[u.toISOString(),n,r]).toArray()}catch(c){throw console.error("[Dexie] Error getting activities by date:",c),c}})}getActivitiesByMode(n,r,i){return ce(this,null,function*(){try{return yield this.activities.where({membershipId:n,characterId:r}).filter(s=>s.activityDetails.mode===i).toArray()}catch(o){throw console.error("[Dexie] Error getting activities by mode:",o),o}})}clearActivitiesForCharacter(n,r){return ce(this,null,function*(){try{yield this.activities.where({membershipId:n,characterId:r}).delete()}catch(i){throw console.error("[Dexie] Error clearing activities:",i),i}})}getAllActivitiesForCharacter(n,r){return ce(this,null,function*(){try{let i=yield this.activities.where({membershipId:n,characterId:r}).toArray(),o=i.reduce((s,c)=>{if(!c.period)return s;let u=new Date(c.period).getUTCFullYear();return s[u]||(s[u]=[]),s[u].push(c),s},{});return i}catch(i){throw console.error("[Dexie] Error getting all activities:",i),i}})}clearAllActivities(){return ce(this,null,function*(){try{yield this.activities.clear()}catch(n){throw console.error("[Dexie] Error clearing all activities:",n),n}})}getActivityByInstanceId(n){return ce(this,null,function*(){try{return yield this.activities.where("instanceId").equals(n).first()}catch(r){console.error("[Dexie] Error getting activity by instance ID:",r);return}})}getUnvalidatedActivities(n,r){return ce(this,null,function*(){try{return yield this.activities.where({membershipId:n,characterId:r}).filter(i=>!i.validated).toArray()}catch(i){throw console.error("[Dexie] Error getting unvalidated activities:",i),i}})}getFirstCompletions(n,r,i){return ce(this,null,function*(){try{if(!n||!r)return;let o={"3801607287":"Vault of Glass",708693006:"Vault of Glass","3879860661":"Crota's End",898834093:"Crota's End",1733556769:"King's Fall",421023204:"King's Fall","2578867903":"Wrath of the Machine","4007500989":"Wrath of the Machine"},s=yield this.activities.where({membershipId:n,characterId:r}).toArray(),c=new Map;for(let h of s){if(!h.activityDetails?.referenceId||h.values?.completed?.basic?.value!==1)continue;let g=this.manifest.getActivityType(h.activityDetails.referenceId,h.activityDetails.mode);if(g!=="raid"&&g!=="dungeon")continue;let v="";if(h.game!=="D1"){let N=e.ACTIVITY_FAMILY_MAP[h.activityDetails.referenceId];if(!N)continue;v=N}else if(v=o[h.activityDetails.referenceId]||this.manifest.getActivityName(h.activityDetails.referenceId,!0)||"Unknown Activity",!v||v==="Unknown Activity")continue;let S=`${g}-${h.game==="D1"?"D1":"D2"}-${v}`,_=c.get(S);(!_||new Date(h.period)<new Date(_.period))&&c.set(S,{type:g,name:v,game:h.game==="D1"?"D1":"D2",period:h.period,completionDate:h.period,referenceId:h.activityDetails.referenceId,instanceId:h.activityDetails.instanceId||"",mode:h.activityDetails.mode,characterId:h.characterId,membershipId:h.membershipId})}let u=Array.from(c.values());return{membershipId:n,characterId:r,displayName:"",platform:"",firstCompletions:u}}catch(o){console.error("Error getting first completions:",o);return}})}validateAllActivities(){return ce(this,null,function*(){let n=yield this.activities.toArray(),r=0;for(let i of n)i.validated||(i.validated=!0,i.validatedAt=new Date().toISOString(),yield this.activities.put(i),r++)})}getLastActivityDate(n){return ce(this,null,function*(){try{let r=yield this.activities.where("characterId").equals(n).sortBy("period");return r.length===0?null:new Date(r[r.length-1].period)}catch(r){return console.error("[DEBUG] Error getting last activity date:",r),null}})}storeActivities(n,r){return ce(this,null,function*(){try{let i=n.map(o=>ie(L({},o),{characterId:r,validated:!1,validatedAt:null}));yield this.addActivities(i)}catch(i){throw console.error("[DEBUG] Error storing activities:",i),i}})}fetchAndStoreActivities(n,r,i,o=!1){return ce(this,null,function*(){try{let s=yield this.getLastActivityDate(i),c=[];o?c=(yield mt(this.bungieService.getAllD1Activities(n,r,i))).data.activities||[]:c=(yield mt(this.bungieService.getActivityHistory(n,r,i))).data.activities||[];let u=c.filter(h=>{let g=new Date(h.period);return!s||g>s});u.length>0&&(yield this.storeActivities(u,i))}catch(s){throw console.error("[DEBUG] Error in fetchAndStoreActivities:",s),s}})}addFavorite(n){return ce(this,null,function*(){yield this.favorites.put(n)})}removeFavorite(n,r){return ce(this,null,function*(){yield this.favorites.where({membershipId:n,game:r}).delete()})}getFavorites(){return ce(this,null,function*(){return this.favorites.toArray()})}static \u0275fac=function(r){return new(r||e)(ne(Qo),ne(Xo))};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})};var hd=class e{utcToLocal(t){return t?new Date(t):new Date}localToUtc(t){return new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()))}getLocalMonthAndDay(t){let n=this.utcToLocal(t);return{month:n.getMonth()+1,day:n.getDate()}}createLocalDate(t,n){let r=new Date;return r.setMonth(t-1),r.setDate(n),r.setHours(0,0,0,0),r}formatDate(t){return this.utcToLocal(t).toLocaleDateString()}formatTime(t){return this.utcToLocal(t).toLocaleTimeString()}formatDateTime(t){return this.utcToLocal(t).toLocaleString()}debugTimezoneInfo(t){let n=this.utcToLocal(t);console.log("[Timezone Debug]",{original:t,local:n.toLocaleString(),utc:n.toUTCString(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,offset:n.getTimezoneOffset(),month:n.getMonth()+1,day:n.getDate(),hours:n.getHours()})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})};var pd=class e{ICON_BASE_PATH="assets/icons/activities";ICON_PATHS={"raid-d1":`${this.ICON_BASE_PATH}/raid-d1.png`,"raid-d2":`${this.ICON_BASE_PATH}/raid-d2.png`,strike:`${this.ICON_BASE_PATH}/strike.png`,nightfall:`${this.ICON_BASE_PATH}/nightfall.png`,story:`${this.ICON_BASE_PATH}/story.png`,dungeon:`${this.ICON_BASE_PATH}/dungeon.png`,crucible:`${this.ICON_BASE_PATH}/crucible.png`,"iron-banner":`${this.ICON_BASE_PATH}/iron-banner.png`,"trials-osiris":`${this.ICON_BASE_PATH}/trials-osiris.png`,"trials-nine":`${this.ICON_BASE_PATH}/trials-nine.png`,gambit:`${this.ICON_BASE_PATH}/gambit.png`,patrol:`${this.ICON_BASE_PATH}/patrol.png`,"public-event":`${this.ICON_BASE_PATH}/public-event.png`,"lost-sector":`${this.ICON_BASE_PATH}/lost-sector.png`,seasonal:`${this.ICON_BASE_PATH}/seasonal.png`,"exotic-mission":`${this.ICON_BASE_PATH}/exotic-mission.png`,other:`${this.ICON_BASE_PATH}/other.png`};MODE_TO_ICON={4:"raid-d2",8:"raid-d1",9:"raid-d1",16:"raid-d1",17:"raid-d1",31:"raid-d2",32:"raid-d2",54:"raid-d2",55:"raid-d2",56:"raid-d2",57:"raid-d2",58:"raid-d2",59:"raid-d2",60:"raid-d2",61:"raid-d2",62:"raid-d2",63:"raid-d2",64:"raid-d2",82:"dungeon",83:"dungeon",84:"dungeon",85:"dungeon",86:"dungeon",87:"dungeon",88:"dungeon",89:"dungeon",7:"nightfall",46:"nightfall",48:"strike",49:"strike",5:"crucible",10:"crucible",12:"crucible",15:"iron-banner",19:"trials-osiris",24:"crucible",25:"crucible",28:"crucible",37:"crucible",38:"crucible",39:"trials-nine",40:"crucible",41:"crucible",42:"crucible",43:"crucible",44:"crucible",45:"gambit",47:"gambit",67:"gambit",2:"story",3:"patrol",6:"patrol",1:"public-event",68:"public-event",79:"lost-sector",80:"seasonal",81:"seasonal",90:"exotic-mission",91:"exotic-mission"};constructor(){}getIconPathForMode(t,n=!1){let r=this.MODE_TO_ICON[t]||"other";return r==="raid-d2"&&n?this.ICON_PATHS["raid-d1"]:this.ICON_PATHS[r]}getIconPath(t){return this.ICON_PATHS[t]}static \u0275fac=function(n){return new(n||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})};var dP=()=>["Raid","Strike","Nightfall","Crucible","Other"],RC=()=>["Raid","Dungeon","Strike","Nightfall","Crucible","Gambit","Other"];function fP(e,t){if(e&1){let n=Dn();B(0,"div",39),tt("click",function(){let i=At(n).$implicit,o=ge(2);return xt(o.selectPlayer(i))}),B(1,"span",40),J(2),U(),B(3,"span",41),J(4),U(),B(5,"button",42),tt("click",function(i){let o=At(n).$implicit,s=ge(2);return i.stopPropagation(),xt(s.toggleFavorite(o))}),B(6,"span",43),J(7,"\u2605"),U()()()}if(e&2){let n=t.$implicit;X(2),Ft(n.displayName),X(2),Ti("(",n.platform,", ",n.game,")"),X(2),ve("ngClass","text-yellow-400")}}function hP(e,t){if(e&1&&(B(0,"div",35)(1,"h3",36),J(2,"Favorites"),U(),B(3,"div",37),ke(4,fP,8,4,"div",38),U()()),e&2){let n=ge();X(4),ve("ngForOf",n.favoriteAccounts)}}function pP(e,t){e&1&&(B(0,"div",44),J(1," Bungie API is currently unavailable. Showing cached data for favorite accounts only. "),U())}function gP(e,t){if(e&1){let n=Dn();B(0,"div",45)(1,"span"),J(2),U(),B(3,"button",42),tt("click",function(){let i=At(n).$implicit,o=ge();return xt(o.toggleFavorite(i))}),B(4,"span",43),J(5,"\u2605"),U()(),B(6,"button",42),tt("click",function(){let i=At(n).index,o=ge();return xt(o.removePlayer(i))}),J(7,"Remove"),U()()}if(e&2){let n=t.$implicit,r=ge();X(2),eg("",n.displayName," (",n.platform,", ",n.game,")"),X(),or("aria-label",r.isFavorite(n)?"Unfavorite":"Favorite"),X(),ve("ngClass",r.isFavorite(n)?"text-yellow-400":"text-slate-400")}}function mP(e,t){if(e&1&&(B(0,"option",46),J(1),U()),e&2){let n=t.$implicit;ve("value",n.value),X(),en(" ",n.label," ")}}function yP(e,t){if(e&1&&(B(0,"div",47),J(1),U()),e&2){let n=ge();X(),en(" ",n.errorMessage," ")}}function vP(e,t){if(e&1&&(B(0,"option",46),J(1),U()),e&2){let n=t.$implicit;ve("value",n),X(),Ft(n)}}function _P(e,t){if(e&1){let n=Dn();B(0,"div",48)(1,"h2",8),J(2,"Date"),U(),B(3,"div",49)(4,"select",50,0),tt("change",function(){At(n);let i=Ao(5),o=Ao(31),s=ge();return xt(s.onDateSelect(i.value,o.value))}),B(6,"option",51),J(7,"January"),U(),B(8,"option",52),J(9,"February"),U(),B(10,"option",53),J(11,"March"),U(),B(12,"option",54),J(13,"April"),U(),B(14,"option",55),J(15,"May"),U(),B(16,"option",56),J(17,"June"),U(),B(18,"option",57),J(19,"July"),U(),B(20,"option",58),J(21,"August"),U(),B(22,"option",59),J(23,"September"),U(),B(24,"option",60),J(25,"October"),U(),B(26,"option",61),J(27,"November"),U(),B(28,"option",62),J(29,"December"),U()(),B(30,"select",63,1),tt("change",function(){At(n);let i=Ao(5),o=Ao(31),s=ge();return xt(s.onDateSelect(i.value,o.value))}),ke(32,vP,2,2,"option",16),U()(),B(33,"button",64),tt("click",function(){At(n);let i=ge();return xt(i.loadAllFilteredActivities())}),J(34," Load Activities "),U()()}if(e&2){let n=Ao(5),r=ge();X(4),ve("value",r.currentMonth),X(26),ve("value",r.currentDay),X(2),ve("ngForOf",r.getDaysForMonth(n.value))}}function bP(e,t){if(e&1&&(Nr(0),B(1,"strong"),J(2),U(),B(3,"span"),J(4),Ai(5,"number"),U(),Pr()),e&2){let n=ge().$implicit,r=ge(2);X(2),Ft(n),X(2),Ti(" ",r.getPerTypeStats(n).count," runs, ",Ys(5,3,r.getPerTypeStats(n).time)," min ")}}function DP(e,t){if(e&1&&(B(0,"div",72),ke(1,bP,6,5,"ng-container",73),U()),e&2){let n=t.$implicit,r=ge(2);X(),ve("ngIf",r.accountStats.perType[n])}}function wP(e,t){if(e&1&&(B(0,"div",65)(1,"div",66)(2,"h3",67),J(3,"Account Summary"),U(),B(4,"div",68)(5,"div",69)(6,"strong"),J(7,"Total Time Played"),U(),B(8,"span"),J(9),Ai(10,"number"),U()(),B(11,"div",69)(12,"strong"),J(13,"Total Activity Time"),U(),B(14,"span"),J(15),Ai(16,"number"),U()(),B(17,"div",69)(18,"strong"),J(19,"Total Activities"),U(),B(20,"span"),J(21),U()()(),B(22,"div",70),ke(23,DP,2,1,"div",71),U()()()),e&2){let n=ge();X(9),en("",Ys(10,4,n.accountStats.totalTime)," min"),X(6),en("",Ys(16,6,n.accountStats.totalActivityTime)," min"),X(6),Ft(n.accountStats.totalActivityCount),X(2),ve("ngForOf",n.selectedPlayers.length===1?n.selectedPlayers[0].game==="D1"?iu(8,dP):iu(9,RC):iu(10,RC))}}function CP(e,t){if(e&1){let n=Dn();Nr(0),B(1,"div",95)(2,"img",96),tt("error",function(i){At(n);let o=ge(2).$implicit,s=ge(4);return xt(s.handleImageError(i,o.game==="D1"))}),U()(),Pr()}if(e&2){let n=ge().ngIf,r=ge().$implicit,i=ge(4);X(2),ve("src",n,ql)("alt",i.getActivityName(r.activities[0],r.game==="D1"))}}function EP(e,t){if(e&1){let n=Dn();Nr(0),B(1,"img",97),tt("error",function(i){At(n);let o=ge(2).$implicit,s=ge(4);return xt(s.handleImageError(i,o.game==="D1"))}),U(),Pr()}if(e&2){let n=ge().ngIf,r=ge().$implicit,i=ge(4);X(),ve("src",n,ql)("alt",i.getActivityName(r.activities[0],r.game==="D1"))}}function IP(e,t){if(e&1&&(Nr(0),ke(1,CP,3,2,"ng-container",73)(2,EP,2,2,"ng-container",73),Pr()),e&2){let n=t.ngIf;X(),ve("ngIf",n.includes("/assets/icons/activities/")),X(),ve("ngIf",!n.includes("/assets/icons/activities/"))}}function SP(e,t){if(e&1){let n=Dn();B(0,"div",98)(1,"span",99),J(2),U(),B(3,"button",100),tt("click",function(){let i=At(n).$implicit,o=ge(5);return xt(o.openExternalPGCR(i,i.game==="D1"))}),J(4," View PGCR "),U()()}if(e&2){let n=t.$implicit,r=ge(5);X(2),Ft(r.formatTime(n.period))}}function MP(e,t){if(e&1&&(B(0,"div",86)(1,"div",87),ke(2,IP,3,2,"ng-container",73),dn(3,"div",88),B(4,"div",89)(5,"h6",90),J(6),U(),B(7,"div",91)(8,"span"),J(9),U(),B(10,"span"),J(11),Ai(12,"number"),U()()()(),B(13,"div",92)(14,"div",93),ke(15,SP,5,1,"div",94),U()()()),e&2){let n=t.$implicit,r=ge(4);X(2),ve("ngIf",r.getActivityImage(n.activities[0],n.game==="D1")),X(4),en(" ",r.getActivityName(n.activities[0],n.game==="D1")," "),X(3),Ti("",n.activities.length," ",n.activities.length===1?"completion":"completions",""),X(2),en("",ng(12,6,r.getAverageDuration(n.activities),"1.0-0"),"m avg"),X(4),ve("ngForOf",n.activities)}}function TP(e,t){if(e&1&&(B(0,"div",82)(1,"h4",83),J(2),U(),B(3,"div",84),ke(4,MP,16,9,"div",85),U()()),e&2){let n=t.$implicit,r=ge(3);X(2),Ft(n.year),X(2),ve("ngForOf",r.groupActivitiesByType(n.typeGroups[0].activities))}}function AP(e,t){if(e&1&&(B(0,"div",76)(1,"div",77)(2,"h3",78),J(3),U(),B(4,"span",79),J(5),U(),B(6,"span",79),J(7),U()(),B(8,"div",80),ke(9,TP,5,2,"div",81),U()()),e&2){let n=t.$implicit;X(3),Ft(n.displayName),X(2),en(" ",n.platform," "),X(2),en(" ",n.game," "),X(2),ve("ngForOf",n.yearGroups)}}function xP(e,t){if(e&1&&(B(0,"div",74),ke(1,AP,10,4,"div",75),U()),e&2){let n=ge();X(),ve("ngForOf",n.groupedActivitiesByAccount)}}function OP(e,t){e&1&&(B(0,"div",101),dn(1,"div",102),B(2,"p",99),J(3,"Loading activities..."),U()())}function RP(e,t){e&1&&(B(0,"div",103),J(1," No activities found for this date. "),U())}function NP(e,t){if(e&1){let n=Dn();Nr(0),B(1,"div",107)(2,"img",108),tt("error",function(i){let o=At(n).$implicit,s=ge(3);return xt(s.handleImageError(i,o.game==="D1"))}),U(),B(3,"div",109),J(4),U(),B(5,"div",110),J(6),Ai(7,"titlecase"),U(),B(8,"div",41),J(9),Ai(10,"date"),U(),B(11,"button",111),tt("click",function(){let i=At(n).$implicit,o=ge(3);return xt(o.openExternalPGCRForFirst(i))}),J(12," View PGCR "),U()(),Pr()}if(e&2){let n=t.$implicit,r=ge(3);X(2),ve("src",r.getFirstCompletionImage(n),ql)("alt",n.name),X(2),Ft(n.name),X(2),Ti("",Ys(7,6,n.type)," \u2022 ",n.game,""),X(3),Ft(ng(10,8,n.completionDate,"mediumDate"))}}function PP(e,t){if(e&1&&(Nr(0),ke(1,NP,13,11,"ng-container",106),Pr()),e&2){let n=t.$implicit,r=ge(2);X(),ve("ngForOf",r.getGuardianFirstsForGame(n))}}function kP(e,t){if(e&1&&(B(0,"div",104)(1,"h3",83),J(2,"Guardian Firsts (Lifetime Overview)"),U(),B(3,"div",105),ke(4,PP,2,1,"ng-container",106),U()()),e&2){let n=ge();X(4),ve("ngForOf",n.guardianGames)}}function FP(e,t){if(e&1){let n=Dn();B(0,"button",117),tt("click",function(){At(n);let i=ge(2);return xt(i.selectPlatformPlayer(i.crossSavePlayer))}),B(1,"span",40),J(2,"Cross Save"),U(),J(3),U()}if(e&2){let n=ge(2);X(3),en(" (",n.crossSavePlayer.platform,") ")}}function LP(e,t){if(e&1){let n=Dn();B(0,"button",118),tt("click",function(){let i=At(n).$implicit,o=ge(2);return xt(o.selectPlatformPlayer(i))}),J(1),U()}if(e&2){let n=t.$implicit;X(),Ti(" ",n.platform," - ",n.displayName," ")}}function VP(e,t){if(e&1){let n=Dn();B(0,"div",112)(1,"div",113)(2,"h3",83),J(3,"Select Platform"),U(),B(4,"div",93),ke(5,FP,4,1,"button",114)(6,LP,2,2,"button",115),U(),B(7,"button",116),tt("click",function(){At(n);let i=ge();return xt(i.showPlatformPicker=!1)}),J(8," Cancel "),U()()()}if(e&2){let n=ge();X(5),ve("ngIf",n.crossSavePlayer),X(),ve("ngForOf",n.d2SearchResults)}}var Jo=class e{constructor(t,n,r,i,o,s,c,u){this.bungieService=t;this.manifest=n;this.cdr=r;this.activityCacheService=i;this.pgcrCacheService=o;this.activityDb=s;this.timezoneService=c;this.activityIconService=u;window.activityDbService=this.activityDb}d1XboxSearchTerm="";d1PsnSearchTerm="";d2SearchTerm="";selectedMonth=new Date().getMonth()+1;selectedDay=new Date().getDate();selectedYear;selectedDate="";currentMonth=new Date().getMonth()+1;currentDay=new Date().getDate();selectedPlayers=[];selectedCharacterIds={};characters={};activities={};loading={};error={};selectedActivityType=Em[0];searchUsername="";selectedPlatform="";selectedGame="D2";errorMessage="";platforms=[{label:"Xbox",value:"Xbox"},{label:"PlayStation",value:"PlayStation"},{label:"Steam",value:"Steam"},{label:"Cross Save",value:"Cross Save"}];activityTypeOptions=Em;d2SearchResults=[];showPlatformPicker=!1;crossSavePlayer=null;loadingActivities={};groupedActivitiesByAccount=[];processedActivities=[];loadingProgress=null;BATCH_SIZE=50;MAX_RETRIES=3;RETRY_DELAY=1e3;activityCache=new Map;filteredActivitiesCache=new Map;CACHE_DURATION=5*60*1e3;filteredActivities$=new Ye([]);loadingAccountStats=!1;accountStats={totalTime:0,totalActivityTime:0,totalActivityCount:0,perType:{}};filteredActivitiesForDate=[];currentLoadToken=0;PGCR_BATCH_SIZE=30;VALIDATION_DELAY=50;guardianFirsts=[];loadingGuardianFirsts=!1;guardianGames=["D1","D2"];favoriteAccounts=[];apiAvailable=!0;dbReady=!1;ngOnInit(){return ce(this,null,function*(){let t=new Date;this.selectedMonth=t.getMonth()+1,this.selectedDay=t.getDate(),this.selectedDate=`${this.selectedMonth}-${this.selectedDay}`,yield this.loadFavorites(),this.dbReady=!0,this.cdr.detectChanges()})}loadFavorites(){return ce(this,null,function*(){this.favoriteAccounts=yield this.activityDb.getFavorites(),this.cdr.detectChanges()})}isFavorite(t){return this.favoriteAccounts.some(n=>n.membershipId===t.membershipId&&n.game===t.game)}toggleFavorite(t){return ce(this,null,function*(){this.isFavorite(t)?yield this.activityDb.removeFavorite(t.membershipId,t.game):yield this.activityDb.addFavorite({membershipId:t.membershipId,membershipType:t.membershipType,displayName:t.displayName,game:t.game,platform:t.platform,lastUpdated:new Date().toISOString()}),yield this.loadFavorites()})}handleApiError(t){return ce(this,null,function*(){(t.status===503||t.status===0)&&(this.apiAvailable=!1,yield this.loadFavorites())})}get hasD1Players(){return this.selectedPlayers.some(t=>this.isD1Player(t))}get hasD2Players(){return this.selectedPlayers.some(t=>!this.isD1Player(t))}getPlatforms(t){let n=new Set;return this.selectedPlayers.forEach(r=>{(t==="D1"&&this.isD1Player(r)||t==="D2"&&!this.isD1Player(r))&&n.add(this.getPlatformName(r.membershipType))}),Array.from(n)}getPlayersByGameAndPlatform(t,n){return this.selectedPlayers.filter(r=>{let i=t==="D1"&&this.isD1Player(r)||t==="D2"&&!this.isD1Player(r),o=this.getPlatformName(r.membershipType)===n;return i&&o})}searchD1Player(t,n){return ce(this,null,function*(){if(console.log("searchD1Player called",{searchTerm:t,membershipType:n}),!t)return;let r=`d1-${n}-${t}`;this.loading[r]=!0,this.error[r]="";try{let i=yield mt(this.bungieService.searchD1Player(t,n));if(i&&i.length>0)for(let o of i)yield this.selectPlayer(o);else this.error[r]="No players found"}catch(i){console.error("Error searching D1 player:",i),i.status===503?this.error[r]="Bungie API is temporarily unavailable. Please try again in a few minutes.":this.error[r]="Error searching for player"}finally{this.loading[r]=!1}})}searchD2Player(t){return ce(this,null,function*(){if(console.log("searchD2Player called",{searchTerm:t}),!t)return;let n=`d2-${t}`;this.loading[n]=!0,this.error[n]="",this.d2SearchResults=[],this.showPlatformPicker=!1,this.crossSavePlayer=null;try{let r=yield mt(this.bungieService.searchD2Player(t));if(console.log("D2 search response:",r),r?.ErrorCode===1&&r?.Response?.length>0){let i=r.Response.find(o=>o.crossSaveOverride&&o.crossSaveOverride>0);i&&(this.crossSavePlayer=ie(L({},i),{game:"D2",platform:this.getPlatformName(i.membershipType)}),console.log("[DEBUG] Found crossSavePlayer:",this.crossSavePlayer)),this.d2SearchResults=r.Response.map(o=>ie(L({},o),{game:"D2",platform:this.getPlatformName(o.membershipType)})),console.log("[DEBUG] d2SearchResults:",this.d2SearchResults),this.d2SearchResults.length>1||this.crossSavePlayer?(this.showPlatformPicker=!0,console.log("[DEBUG] showPlatformPicker set to true")):this.d2SearchResults.length===1&&(yield this.selectPlayer(this.d2SearchResults[0]))}else throw this.errorMessage="No Destiny 2 player found with that username.",new Error("No player found")}catch(r){throw console.error("Error searching D2 player:",r),r.status===503?this.errorMessage="Bungie API is temporarily unavailable. Please try again in a few minutes.":this.errorMessage="Error searching for Destiny 2 player.",r}finally{this.loading[n]=!1}})}selectPlatformPlayer(t){this.showPlatformPicker=!1,console.log("[DEBUG] selectPlatformPlayer:",t),this.selectPlayer(t)}selectPlayer(t){return ce(this,null,function*(){if(this.selectedPlayers.some(r=>r.membershipId===t.membershipId))return;let n=ie(L({},t),{game:t.game||this.selectedGame,platform:this.getPlatformName(t.membershipType)});console.log("[DEBUG] selectPlayer:",n),this.selectedPlayers.push(n),this.selectedCharacterIds[t.membershipId]=void 0;try{yield this.loadCharacterHistory(n),this.selectedDate&&(console.log("[DEBUG] Date is selected, loading activities after player selection"),yield this.loadAllFilteredActivities()),yield this.calculateAccountStats()}catch(r){throw this.selectedPlayers=this.selectedPlayers.filter(i=>i.membershipId!==t.membershipId),delete this.selectedCharacterIds[t.membershipId],r}})}loadCharacterHistory(t){return ce(this,null,function*(){console.log("loadCharacterHistory called",{player:t});let n=`characters-${t.membershipId}`;this.loading[n]=!0,this.error[n]="";try{if(this.isD1Player(t)){let i=yield mt(this.bungieService.getD1Profile(t.membershipType,t.membershipId));if(console.log("Profile fetch result:",i),!i||!i.Response)throw new Error("No profile data received");this.characters[t.membershipId]=i.Response.data?.characters||[];for(let o of this.characters[t.membershipId])yield this.loadActivityHistoryForCharacter({characterId:o.characterBase?.characterId,membershipType:t.membershipType,membershipId:t.membershipId,game:"D1"})}else{let i=yield mt(this.bungieService.getProfile(t.membershipType,t.membershipId));if(console.log("Profile fetch result:",i),!i||!i.Response)throw new Error("No profile data received");let o=Object.values(i.Response.characters?.data||{});this.characters[t.membershipId]=o;for(let s of o)yield this.loadActivityHistoryForCharacter({characterId:s.characterId,membershipType:t.membershipType,membershipId:t.membershipId,game:"D2"})}}catch(r){throw console.error("Error loading character history:",r),r.status===503?this.error[n]="Bungie API is temporarily unavailable. Please try again in a few minutes.":this.error[n]="Error loading character history",r}finally{this.loading[n]=!1}})}validatePGCRBatch(t,n,r){return ce(this,null,function*(){let i=t.slice(r,r+this.PGCR_BATCH_SIZE),o=[];console.log("[DEBUG] Looking for character in PGCRs:",{membershipId:n.membershipId,characterId:n.characterId,game:n.game,membershipType:n.membershipType,platform:this.getPlatformName(n.membershipType)});let s=i.map(u=>{let h=u.activityDetails?.instanceId;return h?{promise:mt(this.bungieService.getPGCR(h,n.game==="D1")),activity:u,instanceId:h}:(console.warn("[DEBUG] Activity missing instanceId:",u),null)}).filter(u=>u!==null);return(yield Promise.allSettled(s.map(u=>u.promise))).forEach((u,h)=>{let{activity:g,instanceId:v}=s[h];if(u.status==="fulfilled"&&u.value){let S=u.value;if(!S.entries||!Array.isArray(S.entries)||S.entries.length===0){console.warn(`[DEBUG] PGCR ${v} has no entries (undefined or empty). Marking as unavailable.`),o.push(ie(L({},g),{pgcrUnavailable:!0}));return}console.log(`[DEBUG] Processing PGCR ${v}:`,{entries:S.entries.map(N=>({membershipId:N.player?.destinyUserInfo?.membershipId,characterId:N.characterId,displayName:N.player?.destinyUserInfo?.displayName,membershipType:N.player?.destinyUserInfo?.membershipType,platform:this.getPlatformName(N.player?.destinyUserInfo?.membershipType)}))}),S.entries.some(N=>{let V=N.player?.destinyUserInfo?.membershipId===n.membershipId&&N.characterId===n.characterId,G=N.player?.destinyUserInfo?.membershipId===n.membershipId,se=N.characterId===n.characterId,Te=N.player?.destinyUserInfo?.membershipType===n.membershipType&&N.player?.destinyUserInfo?.membershipId===n.membershipId;return console.log(`[DEBUG] Match attempt for PGCR ${v}:`,{entry:{membershipId:N.player?.destinyUserInfo?.membershipId,characterId:N.characterId,membershipType:N.player?.destinyUserInfo?.membershipType,platform:this.getPlatformName(N.player?.destinyUserInfo?.membershipType)},character:{membershipId:n.membershipId,characterId:n.characterId,membershipType:n.membershipType,platform:this.getPlatformName(n.membershipType)},matchResults:{exactMatch:V,membershipMatch:G,characterMatch:se,platformMatch:Te}}),V||G||se||Te})?(console.log(`[DEBUG] Successfully validated activity ${v} for player ${n.membershipId}`),o.push(ie(L({},g),{validated:!0,validatedAt:new Date().toISOString()}))):console.warn(`[DEBUG] Player ${n.membershipId} not found in PGCR ${v} using any matching strategy`)}else{let S=u.status==="rejected"?u.reason:"Unknown error";console.warn(`[DEBUG] Failed to fetch PGCR ${v}:`,S),n.game==="D1"&&S.status===500&&console.log(`[DEBUG] Attempting to fetch D1 activity ${v} using D2 endpoint`)}}),o})}fetchActivitiesWithRetry(i,o){return ce(this,arguments,function*(t,n,r=this.MAX_RETRIES){let s=0;for(;s<r;)try{if(t.game==="D1"){let c=yield mt(this.bungieService.getD1ActivityHistory(t.membershipType,t.membershipId,t.characterId,t.mode||0,n));if(!c?.data?.activities)return console.warn("[DEBUG] Invalid D1 activity response structure:",c),[];let u=c.data.activities.filter(_=>{let N=!!(_.period&&_.activityDetails?.instanceId);return N||console.warn("[DEBUG] D1 activity missing required fields:",_),N}),h=yield this.activityDb.getAllActivitiesForCharacter(t.membershipId,t.characterId),g=new Set(h.map(_=>_.activityDetails?.instanceId)),v=u.filter(_=>!g.has(_.activityDetails?.instanceId)),S=v.filter(_=>_.activityDetails?.mode===3);return v}else{let c=yield mt(this.bungieService.getActivityHistory(t.membershipType,t.membershipId,t.characterId,n,t.mode));if(!c?.Response?.activities)return console.warn("[DEBUG] Invalid D2 activity response structure:",c),[];let u=c.Response.activities.filter(g=>!g.period||!g.activityDetails?.instanceId?(console.warn("[DEBUG] D2 activity missing required fields:",g),!1):!0),h=u.filter(g=>g.activityDetails?.mode===4);return u}}catch(c){if(console.error(`[DEBUG] Activity fetch error (attempt ${s+1}/${r}):`,c),s++,s===r)throw c;yield new Promise(u=>setTimeout(u,this.RETRY_DELAY*s))}return[]})}processActivityBatch(t,n){return ce(this,null,function*(){let r=new Set((yield this.activityDb.getAllActivitiesForCharacter(n.membershipId,n.characterId)).map(o=>o.activityDetails?.instanceId)),i=t.filter(o=>{let s=!r.has(o.activityDetails?.instanceId);return s&&console.log("[DEBUG] New activity found:",{period:o.period,mode:o.activityDetails?.mode,referenceId:o.activityDetails?.referenceId,instanceId:o.activityDetails?.instanceId,completed:o.values?.completed?.basic?.value,isRaid:o.activityDetails?.mode===(n.game==="D1"?3:4)}),s});if(i.length>0){let o=i.map(s=>ie(L({},s),{membershipId:n.membershipId,characterId:n.characterId,instanceId:s.activityDetails?.instanceId,mode:s.activityDetails?.mode}));console.log("[DEBUG] Storing activities:",{total:o.length,raids:o.filter(s=>s.activityDetails?.mode===(n.game==="D1"?3:4)).length,sample:o.slice(0,3).map(s=>({period:s.period,mode:s.activityDetails?.mode,referenceId:s.activityDetails?.referenceId,instanceId:s.activityDetails?.instanceId,completed:s.values?.completed?.basic?.value}))}),yield this.activityDb.addActivities(o),console.log(`[DEBUG] Stored ${o.length} new activities for character ${n.characterId} (${n.game})`),this.cdr.detectChanges()}})}validateDateRanges(t,n){if(t.length===0){console.log(`[DEBUG] No activities to validate for character ${n.characterId}`);return}let r=[...t].sort((h,g)=>new Date(h.period).getTime()-new Date(g.period).getTime()),i=new Date(r[0].period),o=new Date(r[r.length-1].period);console.log(`[DEBUG] Activity date range for character ${n.characterId}:`,{firstDate:i.toISOString(),lastDate:o.toISOString(),totalActivities:t.length});let s=30*24*60*60*1e3,c=[];for(let h=0;h<r.length-1;h++){let g=new Date(r[h].period),v=new Date(r[h+1].period),S=v.getTime()-g.getTime();S>s&&c.push({start:g,end:v,duration:S})}c.length>0?(console.log(`[DEBUG] Found ${c.length} gaps in activity history for character ${n.characterId}:`),c.forEach(h=>{console.log(`[DEBUG] Gap from ${h.start.toISOString()} to ${h.end.toISOString()} (${Math.round(h.duration/(24*60*60*1e3))} days)`)})):console.log(`[DEBUG] No significant gaps found in activity history for character ${n.characterId}`);let u=n.game==="D1"?new Date("2014-09-09T00:00:00Z"):new Date("2017-09-06T00:00:00Z");i.getTime()>u.getTime()&&console.log(`[DEBUG] WARNING: First activity (${i.toISOString()}) is after game release date (${u.toISOString()})`)}loadActivityHistoryForCharacter(t){return ce(this,null,function*(){let n=`${t.membershipId}-${t.characterId}`;this.loadingActivities[n]=!0;try{let r=yield this.activityDb.getAllActivitiesForCharacter(t.membershipId,t.characterId),i=[],o=[0,1,2,3,4,5,6,7,8,9,10,12,15,16,17,18,19,22,24,25,31,32,37,38,39,40,41,42,43,44,45,46,48,49,50,51,52,53];for(let s of o){let c=0,u=!0;for(;u;){let h=yield this.fetchActivitiesWithRetry(ie(L({},t),{mode:s}),c);if(!h||h.length===0){u=!1;continue}let v=h.map(S=>ie(L({},S),{membershipId:t.membershipId,characterId:t.characterId,instanceId:S.activityDetails?.instanceId,mode:S.activityDetails?.mode})).filter(S=>!r.some(_=>this.isDuplicateActivity(_,S)));v.length>0&&(i=i.concat(v),yield this.processActivityBatch(v,t)),this.updateLoadingProgress(t.characterId,(c+1)/(c+2)*100,c+1,i.length),c++}}this.processActivities([...r,...i],t)}catch(r){throw console.error("Error loading activity history:",r),r}finally{this.loadingActivities[n]=!1,this.loadingProgress=null,this.cdr.detectChanges()}})}updateLoadingProgress(t,n,r,i){this.loadingProgress={characterId:t,progress:n,message:`Loading activities: ${n.toFixed(0)}% (${i} activities found)`},this.cdr.detectChanges()}processAndGroupActivities(){if(!this.filteredActivitiesForDate.length){this.groupedActivitiesByAccount=[],console.log("[DEBUG] [Group] No activities to group.");return}let t=new Map;for(let n of this.filteredActivitiesForDate){let r=n.membershipId;t.has(r)||t.set(r,{displayName:n.displayName,platform:n.platform,yearGroups:new Map});let i=t.get(r),o=new Date(n.period).getFullYear().toString();i.yearGroups.has(o)||i.yearGroups.set(o,{year:o,typeGroups:new Map});let s=i.yearGroups.get(o),c=this.getActivityType(n.activityDetails?.mode||0);s.typeGroups.has(c)||s.typeGroups.set(c,{type:c,icon:this.getActivityTypeIcon(c,n.game==="D1"),activities:[]}),s.typeGroups.get(c).activities.push(n)}this.groupedActivitiesByAccount=Array.from(t.values()).map(n=>ie(L({},n),{yearGroups:Array.from(n.yearGroups.values()).map(r=>({year:r.year,typeGroups:Array.from(r.typeGroups.values())}))})),console.log("[DEBUG] [Group] Grouped activities by account:",this.groupedActivitiesByAccount),this.cdr.detectChanges()}getActivityDurationSeconds(t){let n=t.values,r=n&&n.timePlayedSeconds?.basic?.value;return typeof r!="number"||isNaN(r)||r<0?0:r>86400?(console.warn("[DEBUG] Suspiciously long activity duration:",r,t),86400):r}loadAllFilteredActivities(){return ce(this,null,function*(){let t=++this.currentLoadToken;this.loadingActivities[this.selectedDate]=!0,this.cdr.detectChanges();try{let n=yield this.getAllFilteredActivitiesForDate();if(t!==this.currentLoadToken)return;this.processAndGroupActivities(),yield this.calculateAccountStats()}catch{}finally{t===this.currentLoadToken&&(this.loadingActivities[this.selectedDate]=!1,this.cdr.detectChanges())}})}updateActivityDisplay(){this.cdr.detectChanges()}getPlatformName(t){if(t===void 0)return"Unknown";switch(t){case 1:return"Xbox";case 2:return"PlayStation";case 3:return"Steam";case 4:return"Battle.net";case 5:return"Stadia";case 6:return"Epic";default:return"Unknown"}}isD1Player(t){return t.game==="D1"}getClassName(t){switch(t){case 0:return"Titan";case 1:return"Hunter";case 2:return"Warlock";default:return"Unknown"}}formatDate(t){return this.timezoneService.formatDate(t)}logActivitySummary(t,n){if(n.length===0){console.log(`No activities found for ${t.displayName}`);return}let r=new Set(n.map(o=>new Date(o.period).toISOString().split("T")[0]));console.log(`Activity Summary for ${t.displayName}:`),console.log(`Total activities: ${n.length}`),console.log(`Date range: ${Array.from(r).sort().join(", ")}`);let i=Math.min(3,n.length);console.log("Sample activities:"),n.slice(0,i).forEach(o=>{console.log({date:new Date(o.period).toISOString(),type:o.activityDetails?.mode||"Unknown",referenceId:o.activityDetails?.referenceId})})}getFilteredActivities(t,n){if(!this.selectedActivityType||this.selectedActivityType.label==="All")return te(t);let r=`${n}-${this.selectedActivityType.label}-${this.selectedDate}`,i=this.activityCache.get(r);if(i&&Date.now()-i.timestamp<this.CACHE_DURATION)return te(i.activities);let o=t.filter(s=>{let c=s.activityDetails?.mode;return c?this.selectedActivityType.label==="Dungeon"?n==="D2"&&c===this.selectedActivityType.d2Mode:n==="D1"&&c===this.selectedActivityType.d1Mode||n==="D2"&&c===this.selectedActivityType.d2Mode:!1});return this.activityCache.set(r,{activities:o,timestamp:Date.now(),type:this.selectedActivityType.label,game:n}),te(o)}getObjectKeys(t){return Object.keys(t)}clearCache(){this.activityCache.clear()}getKills(t){return t.values?.kills?.basic?.value}getDeaths(t){return t.values?.deaths?.basic?.value}getKDRatio(t){let n=this.getKills(t),r=this.getDeaths(t);if(n!==void 0&&r!==void 0&&r!==0)return(n/r).toFixed(2)}getActivityName(t,n){let r=t.activityDetails?.referenceId;return r&&this.manifest.getActivityName(r,n)||"Unknown Activity"}calculateAccountStats(){return ce(this,null,function*(){this.loadingAccountStats=!0,this.loadingGuardianFirsts=!0;let t=0,n=0,r=0,i={},o={},s={"3801607287":"Vault of Glass",708693006:"Vault of Glass","3879860661":"Crota's End",898834093:"Crota's End",1733556769:"King's Fall",421023204:"King's Fall","2578867903":"Wrath of the Machine","4007500989":"Wrath of the Machine"};try{for(let u of this.selectedPlayers){let g=(this.characters[u.membershipId]||[]).filter(v=>this.isD1Player(u)===(u.game==="D1"));for(let v of g){let S=this.isD1Player(u)?v.characterBase?.characterId:v.characterId;if(!S)continue;let _=Object.keys(this.activities).filter(V=>V.startsWith(`activities-${u.membershipId}-${S}`)).reduce((V,G)=>V.concat(this.activities[G]||[]),[]);r+=_.length;for(let V of _){let G=this.getActivityDurationSeconds(V);n+=G/60;let se=V.activityDetails?.mode,Te=this.getActivityType(se);(u.game==="D1"&&["Raid","Strike","Nightfall","Crucible","Other"].includes(Te)||u.game==="D2"&&["Raid","Dungeon","Strike","Nightfall","Crucible","Gambit","Other"].includes(Te))&&(i[Te]||(i[Te]={count:0,time:0}),i[Te].count++,i[Te].time+=G/60)}t+=Number(v.minutesPlayedTotal||0);let N=yield this.activityDb.getFirstCompletions(u.membershipId,S,u.game);if(N&&N.firstCompletions)for(let V of N.firstCompletions){let G="";if(V.game==="D2"){let Te=this.activityDb.constructor.ACTIVITY_FAMILY_MAP;G=Te&&Te[V.referenceId]?Te[V.referenceId]:V.name}else G=s[V.referenceId]||V.name;let se=`${V.type}-${V.game}-${G}`;(!o[se]||new Date(V.completionDate)<new Date(o[se].completionDate))&&(o[se]=ie(L({},V),{name:G,completionDate:V.completionDate,referenceId:V.referenceId}))}}}let c=Object.values(o).sort((u,h)=>u.game!==h.game?u.game==="D1"?-1:1:new Date(u.completionDate).getTime()-new Date(h.completionDate).getTime());this.guardianFirsts=c,this.accountStats={totalTime:t,totalActivityTime:Math.round(n),totalActivityCount:r,perType:L({},i)}}catch(c){console.error("[DEBUG] Error in calculateAccountStats:",c)}finally{this.loadingAccountStats=!1,this.loadingGuardianFirsts=!1,this.cdr.detectChanges()}})}formatDuration(t){let n=Math.floor(t/3600),r=Math.floor(t%3600/60);return n>0?`${n}h ${r}m`:`${r}m`}getPerTypeStats(t){return this.accountStats.perType[t]||{count:0,time:0}}getActivityCount(t){return this.getPerTypeStats(t).count}getActivityTime(t){return this.getPerTypeStats(t).time}createActivityEntry(t){console.log("[DEBUG] Creating activity entry for:",{activityId:t.activityDetails?.instanceId,period:t.period,mode:t.activityDetails?.mode,referenceId:t.activityDetails?.referenceId});let n=this.selectedPlayers.find(r=>Object.keys(this.activities).filter(o=>o.startsWith(`activities-${r.membershipId}-`)).some(o=>(this.activities[o]||[]).some(c=>c.activityDetails?.instanceId===t.activityDetails?.instanceId)));if(!n)throw console.error("[DEBUG] Could not find player for activity:",{activityId:t.activityDetails?.instanceId,period:t.period,mode:t.activityDetails?.mode,referenceId:t.activityDetails?.referenceId,availablePlayers:this.selectedPlayers.map(r=>({membershipId:r.membershipId,displayName:r.displayName}))}),new Error("Activity has no associated player");return console.log("[DEBUG] Found player for activity:",{playerName:n.displayName,membershipId:n.membershipId,activityId:t.activityDetails?.instanceId}),{game:this.isD1Player(n)?"D1":"D2",platform:this.getPlatformName(n.membershipType),player:n,activities:[t]}}getDaysForMonth(t){let n=new Date(2024,parseInt(t),0).getDate();return Array.from({length:n},(r,i)=>i+1)}onDateSelect(t,n){return ce(this,null,function*(){this.selectedMonth=parseInt(t),this.selectedDay=parseInt(n),this.selectedDate=`${t}-${n}`,this.loadingActivities[this.selectedDate]=!0,this.cdr.detectChanges();try{yield this.loadAllFilteredActivities()}catch(r){console.error("Error loading activities for date:",r)}finally{this.loadingActivities[this.selectedDate]=!1,this.cdr.detectChanges()}})}isActivityOnSelectedDate(t){if(!t.period)return!1;let n=new Date(t.period),r=n.getUTCMonth()+1,i=n.getUTCDate(),o=n.getUTCFullYear();return t.activityDetails.instanceId==="1859166440"&&console.log("[Date Check] Activity 1859166440:",{period:t.period,utc:n.toISOString(),month:r,day:i,year:o,selectedMonth:this.selectedMonth,selectedDay:this.selectedDay,selectedYear:this.selectedYear}),r===this.selectedMonth&&i===this.selectedDay&&(!this.selectedYear||o===this.selectedYear)}onDateOrTypeChange(){this.clearFilteredActivitiesCache(),this.loadAllFilteredActivities()}validateAndSetDate(t){let[n,r]=t.split("-").map(Number),i=new Date(Date.UTC(2024,n-1,r)),o=new Date;o.setUTCHours(0,0,0,0);let s=i.getUTCMonth()>o.getUTCMonth()||i.getUTCMonth()===o.getUTCMonth()&&i.getUTCDate()>o.getUTCDate();s?(console.log("[DEBUG] Future date detected, using today instead"),this.selectedDate=`${o.getUTCMonth()+1}-${o.getUTCDate()}`):this.selectedDate=`${n}-${r}`,console.log("[DEBUG] Date validated and set to:",{selectedDate:this.selectedDate,month:i.getUTCMonth()+1,day:i.getUTCDate(),isFutureDate:s})}onDateInput(t){let n=t.target.value;if(console.log("[DEBUG] Date input value:",n),/^\d{4}-\d{2}-\d{2}$/.test(n)){let r=new Date(n);r.setHours(0,0,0,0),console.log(`[DEBUG] Input date converted to local: ${r.toLocaleString()}, UTC: ${r.toISOString()}`),this.validateAndSetDate(r.toISOString().split("T")[0]),this.cdr.detectChanges()}}getSortedYears(t){return Object.keys(t).sort((n,r)=>parseInt(r)-parseInt(n))}getSortedTypes(t){let n=["Raid","Dungeon","Nightfall","Strike","Crucible","Other"];return Object.keys(t).filter(i=>t[i]&&t[i].length>0).sort((i,o)=>{let s=n.indexOf(i),c=n.indexOf(o);return s===-1&&c===-1?i.localeCompare(o):s===-1?1:c===-1?-1:s-c})}getActivityType(t){return IC[t]||"Other"}onDateChange(t){let n=t.target?.value;n&&(this.validateAndSetDate(n),this.cdr.detectChanges())}getActivityTypeIcon(t,n=!1){if(!t)return this.activityIconService.getIconPath("other");let i={raid:n?"raid-d1":"raid-d2",dungeon:"dungeon",strike:"strike",nightfall:"nightfall",crucible:"crucible",gambit:"gambit",story:"story",patrol:"patrol","public-event":"public-event","lost-sector":"lost-sector",seasonal:"seasonal","exotic-mission":"exotic-mission"}[t.toLowerCase()]||"other";return this.activityIconService.getIconPath(i)}formatTime(t){return this.timezoneService.formatTime(t)}formatDateTime(t){return this.timezoneService.formatDateTime(t)}onActivityTypeChange(t){this.cdr.detectChanges()}searchPlayer(){if(!this.searchUsername){this.errorMessage="Please enter a username";return}console.log("Searching for player:",this.searchUsername,"on platform:",this.selectedPlatform)}addPlayer(){return ce(this,null,function*(){if(!this.searchUsername||!this.selectedPlatform||!this.selectedGame){this.errorMessage="Please enter all fields.";return}if(this.selectedPlatform==="Cross Save"&&this.selectedGame!=="D2"){this.errorMessage="Cross Save is only available for Destiny 2.";return}this.errorMessage="",this.loading.search=!0;try{if(this.selectedGame==="D2")yield this.searchD2Player(this.searchUsername);else{let t=0;switch(this.selectedPlatform){case"Xbox":t=1;break;case"PlayStation":t=2;break;default:t=0}yield this.searchD1Player(this.searchUsername,t)}}catch(t){this.errorMessage="Error searching for player.",console.error(t)}finally{this.loading.search=!1,this.cdr.detectChanges()}})}removePlayer(t){this.selectedPlayers.splice(t,1),this.calculateAccountStats(),this.cdr.detectChanges()}getFilteredActivitiesFromDb(t,n,r,i,o){return ce(this,null,function*(){try{let s=yield this.activityDb.getActivitiesByDate(t,n,r,i);return o!==void 0?s.filter(c=>c.activityDetails?.mode===o):s}catch(s){return console.error("[DEBUG] Error getting filtered activities:",s),[]}})}getPlayerActivities(t){let n=`player-${t}`,r=this.activityCache.get(n);if(r&&Date.now()-r.timestamp<this.CACHE_DURATION)return r.activities;console.log("[DEBUG] Getting activities from database for player:",t);let i=Object.keys(this.activities).filter(o=>o.startsWith(`activities-${t}-`)).reduce((o,s)=>{let c=this.activities[s]||[];return o.concat(c)},[]);return console.log(`[DEBUG] Loaded ${i.length} activities for player ${t}`),i.slice(0,10).forEach(o=>{let s=new Date(o.period);console.log(`[DEBUG] Activity: UTC=${s.toISOString()}, Local=${s.toLocaleString()}, Month=${s.getMonth()+1}, Day=${s.getDate()}, Year=${s.getFullYear()}, InstanceId=${o.activityDetails?.instanceId}`)}),this.activityCache.set(n,{activities:i,timestamp:Date.now(),type:"all",game:this.isD1Player({membershipId:t})?"D1":"D2"}),i}processActivities(t,n){let r=`activities-${n.membershipId}-${n.characterId}`;this.activities[r]=t,this.processAndGroupActivities(),this.cdr.detectChanges()}clearAllActivitiesFromDb(){return ce(this,null,function*(){confirm("Are you sure you want to clear all activities from the database? This cannot be undone.")&&(yield this.activityDb.clearAllActivities(),this.activities={},this.clearCache(),this.accountStats={totalTime:0,totalActivityTime:0,totalActivityCount:0,perType:{}},this.cdr.detectChanges(),alert("All activities have been cleared from the database."))})}getAllFilteredActivitiesForDate(){return ce(this,null,function*(){if(!this.selectedDate)return[];let t=`filtered-${this.selectedDate}-${this.selectedActivityType.label}`,n=this.filteredActivitiesCache.get(t);if(n)return console.log("[DEBUG] Using cached filtered activities for date:",this.selectedDate),n;let[r,i]=this.selectedDate.split("-").map(Number),o=[],s=this.selectedPlayers.map(g=>ce(this,null,function*(){let v=this.getPlayerActivities(g.membershipId);return console.log(`[DEBUG] [Filter] Player ${g.displayName} (${g.membershipId}) has ${v.length} activities in DB`),v.filter(S=>this.isActivityOnSelectedDate(S)).map(S=>ie(L({},S),{membershipId:g.membershipId,displayName:g.displayName,platform:g.platform,game:g.game,iconPath:this.manifest.getActivityIcon(S.activityDetails?.referenceId,g.game==="D1")}))})),c=yield Promise.all(s);o.push(...c.flat());let u=new Map;for(let g of o){let v=g.activityDetails?.instanceId;v&&!u.has(v)&&u.set(v,g)}let h=Array.from(u.values());return h.sort((g,v)=>new Date(v.period).getTime()-new Date(g.period).getTime()),this.filteredActivitiesCache.set(t,h),this.filteredActivitiesForDate=h,h})}clearFilteredActivitiesCache(){this.filteredActivitiesCache.clear()}openExternalPGCR(t,n){let r=t.activityDetails?.instanceId;if(!r)return;let i=n?"destiny1":"destiny2";window.open(`https://pgcr.eververse.trade/${i}/${r}`,"_blank","noopener")}handleImageError(t,n){let r=t.target;r.src="/assets/icons/activities/tricorn.png"}getGuardianFirstsForGame(t){return this.guardianFirsts.filter(n=>n.game===t&&(n.type==="raid"||n.type==="dungeon"))}hasGuardianFirstsForGame(t){return this.guardianFirsts.some(n=>n.game===t)}getFirstCompletionImage(t){if(!t)return"/assets/icons/activities/tricorn.png";if(t.referenceId){let r=this.manifest.getActivityPgcrImage(t.referenceId,t.game==="D1");if(r)return r.startsWith("/img/")||r.startsWith("/common/")?"https://www.bungie.net"+r:r}let n=this.getActivityTypeIcon(t.type,t.game==="D1");return n||"/assets/icons/activities/tricorn.png"}groupActivitiesByType(t){let n=new Map;return t.forEach(r=>{let i=`${r.activityDetails?.referenceId}-${r.game}`;n.has(i)||n.set(i,{type:r.activityDetails?.mode||0,game:r.game,activities:[]}),n.get(i)?.activities.push(r)}),n.forEach(r=>{r.activities.sort((i,o)=>new Date(o.period).getTime()-new Date(i.period).getTime())}),Array.from(n.values())}getAverageDuration(t){return t.length?t.reduce((r,i)=>r+this.getActivityDurationSeconds(i),0)/t.length/60:0}getActivityImage(t,n){if(!t)return"/assets/icons/activities/tricorn.png";let r=t.activityDetails?.referenceId;if(r){let o=this.manifest.getActivityPgcrImage(r,n);if(o)return o.startsWith("/img/")||o.startsWith("/common/")?"https://www.bungie.net"+o:o}let i=t.activityDetails?.mode;if(i!==void 0){let o=this.getActivityType(i),s=this.getActivityTypeIcon(o,n);if(s)return s}return"/assets/icons/activities/tricorn.png"}openExternalPGCRForFirst(t){if(!t.instanceId)return;let n=t.game==="D1"?"destiny1":"destiny2";window.open(`https://pgcr.eververse.trade/${n}/${t.instanceId}`,"_blank","noopener")}isDuplicateActivity(t,n){return t.activityDetails?.instanceId===n.activityDetails?.instanceId}static \u0275fac=function(n){return new(n||e)(fe(Xo),fe(Qo),fe(Bn),fe(cd),fe(ld),fe(fd),fe(hd),fe(pd))};static \u0275cmp=Dt({type:e,selectors:[["app-player-search"]],decls:38,vars:20,consts:[["monthSelect",""],["daySelect",""],[1,"min-h-screen","bg-slate-900"],[1,"container","mx-auto","px-4","py-6"],[1,"grid","grid-cols-12","gap-6"],[1,"col-span-12","flex","flex-col","xl:flex-row","gap-4","mb-6"],[1,"flex-1","xl:basis-1/3","flex","flex-row","gap-4","items-end","min-w-0"],[1,"bg-slate-800/95","rounded-lg","shadow-lg","p-4","flex-1","min-w-0"],[1,"text-xl","font-bold","text-white","mb-4"],["class","mb-4",4,"ngIf"],["class","bg-red-900 text-red-200 p-2 rounded mb-4",4,"ngIf"],[1,"mb-4","flex","flex-row","flex-wrap","gap-2"],["class","flex items-center gap-2 mb-2",4,"ngFor","ngForOf"],[1,"flex","flex-row","gap-2","items-end"],["type","text","placeholder","Username",1,"w-40","px-3","py-1.5","text-sm","bg-slate-700/95","text-white","rounded","border","border-slate-600",3,"ngModelChange","ngModel"],[1,"w-32","px-2","py-1.5","text-sm","bg-slate-700/95","text-white","rounded","border","border-slate-600",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"w-20","px-2","py-1.5","text-sm","bg-slate-700/95","text-white","rounded","border","border-slate-600",3,"ngModelChange","ngModel"],["value","D1"],["value","D2"],[1,"bg-blue-600","text-white","py-1.5","px-3","text-sm","rounded",3,"click","disabled"],["class","mt-2 text-sm text-red-400",4,"ngIf"],["class","bg-slate-800/95 rounded-lg shadow-lg p-4 flex flex-col items-start xl:basis-1/3 min-w-0",4,"ngIf"],[1,"col-span-12","xl:col-span-8","2xl:col-span-9","xl:basis-2/3"],["class","mb-6",4,"ngIf"],[3,"progress"],["class","space-y-6",4,"ngIf"],["class","bg-slate-800/95 rounded-lg shadow-lg p-6 text-center",4,"ngIf"],["class","bg-slate-800/95 rounded-lg shadow-lg p-6 text-center text-slate-300",4,"ngIf"],[1,"col-span-12","xl:col-span-4","2xl:col-span-3","xl:sticky","xl:top-4"],[1,"w-full","xl:w-auto","xl:max-w-5xl","mx-auto"],["class","bg-slate-800/95 rounded-lg shadow-lg p-4",4,"ngIf"],["class","fixed inset-0 bg-black/70 flex items-center justify-center z-50",4,"ngIf"],[1,"w-full","flex","justify-center","mt-8"],["title","This will remove all stored activity data from your browser.",1,"px-4","py-2","bg-red-700","text-white","rounded","shadow","hover:bg-red-800","transition","text-xs",3,"click"],[1,"mb-4"],[1,"text-lg","font-semibold","text-yellow-400","mb-2"],[1,"flex","flex-wrap","gap-2"],["class","bg-slate-700 rounded px-3 py-2 flex items-center gap-2 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"bg-slate-700","rounded","px-3","py-2","flex","items-center","gap-2","cursor-pointer",3,"click"],[1,"font-bold"],[1,"text-xs","text-slate-400"],[3,"click"],[3,"ngClass"],[1,"bg-red-900","text-red-200","p-2","rounded","mb-4"],[1,"flex","items-center","gap-2","mb-2"],[3,"value"],[1,"mt-2","text-sm","text-red-400"],[1,"bg-slate-800/95","rounded-lg","shadow-lg","p-4","flex","flex-col","items-start","xl:basis-1/3","min-w-0"],[1,"flex","flex-row","gap-2"],[1,"w-32","px-2","py-1.5","text-sm","bg-slate-700/95","text-white","rounded","border","border-slate-600",3,"change","value"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","11"],["value","12"],[1,"w-24","px-2","py-1.5","text-sm","bg-slate-700/95","text-white","rounded","border","border-slate-600",3,"change","value"],[1,"w-full","mt-2","bg-green-600","text-white","py-1.5","px-3","text-sm","rounded",3,"click"],[1,"mb-6"],[1,"bg-slate-800/95","rounded-lg","shadow-lg","p-4","flex","flex-col","gap-4"],[1,"text-lg","font-semibold","text-white","mb-2"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"stat-item"],[1,"activity-type-stats","mt-4"],["class","type-stat",4,"ngFor","ngForOf"],[1,"type-stat"],[4,"ngIf"],[1,"space-y-6"],["class","bg-slate-800/95 rounded-lg shadow-lg overflow-hidden",4,"ngFor","ngForOf"],[1,"bg-slate-800/95","rounded-lg","shadow-lg","overflow-hidden"],[1,"bg-slate-700/50","px-4","py-2","flex","items-center"],[1,"text-lg","font-bold","text-white"],[1,"ml-2","px-2","py-0.5","text-sm","rounded","bg-slate-600","text-white"],[1,"p-4"],["class","mb-6 last:mb-0",4,"ngFor","ngForOf"],[1,"mb-6","last:mb-0"],[1,"text-lg","font-semibold","text-white","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],["class","activity-card bg-slate-700/50 rounded-lg overflow-hidden hover:bg-slate-700/70 transition-colors",4,"ngFor","ngForOf"],[1,"activity-card","bg-slate-700/50","rounded-lg","overflow-hidden","hover:bg-slate-700/70","transition-colors"],[1,"relative"],[1,"absolute","inset-0","bg-gradient-to-t","from-black/80","to-transparent"],[1,"absolute","bottom-0","left-0","right-0","p-3"],[1,"text-white","font-medium","truncate"],[1,"flex","items-center","justify-between","text-sm","text-slate-300"],[1,"p-3","border-t","border-slate-600/50"],[1,"space-y-2"],["class","flex items-center justify-between text-sm",4,"ngFor","ngForOf"],[1,"w-full","h-24","flex","items-center","justify-center","bg-slate-900"],[1,"h-12","w-12","object-contain",3,"error","src","alt"],[1,"w-full","h-24","object-cover",3,"error","src","alt"],[1,"flex","items-center","justify-between","text-sm"],[1,"text-slate-300"],[1,"text-blue-400","hover:text-blue-300",3,"click"],[1,"bg-slate-800/95","rounded-lg","shadow-lg","p-6","text-center"],[1,"animate-spin","w-8","h-8","border-4","border-blue-500","border-t-transparent","rounded-full","mx-auto","mb-4"],[1,"bg-slate-800/95","rounded-lg","shadow-lg","p-6","text-center","text-slate-300"],[1,"bg-slate-800/95","rounded-lg","shadow-lg","p-4"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-2","2xl:grid-cols-2","gap-6"],[4,"ngFor","ngForOf"],[1,"bg-slate-900","rounded-lg","p-4","flex","flex-col","items-center","shadow-md"],[1,"w-12","h-12","mb-2","object-cover",3,"error","src","alt"],[1,"text-white","text-center","font-semibold"],[1,"text-xs","text-slate-400","mb-1"],[1,"mt-2","bg-yellow-400","hover:bg-yellow-500","text-slate-900","font-bold","py-1","px-3","rounded","shadow",3,"click"],[1,"fixed","inset-0","bg-black/70","flex","items-center","justify-center","z-50"],[1,"bg-slate-800","rounded-lg","p-6","max-w-md","w-full","mx-4"],["class","w-full bg-blue-600 text-white py-2 px-4 rounded text-sm",3,"click",4,"ngIf"],["class","w-full bg-slate-700 text-white py-2 px-4 rounded text-sm",3,"click",4,"ngFor","ngForOf"],[1,"w-full","mt-4","text-slate-400","hover:text-white","text-sm",3,"click"],[1,"w-full","bg-blue-600","text-white","py-2","px-4","rounded","text-sm",3,"click"],[1,"w-full","bg-slate-700","text-white","py-2","px-4","rounded","text-sm",3,"click"]],template:function(n,r){n&1&&(B(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"h2",8),J(7,"Accounts"),U(),ke(8,hP,5,1,"div",9)(9,pP,2,0,"div",10),B(10,"div",11),ke(11,gP,8,5,"div",12),U(),B(12,"div",13)(13,"input",14),Ks("ngModelChange",function(o){return ru(r.searchUsername,o)||(r.searchUsername=o),o}),U(),B(14,"select",15),Ks("ngModelChange",function(o){return ru(r.selectedPlatform,o)||(r.selectedPlatform=o),o}),ke(15,mP,2,2,"option",16),U(),B(16,"select",17),Ks("ngModelChange",function(o){return ru(r.selectedGame,o)||(r.selectedGame=o),o}),B(17,"option",18),J(18,"D1"),U(),B(19,"option",19),J(20,"D2"),U()(),B(21,"button",20),tt("click",function(){return r.addPlayer()}),J(22),U()(),ke(23,yP,2,1,"div",21),U()(),ke(24,_P,35,3,"div",22),U(),B(25,"div",23),ke(26,wP,24,11,"div",24),dn(27,"app-loading-progress",25),ke(28,xP,2,1,"div",26)(29,OP,4,0,"div",27)(30,RP,2,0,"div",28),U(),B(31,"div",29)(32,"div",30),ke(33,kP,5,1,"div",31),U()()()()(),ke(34,VP,9,2,"div",32),B(35,"div",33)(36,"button",34),tt("click",function(){return r.clearAllActivitiesFromDb()}),J(37," Clear Activity Database "),U()()),n&2&&(X(8),ve("ngIf",r.favoriteAccounts.length>0),X(),ve("ngIf",!r.apiAvailable),X(2),ve("ngForOf",r.selectedPlayers),X(2),Rr("border-red-500",r.errorMessage),qs("ngModel",r.searchUsername),X(),qs("ngModel",r.selectedPlatform),X(),ve("ngForOf",r.platforms),X(),qs("ngModel",r.selectedGame),X(5),ve("disabled",!r.searchUsername),X(),en(" ",r.loading.search?"Adding...":"Add Account"," "),X(),ve("ngIf",r.errorMessage),X(),ve("ngIf",r.dbReady),X(2),ve("ngIf",!r.loadingAccountStats&&(r.accountStats.totalActivityCount>0||r.selectedPlayers.length>0)),X(),ve("progress",r.loadingProgress),X(),ve("ngIf",!r.loadingActivities[r.selectedDate]&&r.groupedActivitiesByAccount&&r.groupedActivitiesByAccount.length>0),X(),ve("ngIf",r.loadingActivities[r.selectedDate]),X(),ve("ngIf",!r.loadingActivities[r.selectedDate]&&(!r.groupedActivitiesByAccount||r.groupedActivitiesByAccount.length===0)),X(3),ve("ngIf",!r.loadingGuardianFirsts&&r.guardianFirsts.length>0),X(),ve("ngIf",r.showPlatformPicker))},dependencies:[Vr,hg,vu,na,yg,gg,mg,CC,bC,wC,rd,od,mC,Cm,sd],styles:[".player-search-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem;color:#fff}.search-section[_ngcontent-%COMP%]{background-color:#00000080;border-radius:8px;padding:1.5rem;margin-bottom:2rem;border:1px solid var(--destiny-gold)}.search-form[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap;align-items:flex-end}.form-group[_ngcontent-%COMP%]{flex:1;min-width:200px}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:var(--destiny-gold);font-weight:500}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid rgba(255,255,255,.2);border-radius:4px;background-color:#0000004d;color:#fff;font-size:1rem}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--destiny-gold);box-shadow:0 0 0 2px #f5c54233}button[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background-color:var(--destiny-gold);color:#000;border:none;border-radius:4px;font-weight:600;cursor:pointer;transition:background-color .2s}button[_ngcontent-%COMP%]:hover{background-color:#f2b612}button[_ngcontent-%COMP%]:disabled{background-color:#666;cursor:not-allowed}.error-message[_ngcontent-%COMP%]{color:var(--destiny-red);margin-top:.5rem;font-size:.875rem}.selected-players[_ngcontent-%COMP%]{margin-top:2rem}.player-card[_ngcontent-%COMP%]{background-color:#00000080;border:1px solid var(--destiny-gold);border-radius:8px;padding:1rem;margin-bottom:1rem;display:flex;justify-content:space-between;align-items:center}.player-card[_ngcontent-%COMP%]   .player-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.player-card[_ngcontent-%COMP%]   .player-info[_ngcontent-%COMP%]   .platform-icon[_ngcontent-%COMP%]{width:24px;height:24px}.player-card[_ngcontent-%COMP%]   .player-info[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%]{font-weight:600;color:var(--destiny-gold)}.player-card[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{background-color:transparent;color:var(--destiny-red);border:1px solid var(--destiny-red);padding:.5rem 1rem}.player-card[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]:hover{background-color:var(--destiny-red);color:#fff}.activity-section[_ngcontent-%COMP%]{margin-top:2rem}.activity-filters[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem;flex-wrap:wrap}.activity-card[_ngcontent-%COMP%]{position:relative;overflow:hidden}.activity-card[_ngcontent-%COMP%]:hover   .activity-details[_ngcontent-%COMP%]{opacity:1}.activity-card[_ngcontent-%COMP%]   .activity-image[_ngcontent-%COMP%]{height:6rem;width:100%;object-fit:cover;background-size:cover;background-position:center}.activity-card[_ngcontent-%COMP%]   .activity-fallback-icon[_ngcontent-%COMP%]{height:3rem;width:3rem;object-fit:contain;display:block;margin:0 auto;background:none}.activity-card[_ngcontent-%COMP%]   .activity-fallback-container[_ngcontent-%COMP%]{display:flex;height:6rem;width:100%;align-items:center;justify-content:center;--tw-bg-opacity: 1;background-color:rgb(15 23 42 / var(--tw-bg-opacity, 1))}.activity-card[_ngcontent-%COMP%]   .activity-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(to top,#000c,#0000)}.activity-card[_ngcontent-%COMP%]   .activity-content[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;padding:.75rem}.activity-card[_ngcontent-%COMP%]   .activity-details[_ngcontent-%COMP%]{opacity:0;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s;position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#000c;padding:1rem}.loading-spinner[_ngcontent-%COMP%]{height:2rem;width:2rem}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite;border-radius:9999px;border-width:4px;--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1));border-top-color:transparent}.loading-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin:1rem 0;padding:1rem;background:#0000001a;border-radius:.5rem;color:#fff}.loading-indicator[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:24px;height:24px;border:3px solid #cbd5e1;border-top:3px solid #2563eb;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.account-stats[_ngcontent-%COMP%]{background:#0000001a;border-radius:.5rem;padding:1.5rem;margin:1rem 0}.account-stats[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem;margin-bottom:1.5rem}.account-stats[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.account-stats[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#94a3b8;font-size:.875rem}.account-stats[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.125rem;color:#fff}.account-stats[_ngcontent-%COMP%]   .activity-type-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.account-stats[_ngcontent-%COMP%]   .activity-type-stats[_ngcontent-%COMP%]   .type-stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.account-stats[_ngcontent-%COMP%]   .activity-type-stats[_ngcontent-%COMP%]   .type-stat[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#94a3b8;font-size:.875rem}.account-stats[_ngcontent-%COMP%]   .activity-type-stats[_ngcontent-%COMP%]   .type-stat[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.activity-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.activity-list[_ngcontent-%COMP%]   .account-group[_ngcontent-%COMP%]{background:#0000001a;border-radius:.5rem;padding:1.5rem}.activity-list[_ngcontent-%COMP%]   .account-group[_ngcontent-%COMP%]   .account-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1.5rem}.activity-list[_ngcontent-%COMP%]   .account-group[_ngcontent-%COMP%]   .account-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;color:#fff;margin:0}.activity-list[_ngcontent-%COMP%]   .account-group[_ngcontent-%COMP%]   .account-header[_ngcontent-%COMP%]   .platform-badge[_ngcontent-%COMP%]{background:#2563eb;color:#fff;padding:.25rem .75rem;border-radius:1rem;font-size:.875rem}.activity-list[_ngcontent-%COMP%]   .year-group[_ngcontent-%COMP%]{margin-bottom:2rem}.activity-list[_ngcontent-%COMP%]   .year-group[_ngcontent-%COMP%]   .year-header[_ngcontent-%COMP%]{color:#94a3b8;font-size:1rem;margin-bottom:1rem}.activity-list[_ngcontent-%COMP%]   .type-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.activity-list[_ngcontent-%COMP%]   .type-group[_ngcontent-%COMP%]   .type-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem}.activity-list[_ngcontent-%COMP%]   .type-group[_ngcontent-%COMP%]   .type-header[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{width:24px;height:24px}.activity-list[_ngcontent-%COMP%]   .type-group[_ngcontent-%COMP%]   .type-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#fff;margin:0;font-size:1rem}.activity-list[_ngcontent-%COMP%]   .type-group[_ngcontent-%COMP%]   .type-header[_ngcontent-%COMP%]   .activity-count[_ngcontent-%COMP%]{color:#94a3b8;font-size:.875rem}.activity-list[_ngcontent-%COMP%]   .activity-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1rem}.activity-list[_ngcontent-%COMP%]   .activity-grid[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]{background:#0003;border-radius:.5rem;padding:1rem}.activity-list[_ngcontent-%COMP%]   .activity-grid[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]   .activity-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem}.activity-list[_ngcontent-%COMP%]   .activity-grid[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]   .activity-header[_ngcontent-%COMP%]   .activity-icon[_ngcontent-%COMP%]{width:32px;height:32px}.activity-list[_ngcontent-%COMP%]   .activity-grid[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]   .activity-header[_ngcontent-%COMP%]   .activity-info[_ngcontent-%COMP%]{flex:1}.activity-list[_ngcontent-%COMP%]   .activity-grid[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]   .activity-header[_ngcontent-%COMP%]   .activity-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#fff;margin:0;font-size:.875rem}.activity-list[_ngcontent-%COMP%]   .activity-grid[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]   .activity-header[_ngcontent-%COMP%]   .activity-info[_ngcontent-%COMP%]   .activity-time[_ngcontent-%COMP%]{color:#94a3b8;font-size:.75rem}.activity-list[_ngcontent-%COMP%]   .activity-grid[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]   .activity-details[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.activity-list[_ngcontent-%COMP%]   .activity-grid[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]   .activity-details[_ngcontent-%COMP%]   .activity-duration[_ngcontent-%COMP%]{color:#94a3b8;font-size:.875rem}.activity-list[_ngcontent-%COMP%]   .activity-grid[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]   .activity-details[_ngcontent-%COMP%]   .view-details-btn[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border:none;padding:.5rem 1rem;border-radius:.25rem;font-size:.875rem;cursor:pointer;transition:background-color .2s}.activity-list[_ngcontent-%COMP%]   .activity-grid[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]   .activity-details[_ngcontent-%COMP%]   .view-details-btn[_ngcontent-%COMP%]:hover{background:#1d4ed8}.no-activities[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#94a3b8;font-style:italic;background:#0000001a;border-radius:.5rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 768px){.search-form[_ngcontent-%COMP%]{flex-direction:column}.form-group[_ngcontent-%COMP%]{width:100%}.activity-list[_ngcontent-%COMP%]{grid-template-columns:1fr}}[_nghost-%COMP%]{display:block;min-height:100vh;background-color:#0f172a}.bg-destiny-d1[_ngcontent-%COMP%]{background-color:#7b6b4e}.bg-destiny-d2[_ngcontent-%COMP%]{background-color:#4c88ff}.stat-box[_ngcontent-%COMP%]{border-radius:.5rem;background-color:#33415580;padding:1rem}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1e293b}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#475569;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#64748b}"]})};var NC=[{path:"",component:Jo}];var PC={providers:[mm(NC),Ng(Pg())]};var es=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Pi=class extends es{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,n,r,i,o){super(),this.component=t,this.viewContainerRef=n,this.injector=r,this.projectableNodes=o}},ki=class extends es{templateRef;viewContainerRef;context;injector;constructor(t,n,r,i){super(),this.templateRef=t,this.viewContainerRef=n,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,n=this.context){return this.context=n,super.attach(t)}detach(){return this.context=void 0,super.detach()}},gd=class extends es{element;constructor(t){super(),this.element=t instanceof nt?t.nativeElement:t}},Fi=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Pi)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof ki)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof gd)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Ra=class extends Fi{outletElement;_appRef;_defaultInjector;_document;constructor(t,n,r,i,o){super(),this.outletElement=t,this._appRef=r,this._defaultInjector=i,this._document=o}attachComponentPortal(t){let n;if(t.viewContainerRef){let r=t.injector||t.viewContainerRef.injector,i=r.get(er,null,{optional:!0})||void 0;n=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:r,ngModuleRef:i,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>n.destroy())}else{let r=this._appRef,i=t.injector||this._defaultInjector||Ze.NULL,o=i.get(ct,r.injector);n=au(t.component,{elementInjector:i,environmentInjector:o,projectableNodes:t.projectableNodes||void 0}),r.attachView(n.hostView),this.setDisposeFn(()=>{r.viewCount>0&&r.detachView(n.hostView),n.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let n=t.viewContainerRef,r=n.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=n.indexOf(r);i!==-1&&n.remove(i)}),this._attachedPortal=t,r}attachDomPortal=t=>{let n=t.element;n.parentNode;let r=this._document.createComment("dom-portal");n.parentNode.insertBefore(r,n),this.outletElement.appendChild(n),this._attachedPortal=t,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(n,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var ts=(()=>{class e extends Fi{_moduleRef=w(er,{optional:!0});_document=w(Se);_viewContainerRef=w(un);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}attached=new We;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let r=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,i=r.createComponent(n.component,{index:r.length,injector:n.injector||r.injector,projectableNodes:n.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return r!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=n,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(n){n.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=r,this.attached.emit(r),r}attachDomPortal=n=>{let r=n.element;r.parentNode;let i=this._document.createComment("dom-portal");n.setAttachedHost(this),r.parentNode.insertBefore(i,r),this._getRootNode().appendChild(r),this._attachedPortal=n,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(r,i)})};_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Xe({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[kt]})}return e})();var $r=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=He({type:e});static \u0275inj=Ue({})}return e})();function kC(e){return e.buttons===0||e.detail===0}function FC(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var Mm;function jP(){if(Mm==null){let e=typeof document<"u"?document.head:null;Mm=!!(e&&(e.createShadowRoot||e.attachShadow))}return Mm}function LC(e){if(jP()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function md(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){let t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function fr(e){return e.composedPath?e.composedPath()[0]:e.target}function hr(e,t,n,r,i){let o=parseInt(rg.major),s=parseInt(rg.minor);return o>19||o===19&&s>0||o===0&&s===0?e.listen(t,n,r,i):(t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)})}var Tm;try{Tm=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Tm=!1}var Ct=(()=>{class e{_platformId=w(Si);isBrowser=this._platformId?vg(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Tm)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Na;function BP(){if(Na==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Na=!0}))}finally{Na=Na||!1}return Na}function VC(e){return BP()?e:!!e.capture}function Pa(e,t=0){return jC(e)?Number(e):arguments.length===2?t:0}function jC(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function Li(e){return e instanceof nt?e.nativeElement:e}var UP=new K("cdk-input-modality-detector-options"),HP={ignoreKeys:[18,17,224,91,16]},BC=650,Am={passive:!0,capture:!0},$P=(()=>{class e{_platform=w(Ct);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Ye(null);_options;_lastTouchMs=0;_onKeydown=n=>{this._options?.ignoreKeys?.some(r=>r===n.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=fr(n))};_onMousedown=n=>{Date.now()-this._lastTouchMs<BC||(this._modality.next(kC(n)?"keyboard":"mouse"),this._mostRecentTarget=fr(n))};_onTouchstart=n=>{if(FC(n)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=fr(n)};constructor(){let n=w(Me),r=w(Se),i=w(UP,{optional:!0});if(this._options=L(L({},HP),i),this.modalityDetected=this._modality.pipe(As(1)),this.modalityChanged=this.modalityDetected.pipe(Qc()),this._platform.isBrowser){let o=w(Pt).createRenderer(null,null);this._listenerCleanups=n.runOutsideAngular(()=>[hr(o,r,"keydown",this._onKeydown,Am),hr(o,r,"mousedown",this._onMousedown,Am),hr(o,r,"touchstart",this._onTouchstart,Am)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(n=>n())}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vd=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(vd||{}),zP=new K("cdk-focus-monitor-default-options"),yd=VC({passive:!0,capture:!0}),UC=(()=>{class e{_ngZone=w(Me);_platform=w(Ct);_inputModalityDetector=w($P);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=w(Se,{optional:!0});_stopInputModalityDetector=new ue;constructor(){let n=w(zP,{optional:!0});this._detectionMode=n?.detectionMode||vd.IMMEDIATE}_rootNodeFocusAndBlurListener=n=>{let r=fr(n);for(let i=r;i;i=i.parentElement)n.type==="focus"?this._onFocus(n,i):this._onBlur(n,i)};monitor(n,r=!1){let i=Li(n);if(!this._platform.isBrowser||i.nodeType!==1)return te();let o=LC(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;let c={checkChildren:r,subject:new ue,rootNode:o};return this._elementInfo.set(i,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(n){let r=Li(n),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(n,r,i){let o=Li(n),s=this._getDocument().activeElement;o===s?this._getClosestElementsInfo(o).forEach(([c,u])=>this._originChanged(c,r,u)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===vd.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused",r==="touch"),n.classList.toggle("cdk-keyboard-focused",r==="keyboard"),n.classList.toggle("cdk-mouse-focused",r==="mouse"),n.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&r,this._detectionMode===vd.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?BC:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(n,r){let i=this._elementInfo.get(r),o=fr(n);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(n,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let r=n.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,yd),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,yd)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(An(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(n){let r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,yd),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,yd),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,i){this._setClasses(n,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){let r=[];return this._elementInfo.forEach((i,o)=>{(o===n||i.checkChildren&&o.contains(n))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let o=n.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var _d=new WeakMap,ka=(()=>{class e{_appRef;_injector=w(Ze);_environmentInjector=w(ct);load(n){let r=this._appRef=this._appRef||this._injector.get(_n),i=_d.get(r);i||(i={loaders:new Set,refs:[]},_d.set(r,i),r.onDestroy(()=>{_d.get(r)?.refs.forEach(o=>o.destroy()),_d.delete(r)})),i.loaders.has(n)||(i.loaders.add(n),i.refs.push(au(n,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var HC=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Dt({type:e,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return e})();function ns(e){return Array.isArray(e)?e:[e]}var $C=new Set,Vi,GP=(()=>{class e{_platform=w(Ct);_nonce=w(Ws,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):qP}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&WP(n,this._nonce),this._matchMedia(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function WP(e,t){if(!$C.has(e))try{Vi||(Vi=document.createElement("style"),t&&Vi.setAttribute("nonce",t),Vi.setAttribute("type","text/css"),document.head.appendChild(Vi)),Vi.sheet&&(Vi.sheet.insertRule(`@media ${e} {body{ }}`,0),$C.add(e))}catch(n){console.error(n)}}function qP(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var GC=(()=>{class e{_mediaMatcher=w(GP);_zone=w(Me);_queries=new Map;_destroySubject=new ue;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return zC(ns(n)).some(i=>this._registerQuery(i).mql.matches)}observe(n){let i=zC(ns(n)).map(s=>this._registerQuery(s).observable),o=so(i);return o=Cr(o.pipe(_t(1)),o.pipe(As(1),Kf(0))),o.pipe(ae(s=>{let c={matches:!1,breakpoints:{}};return s.forEach(({matches:u,query:h})=>{c.matches=c.matches||u,c.breakpoints[h]=u}),c}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),o={observable:new De(s=>{let c=u=>this._zone.run(()=>s.next(u));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(Tn(r),ae(({matches:s})=>({query:n,matches:s})),An(this._destroySubject)),mql:r};return this._queries.set(n,o),o}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function zC(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}var KP=(()=>{class e{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var WC=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=He({type:e});static \u0275inj=Ue({providers:[KP]})}return e})();var Rm=(()=>{class e{_platform=w(Ct);constructor(){}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return ZP(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;let r=YP(ik(n));if(r&&(qC(r)===-1||!this.isVisible(r)))return!1;let i=n.nodeName.toLowerCase(),o=qC(n);return n.hasAttribute("contenteditable")?o!==-1:i==="iframe"||i==="object"||this._platform.WEBKIT&&this._platform.IOS&&!nk(n)?!1:i==="audio"?n.hasAttribute("controls")?o!==-1:!1:i==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,r){return rk(n)&&!this.isDisabled(n)&&(r?.ignoreVisibility||this.isVisible(n))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function YP(e){try{return e.frameElement}catch{return null}}function ZP(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length)}function XP(e){let t=e.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function QP(e){return ek(e)&&e.type=="hidden"}function JP(e){return tk(e)&&e.hasAttribute("href")}function ek(e){return e.nodeName.toLowerCase()=="input"}function tk(e){return e.nodeName.toLowerCase()=="a"}function ZC(e){if(!e.hasAttribute("tabindex")||e.tabIndex===void 0)return!1;let t=e.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function qC(e){if(!ZC(e))return null;let t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function nk(e){let t=e.nodeName.toLowerCase(),n=t==="input"&&e.type;return n==="text"||n==="password"||t==="select"||t==="textarea"}function rk(e){return QP(e)?!1:XP(e)||JP(e)||e.hasAttribute("contenteditable")||ZC(e)}function ik(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}var Om=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,n,r,i,o=!1,s){this._element=t,this._checker=n,this._ngZone=r,this._document=i,this._injector=s,o||this.attachAnchors()}destroy(){let t=this._startAnchor,n=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let n=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let r=this._getFirstTabbableElement(n);return r?.focus(t),!!r}return n.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let n=this._getRegionBoundary("start");return n&&n.focus(t),!!n}focusLastTabbableElement(t){let n=this._getRegionBoundary("end");return n&&n.focus(t),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children;for(let r=0;r<n.length;r++){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[r]):null;if(i)return i}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children;for(let r=n.length-1;r>=0;r--){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[r]):null;if(i)return i}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,n){t?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?ir(t,{injector:this._injector}):setTimeout(t)}},Nm=(()=>{class e{_checker=w(Rm);_ngZone=w(Me);_document=w(Se);_injector=w(Ze);constructor(){w(ka).load(HC)}create(n,r=!1){return new Om(n,this._checker,this._ngZone,this._document,r,this._injector)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var zr=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(zr||{}),KC="cdk-high-contrast-black-on-white",YC="cdk-high-contrast-white-on-black",xm="cdk-high-contrast-active",bd=(()=>{class e{_platform=w(Ct);_hasCheckedHighContrastMode;_document=w(Se);_breakpointSubscription;constructor(){this._breakpointSubscription=w(GC).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return zr.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(n):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(n.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return zr.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return zr.BLACK_ON_WHITE}return zr.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(xm,KC,YC),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===zr.BLACK_ON_WHITE?n.add(xm,KC):r===zr.WHITE_ON_BLACK&&n.add(xm,YC)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Pm=(()=>{class e{constructor(){w(bd)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||e)};static \u0275mod=He({type:e});static \u0275inj=Ue({imports:[WC]})}return e})();function km(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function at(e){return e==null?"":typeof e=="string"?e:`${e}px`}var ok=new K("cdk-dir-doc",{providedIn:"root",factory:sk});function sk(){return w(Se)}var ak=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function ck(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?ak.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Fa=(()=>{class e{value="ltr";change=new We;constructor(){let n=w(ok,{optional:!0});if(n){let r=n.body?n.body.dir:null,i=n.documentElement?n.documentElement.dir:null;this.value=ck(r||i||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ji;function XC(){if(ji==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ji=!1,ji;if("scrollBehavior"in document.documentElement.style)ji=!0;else{let e=Element.prototype.scrollTo;e?ji=!/\{\s*\[native code\]\s*\}/.test(e.toString()):ji=!1}}return ji}var Gr=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=He({type:e});static \u0275inj=Ue({})}return e})();var lk=20,JC=(()=>{class e{_ngZone=w(Me);_platform=w(Ct);_renderer=w(Pt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new ue;_scrolledCount=0;scrollContainers=new Map;register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=lk){return this._platform.isBrowser?new De(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=n>0?this._scrolled.pipe(Xc(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):te()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){let i=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(et(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(n){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,n)&&r.push(o)}),r}_scrollableContainsElement(n,r){let i=Li(r),o=n.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var uk=20,Fm=(()=>{class e{_platform=w(Ct);_listeners;_viewportSize;_change=new ue;_document=w(Se,{optional:!0});constructor(){let n=w(Me),r=w(Pt).createRenderer(null,null);n.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(n=>n()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+i,right:n.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,r=this._getWindow(),i=n.documentElement,o=i.getBoundingClientRect(),s=-o.top||n.body.scrollTop||r.scrollY||i.scrollTop||0,c=-o.left||n.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:c}}change(n=uk){return n>0?this._change.pipe(Xc(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var QC=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=He({type:e});static \u0275inj=Ue({})}return e})(),Lm=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=He({type:e});static \u0275inj=Ue({imports:[Gr,QC,Gr,QC]})}return e})();var Vm={},Bi=(()=>{class e{_appId=w(Mo);getId(n){return this._appId!=="ng"&&(n+=this._appId),Vm.hasOwnProperty(n)||(Vm[n]=0),`${n}${Vm[n]++}`}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Dd(e,...t){return t.length?t.some(n=>e[n]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}var e0=XC(),wd=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,n){this._viewportRuler=t,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=at(-this._previousScrollPosition.left),t.style.top=at(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,n=this._document.body,r=t.style,i=n.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e0&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e0&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.documentElement,r=this._viewportRuler.getViewportSize();return n.scrollHeight>r.height||n.scrollWidth>r.width}};var Cd=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,n,r,i){this._scrollDispatcher=t,this._ngZone=n,this._viewportRuler=r,this._config=i}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(et(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},La=class{enable(){}disable(){}attach(){}};function jm(e,t){return t.some(n=>{let r=e.bottom<n.top,i=e.top>n.bottom,o=e.right<n.left,s=e.left>n.right;return r||i||o||s})}function t0(e,t){return t.some(n=>{let r=e.top<n.top,i=e.bottom>n.bottom,o=e.left<n.left,s=e.right>n.right;return r||i||o||s})}var Ed=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,n,r,i){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=r,this._config=i}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();jm(n,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},a0=(()=>{class e{_scrollDispatcher=w(JC);_viewportRuler=w(Fm);_ngZone=w(Me);_document=w(Se);constructor(){}noop=()=>new La;close=n=>new Cd(this._scrollDispatcher,this._ngZone,this._viewportRuler,n);block=()=>new wd(this._viewportRuler,this._document);reposition=n=>new Ed(this._scrollDispatcher,this._viewportRuler,this._ngZone,n);static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rs=class{positionStrategy;scrollStrategy=new La;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){let n=Object.keys(t);for(let r of n)t[r]!==void 0&&(this[r]=t[r])}}};var Id=class{connectionPair;scrollableViewProperties;constructor(t,n){this.connectionPair=t,this.scrollableViewProperties=n}};var c0=(()=>{class e{_attachedOverlays=[];_document=w(Se);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let r=this._attachedOverlays.indexOf(n);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),l0=(()=>{class e extends c0{_ngZone=w(Me);_renderer=w(Pt).createRenderer(null,null);_cleanupKeydown;add(n){super.add(n),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=n=>{let r=this._attachedOverlays;for(let i=r.length-1;i>-1;i--)if(r[i]._keydownEvents.observers.length>0){this._ngZone.run(()=>r[i]._keydownEvents.next(n));break}};static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qt(e)))(i||e)}})();static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),u0=(()=>{class e extends c0{_platform=w(Ct);_ngZone=w(Me);_renderer=w(Pt).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(n){if(super.add(n),!this._isAttached){let r=this._document.body,i={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[hr(this._renderer,r,"pointerdown",this._pointerDownListener,i),hr(this._renderer,r,"click",this._clickListener,i),hr(this._renderer,r,"auxclick",this._clickListener,i),hr(this._renderer,r,"contextmenu",this._clickListener,i)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(n=>n()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=n=>{this._pointerDownEventTarget=fr(n)};_clickListener=n=>{let r=fr(n),i=n.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let c=o[s];if(c._outsidePointerEvents.observers.length<1||!c.hasAttached())continue;if(n0(c.overlayElement,r)||n0(c.overlayElement,i))break;let u=c._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(n)):u.next(n)}};static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qt(e)))(i||e)}})();static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function n0(e,t){let n=typeof ShadowRoot<"u"&&ShadowRoot,r=t;for(;r;){if(r===e)return!0;r=n&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var d0=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Dt({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return e})(),Td=(()=>{class e{_platform=w(Ct);_containerElement;_document=w(Se);_styleLoader=w(ka);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||km()){let i=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}let r=this._document.createElement("div");r.classList.add(n),km()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}_loadStyles(){this._styleLoader.load(d0)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Bm=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,n,r,i){this._renderer=n,this._ngZone=r,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=n.listen(this.element,"click",i)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},Hi=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new ue;_attachments=new ue;_detachments=new ue;_positionStrategy;_scrollStrategy;_locationChanges=$e.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new ue;_outsidePointerEvents=new ue;_renders=new ue;_afterRenderRef;_afterNextRenderRef;constructor(t,n,r,i,o,s,c,u,h,g=!1,v,S){this._portalOutlet=t,this._host=n,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=c,this._location=u,this._outsideClickDispatcher=h,this._animationsDisabled=g,this._injector=v,this._renderer=S,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=Un(()=>Tp(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=ir(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=L(L({},this._config),t),this._updateElementSize()}setDirection(t){this._config=ie(L({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=at(this._config.width),t.height=at(this._config.height),t.minWidth=at(this._config.minWidth),t.minHeight=at(this._config.minHeight),t.maxWidth=at(this._config.maxWidth),t.maxHeight=at(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new Bm(this._document,this._renderer,this._ngZone,n=>{this._backdropClick.next(n)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,n,r){let i=ns(n||[]).filter(o=>!!o);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(An(Ts(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},r0="cdk-overlay-connected-position-bounding-box",dk=/([A-Za-z%]+)$/,Sd=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new ue;_resizeSubscription=$e.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,n,r,i,o){this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=o,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(r0),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,n=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[],s;for(let c of this._preferredPositions){let u=this._getOriginPoint(t,i,c),h=this._getOverlayPoint(u,n,c),g=this._getOverlayFit(h,n,r,c);if(g.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(c,u);return}if(this._canFitWithFlexibleDimensions(g,h,r)){o.push({position:c,origin:u,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(u,c)});continue}(!s||s.overlayFit.visibleArea<g.visibleArea)&&(s={overlayFit:g,overlayPoint:h,originPoint:u,position:c,overlayRect:n})}if(o.length){let c=null,u=-1;for(let h of o){let g=h.boundingBoxRect.width*h.boundingBoxRect.height*(h.position.weight||1);g>u&&(u=g,c=h)}this._isPushed=!1,this._applyPosition(c.position,c.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ui(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(r0),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,n)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,n,r){let i;if(r.originX=="center")i=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,c=this._isRtl()?t.left:t.right;i=r.originX=="start"?s:c}n.left<0&&(i-=n.left);let o;return r.originY=="center"?o=t.top+t.height/2:o=r.originY=="top"?t.top:t.bottom,n.top<0&&(o-=n.top),{x:i,y:o}}_getOverlayPoint(t,n,r){let i;r.overlayX=="center"?i=-n.width/2:r.overlayX==="start"?i=this._isRtl()?-n.width:0:i=this._isRtl()?0:-n.width;let o;return r.overlayY=="center"?o=-n.height/2:o=r.overlayY=="top"?0:-n.height,{x:t.x+i,y:t.y+o}}_getOverlayFit(t,n,r,i){let o=o0(n),{x:s,y:c}=t,u=this._getOffset(i,"x"),h=this._getOffset(i,"y");u&&(s+=u),h&&(c+=h);let g=0-s,v=s+o.width-r.width,S=0-c,_=c+o.height-r.height,N=this._subtractOverflows(o.width,g,v),V=this._subtractOverflows(o.height,S,_),G=N*V;return{visibleArea:G,isCompletelyWithinViewport:o.width*o.height===G,fitsInViewportVertically:V===o.height,fitsInViewportHorizontally:N==o.width}}_canFitWithFlexibleDimensions(t,n,r){if(this._hasFlexibleDimensions){let i=r.bottom-n.y,o=r.right-n.x,s=i0(this._overlayRef.getConfig().minHeight),c=i0(this._overlayRef.getConfig().minWidth),u=t.fitsInViewportVertically||s!=null&&s<=i,h=t.fitsInViewportHorizontally||c!=null&&c<=o;return u&&h}return!1}_pushOverlayOnScreen(t,n,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let i=o0(n),o=this._viewportRect,s=Math.max(t.x+i.width-o.width,0),c=Math.max(t.y+i.height-o.height,0),u=Math.max(o.top-r.top-t.y,0),h=Math.max(o.left-r.left-t.x,0),g=0,v=0;return i.width<=o.width?g=h||-s:g=t.x<this._viewportMargin?o.left-r.left-t.x:0,i.height<=o.height?v=u||-c:v=t.y<this._viewportMargin?o.top-r.top-t.y:0,this._previousPushAmount={x:g,y:v},{x:t.x+g,y:t.y+v}}_applyPosition(t,n){if(this._setTransformOrigin(t),this._setOverlayElementStyles(n,t),this._setBoundingBoxStyles(n,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!fk(this._lastScrollVisibility,r)){let i=new Id(t,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=t.overlayY;t.overlayX==="center"?r="center":this._isRtl()?r=t.overlayX==="start"?"right":"left":r=t.overlayX==="start"?"left":"right";for(let o=0;o<n.length;o++)n[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,n){let r=this._viewportRect,i=this._isRtl(),o,s,c;if(n.overlayY==="top")s=t.y,o=r.height-s+this._viewportMargin;else if(n.overlayY==="bottom")c=r.height-t.y+this._viewportMargin*2,o=r.height-c+this._viewportMargin;else{let _=Math.min(r.bottom-t.y+r.top,t.y),N=this._lastBoundingBoxSize.height;o=_*2,s=t.y-_,o>N&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-N/2)}let u=n.overlayX==="start"&&!i||n.overlayX==="end"&&i,h=n.overlayX==="end"&&!i||n.overlayX==="start"&&i,g,v,S;if(h)S=r.width-t.x+this._viewportMargin*2,g=t.x-this._viewportMargin;else if(u)v=t.x,g=r.right-t.x;else{let _=Math.min(r.right-t.x+r.left,t.x),N=this._lastBoundingBoxSize.width;g=_*2,v=t.x-_,g>N&&!this._isInitialRender&&!this._growAfterOpen&&(v=t.x-N/2)}return{top:s,left:v,bottom:c,right:S,width:g,height:o}}_setBoundingBoxStyles(t,n){let r=this._calculateBoundingBoxRect(t,n);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=at(r.height),i.top=at(r.top),i.bottom=at(r.bottom),i.width=at(r.width),i.left=at(r.left),i.right=at(r.right),n.overlayX==="center"?i.alignItems="center":i.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?i.justifyContent="center":i.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=at(o)),s&&(i.maxWidth=at(s))}this._lastBoundingBoxSize=r,Ui(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Ui(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ui(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,n){let r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){let g=this._viewportRuler.getViewportScrollPosition();Ui(r,this._getExactOverlayY(n,t,g)),Ui(r,this._getExactOverlayX(n,t,g))}else r.position="static";let c="",u=this._getOffset(n,"x"),h=this._getOffset(n,"y");u&&(c+=`translateX(${u}px) `),h&&(c+=`translateY(${h}px)`),r.transform=c.trim(),s.maxHeight&&(i?r.maxHeight=at(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=at(s.maxWidth):o&&(r.maxWidth="")),Ui(this._pane.style,r)}_getExactOverlayY(t,n,r){let i={top:"",bottom:""},o=this._getOverlayPoint(n,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;i.bottom=`${s-(o.y+this._overlayRect.height)}px`}else i.top=at(o.y);return i}_getExactOverlayX(t,n,r){let i={left:"",right:""},o=this._getOverlayPoint(n,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let c=this._document.documentElement.clientWidth;i.right=`${c-(o.x+this._overlayRect.width)}px`}else i.left=at(o.x);return i}_getScrollVisibility(){let t=this._getOriginRect(),n=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:t0(t,r),isOriginOutsideView:jm(t,r),isOverlayClipped:t0(n,r),isOverlayOutsideView:jm(n,r)}}_subtractOverflows(t,...n){return n.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+n-this._viewportMargin,width:t-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,n){return n==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ns(t).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof nt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let n=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+n,height:r,width:n}}};function Ui(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function i0(e){if(typeof e!="number"&&e!=null){let[t,n]=e.split(dk);return!n||n==="px"?parseFloat(t):null}return e||null}function o0(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function fk(e,t){return e===t?!0:e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}var s0="cdk-global-overlay-wrapper",Md=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let n=t.getConfig();this._overlayRef=t,this._width&&!n.width&&t.updateSize({width:this._width}),this._height&&!n.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(s0),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:c}=r,u=(i==="100%"||i==="100vw")&&(!s||s==="100%"||s==="100vw"),h=(o==="100%"||o==="100vh")&&(!c||c==="100%"||c==="100vh"),g=this._xPosition,v=this._xOffset,S=this._overlayRef.getConfig().direction==="rtl",_="",N="",V="";u?V="flex-start":g==="center"?(V="center",S?N=v:_=v):S?g==="left"||g==="end"?(V="flex-end",_=v):(g==="right"||g==="start")&&(V="flex-start",N=v):g==="left"||g==="start"?(V="flex-start",_=v):(g==="right"||g==="end")&&(V="flex-end",N=v),t.position=this._cssPosition,t.marginLeft=u?"0":_,t.marginTop=h?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=u?"0":N,n.justifyContent=V,n.alignItems=h?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,r=n.style;n.classList.remove(s0),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},f0=(()=>{class e{_viewportRuler=w(Fm);_document=w(Se);_platform=w(Ct);_overlayContainer=w(Td);constructor(){}global(){return new Md}flexibleConnectedTo(n){return new Sd(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zn=(()=>{class e{scrollStrategies=w(a0);_overlayContainer=w(Td);_positionBuilder=w(f0);_keyboardDispatcher=w(l0);_injector=w(Ze);_ngZone=w(Me);_document=w(Se);_directionality=w(Fa);_location=w(Lr);_outsideClickDispatcher=w(u0);_animationsModuleType=w(Gl,{optional:!0});_idGenerator=w(Bi);_renderer=w(Pt).createRenderer(null,null);_appRef;_styleLoader=w(ka);constructor(){}create(n){this._styleLoader.load(d0);let r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),s=new rs(n);return s.direction=s.direction||this._directionality.value,new Hi(o,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(ct),this._renderer)}position(){return this._positionBuilder}_createPaneElement(n){let r=this._document.createElement("div");return r.id=this._idGenerator.getId("cdk-overlay-"),r.classList.add("cdk-overlay-pane"),n.appendChild(r),r}_createHostElement(){let n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(_n)),new Ra(n,null,this._appRef,this._injector,this._document)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var hk=new K("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let e=w(zn);return()=>e.scrollStrategies.reposition()}});function pk(e){return()=>e.scrollStrategies.reposition()}var gk={provide:hk,deps:[zn],useFactory:pk},Va=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=He({type:e});static \u0275inj=Ue({providers:[zn,gk],imports:[Gr,$r,Lm,Lm]})}return e})();function mk(e,t){}var Wr=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var Hm=(()=>{class e extends Fi{_elementRef=w(nt);_focusTrapFactory=w(Nm);_config;_interactivityChecker=w(Rm);_ngZone=w(Me);_overlayRef=w(Hi);_focusMonitor=w(UC);_renderer=w(jn);_changeDetectorRef=w(Bn);_injector=w(Ze);_platform=w(Ct);_document=w(Se,{optional:!0});_portalOutlet;_focusTrapped=new ue;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=w(Wr,{optional:!0})||new Wr,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(n){this._ariaLabelledByQueue.push(n),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(n){let r=this._ariaLabelledByQueue.indexOf(n);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(n){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(n);return this._contentAttached(),r}attachTemplatePortal(n){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(n);return this._contentAttached(),r}attachDomPortal=n=>{this._portalOutlet.hasAttached();let r=this._portalOutlet.attachDomPortal(n);return this._contentAttached(),r};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(n,r){this._interactivityChecker.isFocusable(n)||(n.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{o(),s(),n.removeAttribute("tabindex")},o=this._renderer.listen(n,"blur",i),s=this._renderer.listen(n,"mousedown",i)})),n.focus(r)}_focusByCssSelector(n,r){let i=this._elementRef.nativeElement.querySelector(n);i&&this._forceFocus(i,r)}_trapFocus(n){this._isDestroyed||ir(()=>{let r=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||r.focus(n);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(n)||this._focusDialogContainer(n);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',n);break;default:this._focusByCssSelector(this._config.autoFocus,n);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let n=this._config.restoreFocus,r=null;if(typeof n=="string"?r=this._document.querySelector(n):typeof n=="boolean"?r=n?this._elementFocusedBeforeDialogWasOpened:null:n&&(r=n),this._config.restoreFocus&&r&&typeof r.focus=="function"){let i=md(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(n){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus(n)}_containsFocus(){let n=this._elementRef.nativeElement,r=md();return n===r||n.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=md()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Dt({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(r,i){if(r&1&&Xp(ts,7),r&2){let o;Qp(o=Jp())&&(i._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,i){r&2&&or("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[kt],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,i){r&1&&ke(0,mk,0,0,"ng-template",0)},dependencies:[ts],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return e})(),ja=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new ue;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(t,n){this.overlayRef=t,this.config=n,this.disableClose=n.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(r=>{r.keyCode===27&&!this.disableClose&&!Dd(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(t,n){if(this.containerInstance){let r=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(t),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",n=""){return this.overlayRef.updateSize({width:t,height:n}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},yk=new K("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=w(zn);return()=>e.scrollStrategies.block()}}),vk=new K("DialogData"),_k=new K("DefaultDialogConfig");var $m=(()=>{class e{_overlay=w(zn);_injector=w(Ze);_defaultOptions=w(_k,{optional:!0});_parentDialog=w(e,{optional:!0,skipSelf:!0});_overlayContainer=w(Td);_idGenerator=w(Bi);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new ue;_afterOpenedAtThisLevel=new ue;_ariaHiddenElements=new Map;_scrollStrategy=w(yk);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Er(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Tn(void 0)));constructor(){}open(n,r){let i=this._defaultOptions||new Wr;r=L(L({},i),r),r.id=r.id||this._idGenerator.getId("cdk-dialog-"),r.id&&this.getDialogById(r.id);let o=this._getOverlayConfig(r),s=this._overlay.create(o),c=new ja(s,r),u=this._attachContainer(s,c,r);if(c.containerInstance=u,!this.openDialogs.length){let h=this._overlayContainer.getContainerElement();u._focusTrapped?u._focusTrapped.pipe(_t(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(h)}):this._hideNonDialogContentFromAssistiveTechnology(h)}return this._attachDialogContent(n,c,u,r),this.openDialogs.push(c),c.closed.subscribe(()=>this._removeOpenDialog(c,!0)),this.afterOpened.next(c),c}closeAll(){Um(this.openDialogs,n=>n.close())}getDialogById(n){return this.openDialogs.find(r=>r.id===n)}ngOnDestroy(){Um(this._openDialogsAtThisLevel,n=>{n.config.closeOnDestroy===!1&&this._removeOpenDialog(n,!1)}),Um(this._openDialogsAtThisLevel,n=>n.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(n){let r=new rs({positionStrategy:n.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,width:n.width,height:n.height,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(r.backdropClass=n.backdropClass),r}_attachContainer(n,r,i){let o=i.injector||i.viewContainerRef?.injector,s=[{provide:Wr,useValue:i},{provide:ja,useValue:r},{provide:Hi,useValue:n}],c;i.container?typeof i.container=="function"?c=i.container:(c=i.container.type,s.push(...i.container.providers(i))):c=Hm;let u=new Pi(c,i.viewContainerRef,Ze.create({parent:o||this._injector,providers:s}));return n.attach(u).instance}_attachDialogContent(n,r,i,o){if(n instanceof cn){let s=this._createInjector(o,r,i,void 0),c={$implicit:o.data,dialogRef:r};o.templateContext&&(c=L(L({},c),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),i.attachTemplatePortal(new ki(n,null,c,s))}else{let s=this._createInjector(o,r,i,this._injector),c=i.attachComponentPortal(new Pi(n,o.viewContainerRef,s));r.componentRef=c,r.componentInstance=c.instance}}_createInjector(n,r,i,o){let s=n.injector||n.viewContainerRef?.injector,c=[{provide:vk,useValue:n.data},{provide:ja,useValue:r}];return n.providers&&(typeof n.providers=="function"?c.push(...n.providers(r,n,i)):c.push(...n.providers)),n.direction&&(!s||!s.get(Fa,null,{optional:!0}))&&c.push({provide:Fa,useValue:{value:n.direction,change:te()}}),Ze.create({parent:s||o,providers:c})}_removeOpenDialog(n,r){let i=this.openDialogs.indexOf(n);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(n){if(n.parentElement){let r=n.parentElement.children;for(let i=r.length-1;i>-1;i--){let o=r[i];o!==n&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Um(e,t){let n=e.length;for(;n--;)t(e[n])}var p0=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=He({type:e});static \u0275inj=Ue({providers:[$m],imports:[Va,$r,Pm,$r]})}return e})();var zm=(()=>{class e{constructor(){w(bd)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||e)};static \u0275mod=He({type:e});static \u0275inj=Ue({imports:[Gr,Gr]})}return e})();function bk(e,t){}var Ua=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},Gm="mdc-dialog--open",g0="mdc-dialog--opening",m0="mdc-dialog--closing",Dk=150,wk=75,_0=(()=>{class e extends Hm{_animationMode=w(Gl,{optional:!0});_animationStateChanged=new We;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?v0(this._config.enterAnimationDuration)??Dk:0;_exitAnimationDuration=this._animationsEnabled?v0(this._config.exitAnimationDuration)??wk:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(y0,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(g0,Gm)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Gm),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Gm),this._animationsEnabled?(this._hostElement.style.setProperty(y0,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(m0)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(n){this._actionSectionCount+=n,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(g0,m0)}_waitForAnimationToComplete(n,r){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,n)}_requestAnimationFrame(n){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(n):n()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(n){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(n){let r=super.attachComponentPortal(n);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qt(e)))(i||e)}})();static \u0275cmp=Dt({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,i){r&2&&(Zp("id",i._config.id),or("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),Rr("_mat-animation-noopable",!i._animationsEnabled)("mat-mdc-dialog-container-with-actions",i._actionSectionCount>0))},features:[kt],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,i){r&1&&(B(0,"div",0)(1,"div",1),ke(2,bk,0,0,"ng-template",2),U()())},dependencies:[ts],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return e})(),y0="--mat-dialog-transition-duration";function v0(e){return e==null?null:typeof e=="number"?e:e.endsWith("ms")?Pa(e.substring(0,e.length-2)):e.endsWith("s")?Pa(e.substring(0,e.length-1))*1e3:e==="0"?0:null}var Ba=function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e}(Ba||{}),Ad=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new ue;_beforeClosed=new ue;_result;_closeFallbackTimeout;_state=Ba.OPEN;_closeInteractionType;constructor(t,n,r){this._ref=t,this._containerInstance=r,this.disableClose=n.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),r._animationStateChanged.pipe(et(i=>i.state==="opened"),_t(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(et(i=>i.state==="closed"),_t(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Ts(this.backdropClick(),this.keydownEvents().pipe(et(i=>i.keyCode===27&&!this.disableClose&&!Dd(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),b0(this,i.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(et(n=>n.state==="closing"),_t(1)).subscribe(n=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=Ba.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let n=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?n.left(t.left):n.right(t.right):n.centerHorizontally(),t&&(t.top||t.bottom)?t.top?n.top(t.top):n.bottom(t.bottom):n.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",n=""){return this._ref.updateSize(t,n),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=Ba.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function b0(e,t,n){return e._closeInteractionType=t,e.close(n)}var D0=new K("MatMdcDialogData"),w0=new K("mat-mdc-dialog-default-options"),C0=new K("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let e=w(zn);return()=>e.scrollStrategies.block()}});var E0=(()=>{class e{_overlay=w(zn);_defaultOptions=w(w0,{optional:!0});_scrollStrategy=w(C0);_parentDialog=w(e,{optional:!0,skipSelf:!0});_idGenerator=w(Bi);_dialog=w($m);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new ue;_afterOpenedAtThisLevel=new ue;dialogConfigClass=Ua;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=Er(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Tn(void 0)));constructor(){this._dialogRefConstructor=Ad,this._dialogContainerType=_0,this._dialogDataToken=D0}open(n,r){let i;r=L(L({},this._defaultOptions||new Ua),r),r.id=r.id||this._idGenerator.getId("mat-mdc-dialog-"),r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(n,ie(L({},r),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:Wr,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(s,c,u)=>(i=new this._dialogRefConstructor(s,r,u),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:u},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:i}])}));return i.componentRef=o.componentRef,i.componentInstance=o.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(i);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(n){return this.openDialogs.find(r=>r.id===n)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(n){let r=n.length;for(;r--;)n[r].close()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Wm=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=He({type:e});static \u0275inj=Ue({providers:[E0],imports:[p0,Va,$r,zm,zm]})}return e})();var xd=class e{title="Destiny Chronicle";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Dt({type:e,selectors:[["app-root"]],decls:9,vars:1,consts:[[1,"min-h-screen","bg-slate-900","text-white"],[1,"bg-slate-800/95","border-b","border-slate-700"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6"],[1,"text-3xl","font-bold","text-destiny-gold"],[1,"mt-2","text-slate-300"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"]],template:function(n,r){n&1&&(B(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1",3),J(4),U(),B(5,"p",4),J(6,"Track your Destiny 1 & 2 activity history"),U()()(),B(7,"main",5),dn(8,"app-player-search"),U()()),n&2&&(X(4),Ft(r.title))},dependencies:[Vr,Jo,Wm],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background-color:var(--destiny-blue)}.text-destiny-gold[_ngcontent-%COMP%]{color:var(--destiny-gold)}.bg-slate-800\\/95[_ngcontent-%COMP%]{background-color:#1e293bf2}.border-slate-700[_ngcontent-%COMP%]{border-color:#334155}.app-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#1a1b1e;color:#fff}.app-header[_ngcontent-%COMP%]{background-color:#2a2b2e;padding:2rem;text-align:center;border-bottom:1px solid #3a3b3e}.app-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:2.5rem;color:#fff}.app-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:.5rem 0 0;color:#b3b8d1;font-size:1.2rem}.app-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}"]})};Sg(xd,PC).catch(e=>console.error(e));
